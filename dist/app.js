/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/app.css":
/*!***********************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/app.css ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `:root{
    --app-color: #a007ff;
}

.btn-primary {
    background-color: var(--app-color) !important;
    border-color: var(--app-color) !important;
}`, "",{"version":3,"sources":["webpack://./src/app.css"],"names":[],"mappings":"AAAA;IACI,oBAAoB;AACxB;;AAEA;IACI,6CAA6C;IAC7C,yCAAyC;AAC7C","sourcesContent":[":root{\r\n    --app-color: #a007ff;\r\n}\r\n\r\n.btn-primary {\r\n    background-color: var(--app-color) !important;\r\n    border-color: var(--app-color) !important;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css ***!
  \***********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.cifra-view .marcador {
    position: absolute;
    background: red;
    color: white;
    padding: 2px 10px;
    z-index: -1;
    border-radius: 4px;
    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;
}

.cifra-view b {
    color: #f70;
}

.cifra-view .titulo {
    font-size: 16px;
    font-family: Roboto;
    font-weight: bold;
    background: var(--app-color);
    border-bottom-right-radius: 7px;
    border-bottom-left-radius: 7px;
    color: #fff;
    padding: 10px;
    margin-bottom: 30px;
}`, "",{"version":3,"sources":["webpack://./src/cifra/CifraView.css"],"names":[],"mappings":"AAAA;IACI,kBAAkB;IAClB,eAAe;IACf,YAAY;IACZ,iBAAiB;IACjB,WAAW;IACX,kBAAkB;IAClB,wDAAwD;AAC5D;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,iBAAiB;IACjB,4BAA4B;IAC5B,+BAA+B;IAC/B,8BAA8B;IAC9B,WAAW;IACX,aAAa;IACb,mBAAmB;AACvB","sourcesContent":[".cifra-view .marcador {\r\n    position: absolute;\r\n    background: red;\r\n    color: white;\r\n    padding: 2px 10px;\r\n    z-index: -1;\r\n    border-radius: 4px;\r\n    transition: top 0.2s, left 0.2s, width 0.2s, height 0.2s;\r\n}\r\n\r\n.cifra-view b {\r\n    color: #f70;\r\n}\r\n\r\n.cifra-view .titulo {\r\n    font-size: 16px;\r\n    font-family: Roboto;\r\n    font-weight: bold;\r\n    background: var(--app-color);\r\n    border-bottom-right-radius: 7px;\r\n    border-bottom-left-radius: 7px;\r\n    color: #fff;\r\n    padding: 10px;\r\n    margin-bottom: 30px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/EditCifraView.css":
/*!***************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/EditCifraView.css ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.edit-cifra .editor {
    border: 1px solid #aaa;
    /* box-shadow: 0px 0px 10px rgba(0, 0, 0, .1); */
    padding: 10px;
    border-radius: 5px;
}

.edit-cifra .actions button{
    margin: 2px;
}`, "",{"version":3,"sources":["webpack://./src/cifra/EditCifraView.css"],"names":[],"mappings":"AAAA;IACI,sBAAsB;IACtB,gDAAgD;IAChD,aAAa;IACb,kBAAkB;AACtB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".edit-cifra .editor {\r\n    border: 1px solid #aaa;\r\n    /* box-shadow: 0px 0px 10px rgba(0, 0, 0, .1); */\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.edit-cifra .actions button{\r\n    margin: 2px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/NewCifraView.css":
/*!**************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/NewCifraView.css ***!
  \**************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.new-cifra .editor {
    border: 1px solid #aaa;
    /* box-shadow: 0px 0px 10px rgba(0, 0, 0, .1); */
    padding: 10px;
    border-radius: 5px;
}

.new-cifra .actions button {
    margin: 2px;
}`, "",{"version":3,"sources":["webpack://./src/cifra/NewCifraView.css"],"names":[],"mappings":"AAAA;IACI,sBAAsB;IACtB,gDAAgD;IAChD,aAAa;IACb,kBAAkB;AACtB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".new-cifra .editor {\r\n    border: 1px solid #aaa;\r\n    /* box-shadow: 0px 0px 10px rgba(0, 0, 0, .1); */\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n}\r\n\r\n.new-cifra .actions button {\r\n    margin: 2px;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/cifra/PreviewCifraView.css":
/*!******************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/cifra/PreviewCifraView.css ***!
  \******************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/getUrl.js */ "./node_modules/css-loader/dist/runtime/getUrl.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);
// Imports



var ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e */ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e"), __webpack_require__.b);
var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.preview-cifra {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-color: #01101D;
}

.preview-cifra .box {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0px;
    bottom: 0px;
    left: 0px;
    right: 0px;
}

.preview-cifra .box:before {
    position: absolute;
    content: '';
    width: calc(100% + 30px);
    height: calc(100% + 30px);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(.7);
    filter: blur(0);
    opacity: 1;
    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);
}

.preview-cifra .box:hover:before {
    transform: translate(-50%, -50%) scale(1);
    filter: blur(50px);
}

.preview-cifra .box-inner {
    position: relative;
    width: 100%;
    height: 100%;
}

.preview-cifra .box:before,
.preview-cifra .box-inner {
    background-color: #440099;
    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);
    /* border-radius: 21px; */

    background-image:
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___}),
        url(${___CSS_LOADER_URL_REPLACEMENT_0___});
    background-repeat: repeat-x;
    background-size: 1600px 50%;
    background-position: 0 130%, -50px 130%, 500px 130%;

    animation: 20s waves linear infinite forwards;
}

@keyframes waves {
    to {
        background-position: 1600px 130%, 3150px 130%, 5300px 130%;
    }
}`, "",{"version":3,"sources":["webpack://./src/cifra/PreviewCifraView.css"],"names":[],"mappings":"AAAA;IACI,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,aAAa;IACb,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,WAAW;IACX,YAAY;IACZ,QAAQ;IACR,WAAW;IACX,SAAS;IACT,UAAU;AACd;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,wBAAwB;IACxB,yBAAyB;IACzB,QAAQ;IACR,SAAS;IACT,0CAA0C;IAC1C,eAAe;IACf,UAAU;IACV,oDAAoD;AACxD;;AAEA;IACI,yCAAyC;IACzC,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,YAAY;AAChB;;AAEA;;IAEI,yBAAyB;IACzB,8CAA8C;IAC9C,yBAAyB;;IAEzB;;;+CAG4e;IAC5e,2BAA2B;IAC3B,2BAA2B;IAC3B,mDAAmD;;IAEnD,6CAA6C;AACjD;;AAEA;IACI;QACI,0DAA0D;IAC9D;AACJ","sourcesContent":[".preview-cifra {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100vh;\r\n    background-color: #01101D;\r\n}\r\n\r\n.preview-cifra .box {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0px;\r\n    bottom: 0px;\r\n    left: 0px;\r\n    right: 0px;\r\n}\r\n\r\n.preview-cifra .box:before {\r\n    position: absolute;\r\n    content: '';\r\n    width: calc(100% + 30px);\r\n    height: calc(100% + 30px);\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%) scale(.7);\r\n    filter: blur(0);\r\n    opacity: 1;\r\n    transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1);\r\n}\r\n\r\n.preview-cifra .box:hover:before {\r\n    transform: translate(-50%, -50%) scale(1);\r\n    filter: blur(50px);\r\n}\r\n\r\n.preview-cifra .box-inner {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.preview-cifra .box:before,\r\n.preview-cifra .box-inner {\r\n    background-color: #440099;\r\n    box-shadow: 2px 2px 12px 0 rgba(0, 0, 0, 0.58);\r\n    /* border-radius: 21px; */\r\n\r\n    background-image:\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\"),\r\n        url(\"data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' width='1600' height='198'%3e%3cdefs%3e%3clinearGradient id='a' x1='50%25' x2='50%25' y1='-10.959%25' y2='100%25'%3e%3cstop stop-color='%23fcc900' stop-opacity='.25' offset='0%25'/%3e%3cstop stop-color='%23fcc900' offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill='url(%23a)' fill-rule='evenodd' d='M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z'/%3e%3c/svg%3e\");\r\n    background-repeat: repeat-x;\r\n    background-size: 1600px 50%;\r\n    background-position: 0 130%, -50px 130%, 500px 130%;\r\n\r\n    animation: 20s waves linear infinite forwards;\r\n}\r\n\r\n@keyframes waves {\r\n    to {\r\n        background-position: 1600px 130%, 3150px 130%, 5300px 130%;\r\n    }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css":
/*!*************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css ***!
  \*************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.homepage .menu {
    background: var(--app-color);
    color: #fff;
    border-bottom-right-radius: 10px;
    border-bottom-left-radius: 10px;
    margin-bottom: 20px;
}

.homepage .menu a{
    color: #fff;
}`, "",{"version":3,"sources":["webpack://./src/homepage/HomePage.css"],"names":[],"mappings":"AAAA;IACI,4BAA4B;IAC5B,WAAW;IACX,gCAAgC;IAChC,+BAA+B;IAC/B,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf","sourcesContent":[".homepage .menu {\r\n    background: var(--app-color);\r\n    color: #fff;\r\n    border-bottom-right-radius: 10px;\r\n    border-bottom-left-radius: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.homepage .menu a{\r\n    color: #fff;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    options = {};
  }
  if (!url) {
    return url;
  }
  url = String(url.__esModule ? url.default : url);

  // If url is already wrapped in quotes, remove them
  if (/^['"].*['"]$/.test(url)) {
    url = url.slice(1, -1);
  }
  if (options.hash) {
    url += options.hash;
  }

  // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls
  if (/["'() \t\n]|(%20)/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }
  return url;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/pyllar/action.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/action.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAction)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./request */ "./node_modules/pyllar/request.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");






/**
 * @class
 */
class PiAction extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #request = new _request__WEBPACK_IMPORTED_MODULE_1__["default"]();
    #promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

    constructor(options) {
        super(options)

        this._load();
    }

    /**
     * Retorna a promise
     * 
     * @returns {PiPromise}
     */
    get promise() {
        return this.#promise;
    }

    /**
     * Shadow method
     */
    invoke() {
        return this._callModelMethod.apply(this, arguments);
    }

    processErrorResponse() {
        this.#promise.reject.apply(this.#promise, arguments);
    }

    processSuccessResponse(data, paging) {
        if (this._ignore_response) {
            this.#promise.resolve(this.model);
            return;
        }

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isArray(data)) {
            const arr = [];
            const promises = [];

            for (let i = 0; i < data.length; i++) {
                const model = this.model.create().initWithJson(data[i]);

                if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                    model.ok((data) => {
                        arr.push(data);
                    });

                    promises.push(model);
                } else {
                    arr.push(model);
                }
            }

            if (promises.length == 0) {
                this.#promise.resolve(arr, paging);
            } else {
                _promise__WEBPACK_IMPORTED_MODULE_2__["default"].wait(promises).ok(() => {
                    this.#promise.resolve(arr, paging);
                });
            }
        } else {
            const model = this.model.create().initWithJson(data);

            if (model instanceof _promise__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                model.ok((data) => {
                    this.#promise.resolve(data, paging);
                });
            } else {
                this.#promise.resolve(model, paging);
            }
        }
    }

    _load() {
        this._parseStmt(this.actionStmt);
        this._addModelMethod();
    }

    _addModelMethod() {
        var self = this;

        if (this._is_static) {
            this.model.constructor[this.actionName] = function () {
                const action = new PiAction({
                    actionName: self.name,
                    actionStmt: self.stmt,
                    model: self.model.clone()
                });

                const promise = action.invoke.apply(action, arguments);
                return new Promise((ok, error) => {
                    promise.ok(ok);
                    promise.error(error);
                });
            };

            return;
        }

        this.model[this.actionName] = function () {
            const promise = self.invoke.apply(self, arguments);
            return new Promise((ok, error) => {
                promise.ok(ok);
                promise.error(error);
            });
        };
    }

    _callModelMethod(...args) {
        this.#promise = new _promise__WEBPACK_IMPORTED_MODULE_2__["default"]();

        if (_type__WEBPACK_IMPORTED_MODULE_3__["default"].isObject(args[0])) {
            this.model.inject(args[0]);
        }

        if (this._method == 'GET' || this._method == 'OPTIONS') {
            this._createRequestGet.apply(this, args);
        }

        if (this._method == 'PUT' || this._method == 'POST' || this._method == 'DELETE' || this._method == 'PATH') {
            this._createRequestPost.apply(this, args);
        }

        return this.#promise;
    }

    _createRequestGet(...args) {
        let url = this._createUrl(...args);

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillGet(url);

        this.#request.getJson(url)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            })
            .catch((json) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidGet(url);
    }

    _createRequestPost(...args) {
        let url = this._createUrl(...args);
        let json = this.model.toJson();

        if (this.#request.isSending()) {
            this.#request.abort();
        }

        this.model.requestWillPost(json, url);
        this.#request.setMethod(this._method).postJson(url, json)
            .then((json) => {
                this.model.responseSuccessWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            }).catch((...args) => {
                if (args[0] instanceof TypeError) {
                    throw args[0];
                }

                this.model.responseErrorWillLoad.apply(this.model, [this, url, json.data, json.paging]);
            });

        this.model.requestDidPost(json, url);
    }

    _createUrl(...args) {
        let action = this._getAction(...args);
        let url = '';

        if (this.model.getBaseUrl() instanceof _url__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl()).path(action);
        } else {
            if (this.model.getBaseUrl().indexOf('http') > -1) {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create(this.model.getBaseUrl() + action);
            } else {
                url = _url__WEBPACK_IMPORTED_MODULE_4__["default"].create('localhost', this.model.getBaseUrl() + action);
            }
        }

        return url;
    }

    _getAction(...args) {
        let count = 0;

        return this._url.replace(/\:\w+[\(\w*\)]*/gi, (pattern) => {
            let property = pattern.substring(1);
            let modelValue = this.model[property] || '';

            if (args.length == 0) {
                return modelValue;
            } else {
                return (args[count++] || modelValue).toString();
            }
        });
    }

    _parseStmt(stmt) {
        const p = stmt.split(':/');
        const method = p[0];
        const path = p[1];

        this._is_static = false;
        if (method.indexOf('static') > -1) {
            this._is_static = true;
        }

        this._ignore_response = false;
        if (method.indexOf('~') > -1) {
            this._ignore_response = true;
        }

        this._url = path.length ? '/' + path : '';

        if (stmt.toUpperCase().indexOf('GET') > -1) {
            this._method = 'GET';
        } else if (stmt.toUpperCase().indexOf('POST') > -1) {
            this._method = 'POST';
        } else if (stmt.toUpperCase().indexOf('PUT') > -1) {
            this._method = 'PUT';
        } else if (stmt.toUpperCase().indexOf('DELETE') > -1) {
            this._method = 'DELETE';
        } else if (stmt.toUpperCase().indexOf('PATH') > -1) {
            this._method = 'PATH';
        } else if (stmt.toUpperCase().indexOf('OPTIONS') > -1) {
            this._method = 'OPTIONS';
        } else if (this._url.indexOf('?') > -1) {
            this._method = 'GET';
        } else {
            this._method = 'POST';
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/alias.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/alias.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiAs)
/* harmony export */ });
/* harmony import */ var _dictionary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dictionary */ "./node_modules/pyllar/dictionary.js");


/**
 * @class
 */
class PiAs {
    #alias = new _dictionary__WEBPACK_IMPORTED_MODULE_0__["default"]();

    /**
     * Adiciona a lista de parametros ao conjunto
     * 
     * @returns {boolean}
     */
    add() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            throw "PiAs: este apelido ja foi definido: " + arguments[0];
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Atualiza o conjunto
     * @returns {boolean}
     */
    update() {
        if (arguments.length < 2) {
            throw "PiAs: numero insulficiente de parametros";
        }

        if (this.#alias.existKey(arguments[0])) {
            this.remove(arguments[0]);
            return false;
        }

        let value = "";
        for (let i = 1; i < arguments.length; i++) {
            let as = arguments[i];

            if (this.#alias.existKey(as)) {
                value += this.#alias.getValue(as);
            } else {
                value += as;
            }
        }

        this.#alias.add(arguments[0], value);

        return true;
    }

    /**
     * Remove um item do conjunto
     * 
     * @param {string} as - Item
     * @returns {boolean}
     */
    remove(as) {
        this.#alias.remove(as);

        return this;
    }

    /**
     * Retorna se existe o item no conjunto
     * 
     * @param {string} as 
     * @returns {boolean}
     */
    exist(as) {
        return this.#alias.existKey(as);
    }

    /**
     * Retorna o valor do item
     * 
     * @param {string} as 
     * @returns {object}
     */
    getValue(as) {
        let v = this.#alias.getValue(as);

        if (this.exist(as) == false) {
            return null;
        } else if (this.#alias.existKey(v)) {
            return this.getValue(v);
        } else {
            return v;
        }
    }

};

/***/ }),

/***/ "./node_modules/pyllar/app.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/app.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiApp)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _url_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./url_hash */ "./node_modules/pyllar/url_hash.js");





if ((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().host.length == 0) {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', 'http://localhost');
} else {
    _url__WEBPACK_IMPORTED_MODULE_1__["default"].add('localhost', _url__WEBPACK_IMPORTED_MODULE_1__["default"].create((0,_env__WEBPACK_IMPORTED_MODULE_2__.location)().toString()).href());
}

/**
 * @class
 */
class PiApp extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    page = null;
    services = [];
    _totalRouteNotFound = 0;

    init(){
        super.init();

        _url_hash__WEBPACK_IMPORTED_MODULE_3__["default"].onWillChange(() => {
            this._totalRouteNotFound = 0;
        });
    }

    register() {
        for (let i = 0; i < arguments.length; i++) {
            const cpo = arguments[i];
            (0,_env__WEBPACK_IMPORTED_MODULE_2__.register)(cpo);
        }

        return this;
    }

    addServices() {
        for (let i = 0; i < arguments.length; i++) {
            const service = arguments[i];

            service.onRouteNotFound((route) => {
                this._totalRouteNotFound++;

                if (this._totalRouteNotFound == this.services.length) {
                    this.#routeNotFound(route);
                }
            });

            this.services.push(service);
        }

        return this;
    }
    
    startServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.start();
        }

        return this;
    }

    stopServices() {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            service.stop();
        }

        return this;
    }

    setPage(page) {
        if (this.page) {
            this.page.destroy();
        }

        page.render(this.element);

        this.page = page;

        return this;
    }

    getPage(){
        return this.page;
    }

    openModal(modal) {
        modal.render(this.element, true);
    }

    #routeNotFound(route) {
        for (let i = 0; i < this.services.length; i++) {
            const service = this.services[i];
            if (service.routeNotFound) {
                service.routeNotFound(route);
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/array.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/array.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiArray)
/* harmony export */ });
/**
 * @class
 * @name PiArray
 */
class PiArray {
    static addMethod(array, name, cb) {
        const cbs = [];
        if (array[name] != undefined) {
            cbs.push(cb);
            return;
        }

        Object.defineProperty(array, name, {
            enumerable: false,
            configurable: false,
            writable: false,
            value: function (...params) {
                cb.call(array, ...params);
                return this;
            }
        })
    }
};

/***/ }),

/***/ "./node_modules/pyllar/boot.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/boot.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiBoot)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");







/**
 * @class
 */
class PiBoot extends _class__WEBPACK_IMPORTED_MODULE_5__["default"] {

    createApp() {
        if ((0,_env__WEBPACK_IMPORTED_MODULE_1__.app)() == undefined) {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new _app__WEBPACK_IMPORTED_MODULE_2__["default"]();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        } else {
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app = new App();
            _env__WEBPACK_IMPORTED_MODULE_1__.global.app._scope = { context: _env__WEBPACK_IMPORTED_MODULE_1__.app };
        }

        return _env__WEBPACK_IMPORTED_MODULE_1__.global.app;
    }

    loadApp() {
        if (_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.enable')) {
            this.#createVirtualTree();
        }
    }

    #createVirtualTree() {
        const element = document.querySelector(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector'));
        if (element == null) {
            throw `PiBoot: Não foi possível encontrar o elemento pelo seletor informado ${_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.parse.selector')}`;
        }

        const root = _tree__WEBPACK_IMPORTED_MODULE_3__["default"].parse(element.innerHTML);
        element.innerHTML = '';
        element.append(root);

        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_4__["default"](element, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)()._scope, (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)());
        vtree.load();

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().element = element;
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().$element = $(element);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/bootstrap.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/bootstrap.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Bootstrap)
/* harmony export */ });
/* harmony import */ var _boot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./boot */ "./node_modules/pyllar/boot.js");
/* harmony import */ var _initialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./initialize */ "./node_modules/pyllar/initialize.js");
/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callback */ "./node_modules/pyllar/callback.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./native_element */ "./node_modules/pyllar/native_element.js");
/* harmony import */ var _native_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_native_element__WEBPACK_IMPORTED_MODULE_3__);





class Bootstrap {
    #hooks = new _callback__WEBPACK_IMPORTED_MODULE_2__["default"]();

    onInit(fn){
        this.#hooks.add('init', fn);

        return this;
    }

    onLoad(fn){
        this.#hooks.add('load', fn);

        return this;
    }

    onReady(fn){
        this.#hooks.add('ready', fn);

        return this;
    }

    async load() {
        const boot = new _boot__WEBPACK_IMPORTED_MODULE_0__["default"]();
        let app = null;

        _initialize__WEBPACK_IMPORTED_MODULE_1__["default"]
            .init(() => {
                this.#hooks.trigger('init', app);
                app = boot.createApp();
            })
            .start(() => {
                this.#hooks.trigger('load', app);
                boot.loadApp();
                this.#hooks.trigger('ready', app);
            });
        
        await _initialize__WEBPACK_IMPORTED_MODULE_1__["default"].load();
    }
}

/***/ }),

/***/ "./node_modules/pyllar/callback.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/callback.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiCallback)
/* harmony export */ });
/**
 * @class
 */
class PiCallback {
    #list = [];

    /**
     * Remove todos os listeners
     * 
     * @returns {PiCallback}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Adiciona um callback
     * 
     * @param {string} name - Nome do callback
     * @param {function} fn - Função de callback
     * @param {object} ctx - Contexto onde o callback será chamado
     * @returns {PiCallback}
     */
    add(name, fn, ctx) {
        if (this.#list[name] == null) {
            this.#list[name] = [];
        }

        this.#list[name].push({ name: name, fn: fn, ctx: ctx });

        return this;
    }

    /**
     * Remove um callback por nome
     * 
     * @param {string} name - Nome do callback
     * @returns {PiCallback}
     */
    remove(name) {
        if (!this.exist(name)) return this;

        this.#list[name] = [];

        return this;
    }

    /**
     * Verifica se existe um callback adicionado
     * 
     * @param {string} name - Nome do callback
     * @returns {boolean}
     */
    exist(name) {
        return this.#list[name] != null;
    }

    /**
     * Returna uma lista com todos os callbacks adicionado pelo nome
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    get(name) {
        if (!this.exist(name)) return [];
        return this.#list[name];
    }

    /**
     * Alias para get(name)
     * 
     * @param {string} name - Nome do callback
     * @returns {array}
     */
    findAll(name) {
        return this.get(name);
    }

    /**
     * Dispara os callback adicionados pelo nome
     * 
     * @param {string} name - Nome
     * @param  {...any} args - Lista de parametros passado para o callback
     * @returns {object}
     */
    trigger(name, ...args) {
        let arr = this.findAll(name);
        let r = undefined;

        for (let i = 0; i < arr.length; i++) {
            let item = arr[i];

            r = item.fn.apply(item.ctx, args);
        }

        return r;
    }
};

/***/ }),

/***/ "./node_modules/pyllar/class.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/class.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiClass)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



/**
 * @class
 */
class PiClass {
    #parameters = null;

    constructor(...args) {
        this.instances(...args);

        if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_1__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    instances() {

    }

    /**
     * Retorna o parametro fornecido na criação do objeto
     * 
     * @returns {object}
     */
    get parameters() {
        return this.#parameters;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    init() {

    }

    jsonWillConvert() {

    }

    /**
     * Converte o objeto em um json
     * 
     * @returns {object}
     */
    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    cloneWillLoad() {

    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }
};

/***/ }),

/***/ "./node_modules/pyllar/component.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/component.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiComponent)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event */ "./node_modules/pyllar/event.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model */ "./node_modules/pyllar/model.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _tree__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tree */ "./node_modules/pyllar/tree.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");













const $ = _env__WEBPACK_IMPORTED_MODULE_8__.global.$;

/**
 * @class
 */
class PiComponent extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    event = new _event__WEBPACK_IMPORTED_MODULE_2__["default"]();

    #vtrees = [];
    #watchs = [];
    #scope = null;
    #$element = null;
    #isParentElement = false;
    #elementId = '';

    constructor(...args) {
        super(...args);

        this.#scope = {
            context: this
        };

        this.#elementId = _random__WEBPACK_IMPORTED_MODULE_10__["default"].uuid('xx-xx');
    }

    init(...args) {
        super.init(...args);

        this._loadPromise = new _promise__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.willLoad(this._loadPromise);
    }

    /**
     * Injeta o modelo em todos os elementos de pagina com o atributo 'data-model'
     * Caso o parametro seja um json, seu valor será embutido no component
     * 
     * @param {PiModel} model - Modelo a ser injetado
     * @returns {PiComponent}
     */
    inject(model) {
        if (model instanceof _model__WEBPACK_IMPORTED_MODULE_4__["default"]) {
            const names = _string__WEBPACK_IMPORTED_MODULE_3__["default"].clips(this.view, 'data-model="', '"');
            for (let i = 0; i < names.length; i++) {
                const name = names[i];
                const element = this.element.querySelector('[data-model="' + name + '"]');
                const value = _object__WEBPACK_IMPORTED_MODULE_5__["default"].extractValue(model, name);

                if (element._hasComponent) {
                    element._component.set(value);
                } else if (element.firstChild && element.firstChild._hasComponent) {
                    element.firstChild._component.set(value);
                } else {
                    element.set(value);
                }
            }
        } else {
            super.inject(model);
        }

        return this;
    }

    /**
     * Retorna o valor que representa o component
     * 
     * @returns {string}
     */
    get() {
        return '';
    }

    /**
     * Define um valor para o component
     * Dispara o evento 'change'
     * 
     * @returns {PiComponent}
     */
    set(value) {
        if (this.element == null) {
            return this;
        }

        this.dispatchEvent('change', value);

        return this;
    }

    /**
     * Dispara um evento nativo sobre o elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {Object} param - Objeto a ser passado pelo evento
     * @returns {PiComponent}
     */
    dispatchEvent(eventName, param, newEvent = true) {
        if (this.element == null) {
            return this;
        }

        var event = param;
        if (newEvent) {
            event = new CustomEvent(eventName, {
                bubbles: true,
                cancelable: true,
                composed: false,
                detail: param,
            });
        }

        if (this.#isParentElement) {
            this.element.dispatchEvent(event);
        } else {
            this.element.parentElement.dispatchEvent(event);
        }

        return this;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $element() {
        if (this.#$element) return this.#$element;
        return this.#$element = $(this.element);
    }

    /**
     * Renderiza o elemento anexando ou inserindo no elemento
     * 
     * @param {Element} element - Elemento html onde o componente será renderizado
     * @param {boolean} append 
     * @returns {PiComponent}
     */
    render(element, append = false) {
        if (element instanceof $) {
            element = element.get(0);
        }

        this._loadPromise.once(() => {
            this.#loadAttributes(element);

            if (element.mount) {
                element.mount(this);
            }

            this.viewWillLoad();
            this.viewWillRender();
            this.viewRender(element, append);
            this.viewDidRender();
            this.#listen();
            this.viewDidLoad();

            if (element.didMount) {
                element.didMount(this);
            }

            this.element.setAttribute('data-id', this.#elementId);
        });

        return this;
    }

    get isRendered() {
        const elemento = document.querySelector(`[data-id="${this.#elementId}"]`);
        return document.contains(elemento);
    }

    willLoad(promise) {
        promise.resolve();
    }

    didLoad() {

    }

    viewWillLoad() {

    }

    viewWillRender() {

    }

    viewDidRender() {

    }

    viewRender(element, append = false) {
        if (!append) {
            element.innerHTML = '';
        }

        if (this.view) {
            const elements = this.loadView(this.view, element);

            if (elements.length == 1) {
                this.element = elements[0];
                this.#isParentElement = false;
            } else {
                this.element = element;
                this.#isParentElement = true;
            }

        } else {
            this.element = element;
        }
    }

    viewDidLoad() {

    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_5__["default"].on(this.#scope, 'context.' + property, fn)
        this.#watchs = this.#watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} property - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(property) {
        const arr = this.#watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == property) {
                _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#vtrees.length; i++) {
            const vtree = this.#vtrees[i];
            vtree.destroy();
        }
        this.#vtrees = [];

        this.#clearContextWatch();
    }

    loadView(view, element) {
        const root = _tree__WEBPACK_IMPORTED_MODULE_6__["default"].parse(view);
        const children = [];

        for (; root.childElementCount;) {
            const child = root.children[0];
            element.append(child);
            children.push(child);
        }

        this.#loadTree(children);

        return children;
    }

    #loadTree(tree) {
        const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_7__["default"](tree, this.#scope, this);
        vtree.load();
        this.#vtrees.push(vtree);
    }

    #listen() {
        if (this.element == null) {
            return this;
        }

        const self = this;
        const observer = new MutationObserver(function (mutations) {
            mutations.forEach(function (mutation) {
                if (mutation.type == 'childList') {
                    for (var i = 0; i < mutation.addedNodes.length; i++) {
                        const element = mutation.addedNodes[i];
                        self.#loadTree(element);
                    }
                }
            });
        });

        observer.observe(this.element, {
            childList: true,
            attributes: false,
            characterData: false,
            subtree: false,
            attributeOldValue: false,
            characterDataOldValue: false
        });
    }

    #clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this.#watchs.length; i++) {
            ids = ids.concat(this.#watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_5__["default"].off(this.#scope, ids);
        this.#watchs = [];
    }

    #loadAttributes(element) {
        if (element.getAttributeNames == undefined) {
            return;
        }

        const attrs = element.getAttributeNames();

        for (let i = 0; i < attrs.length; i++) {
            const name = attrs[i];
            let value = element.getAttribute(name);

            if (name.indexOf('prop-') == -1) {
                continue
            }

            if (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isString(value) && (_type__WEBPACK_IMPORTED_MODULE_0__["default"].isObject(value) || _type__WEBPACK_IMPORTED_MODULE_0__["default"].isArray(value))) {
                value = JSON.parse(value);
            }

            const cname = name.replace('prop-', '');
            this[cname] = value;
        }
    }

    static register(cpo) {
        (0,_env__WEBPACK_IMPORTED_MODULE_8__.register)(cpo);
    }
}

/***/ }),

/***/ "./node_modules/pyllar/config.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/config.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



const defaults = {
    app: {
        parse: {
            enable: true,
            selector: 'body'
        }
    },
    html: {
        loader: 'Carregando ...'
    },
    expression: {
        xlanguage: /(\{>?)([^\}]+)(\})/gi,
        xvariable: /(@)([\w\.]+)/gi,
        xhtml: /(\{>)([^\}]+)(\})/gi,
    },
    history: {
        popstate: false,
        prefixHashtag: true
    },
    services: [],
    request: {
        fetch: null
    }
};

/**
 * @class
 */
class PiConfig {
    /**
     * Define uma configuração
     * 
     * @param {string} key - Parametro da configuração
     * @param {object} value - Valor da configuração
     * @returns {PiConfig}
     */
    static set(key, value) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(defaults, key, value);

        return PiConfig;
    }

    /**
     * Retorna uma configuração
     * 
     * @param {string} key - Path da configuração
     * @returns {object||string}
     */
    static get(key) {
        return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(defaults, key);
    };

    /**
     * Carrega um conjunto de configurações
     * 
     * @param {object} settings - Objeto contendo configurações
     * @returns {PiConfig}
     */
    static load(settings) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        return PiConfig;
    }

    /**
     * Mescla a configuração atual com a nova configuração informada por parametro
     * 
     * @param {object} settings - Configuração
     * @param {object} value - Valor da configuração
     * @returns {object}
     */
    static extend(settings, value = false) {
        if (value == false) return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, settings);
        else return _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(defaults, { settings: value });
    }

};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PiConfig);

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiConfig);

/***/ }),

/***/ "./node_modules/pyllar/dictionary.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/dictionary.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiDictionary)
/* harmony export */ });
/**
 * @class
 */
class PiDictionary {
    #list = [];

    /**
     * Adiciona o par chave valor
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiDictionary}
     */
    add(key, value) {
        this.#list[key] = value;

        return this;
    }

    /**
     * Verifica se existe a chave
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    existKey(key) {
        return this.#list[key] != undefined;
    }

    /**
     * Verifica se existe o valor
     * 
     * @param {string} value - Valor
     * @returns {boolean}
     */
    existValue(value) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i] == value) return true;
        }

        return false;
    }

    /**
     * Retorna o valor
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getValue(key) {
        return this.#list[key];
    }

    /**
     * Remove a chave
     * 
     * @param {string} key - Chave
     * @returns {PiDictionary}
     */
    remove(key) {
        delete this.#list[key];

        return this;
    }

    /**
     * Limpa o dicionario
     * 
     * @returns {PiDictionary}
     */
    clear() {
        this.#list = [];

        return this;
    }

    /**
     * Convert o dicionario em array
     * 
     * @returns {array}
     */
    toArray() {
        return this.#list;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/element.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/element.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiElement)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _expression__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expression */ "./node_modules/pyllar/expression.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _virtual_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./virtual_tree */ "./node_modules/pyllar/virtual_tree.js");
/* harmony import */ var _for_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./for_directive */ "./node_modules/pyllar/for_directive.js");
/* harmony import */ var _foreach_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./foreach_directive */ "./node_modules/pyllar/foreach_directive.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./array */ "./node_modules/pyllar/array.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _promise__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./promise */ "./node_modules/pyllar/promise.js");












/**
 * @class
 */
class PiElement {
    /**
     * Constroi PiElement baseado no elemento html
     * 
     * @param {Element} element - Elemento html
     * @param {object} [scope = {context: {}}] - Classe de escopo
     */
    constructor(element, scope = { context: {} }, componentParent = null) {
        this._element = element;

        this._attrNames = element.getAttributeNames();
        this._destroyed = false;
        this._directives = [];
        this._autoBind = true;

        this._element._component = null;
        this._element._hasComponent = false;
        this._element._componentParent = componentParent;

        this._foreachContext = {};

        this._defaultVariablesNames = [];
        this._defaultVariablesValues = [];

        this._scope = scope;
        this._watchs = [];
        this._children = [];
        this._events = {
            'enter': this._eventEnter
        };

        this._orderAttributeNames();
        this._loadDirectivesBase();

        this._element._pie = true;
    }

    /**
     * 
     * @param {string} name - Adiciona propriedade ao contexto do foreach
     * @param {obj} value - Objeto associado a propriedade de contexto do foreach
     * @returns {PiElement}
     */
    addForeachContext(name, value) {
        this._foreachContext[name] = value;

        return this;
    }

    setComponent(cx) {
        this._element._hasComponent = true;
        this._element._component = cx;

        return this;
    }

    extendForeachContext(foreachContext) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this._foreachContext, foreachContext);

        return this;
    }

    /**
     * Monitora alteração sobre propriedade 
     * 
     * @param {string} propertyName - Nome da propriedade a ser monitorada
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    watch(propertyName, fn) {
        this._addContextWatch(propertyName, fn);

        return this;
    }

    /**
     * Para de monitorar uma proprieade do contexto
     * 
     * @param {string} propertyName - Nome da propriedade
     * @returns {PiElement}
     */
    unWatch(propertyName) {
        this._removeContextWatch(propertyName);

        return this;
    }

    /**
     * Carrega e analisa todas as diretivas juntamente com o template
     * 
     * @returns {PiElement}
     */
    load(wrapper) {
        this._loadDefaultVariables();
        this._runDirectives(wrapper);
        this._loadTemplate();

        return this;
    }

    _loadDefaultVariables() {
        let variablesForeachNames = Object.keys(this._foreachContext);
        let variablesForeachValues = Object.values(this._foreachContext);
        let contextPropertyNames = [];
        let contextPropertyValues = [];

        const cpo = this._element._componentParent;
        if (cpo != null) {
            contextPropertyNames = Object.getOwnPropertyNames(cpo.__proto__);
            for (let i = 0; i < contextPropertyNames.length; i++) {
                if (cpo[contextPropertyNames[i]] instanceof Function) {
                    contextPropertyValues.push(cpo[contextPropertyNames[i]].bind(cpo));
                }
            }
        }

        this._defaultVariablesNames = variablesForeachNames.concat(contextPropertyNames);
        this._defaultVariablesValues = variablesForeachValues.concat(contextPropertyValues);
    }

    /**
     * Adiciona uma directiva para um atributo do elemento
     * 
     * @param {string} name - nome da diretiva
     * @param {function} fn - Função de callback
     * @returns {this}
     */
    addDirective(name, fn) {
        this._directives[name] = fn;

        return this;
    }

    /**
     * Retorna se existe uma diretiva adicionada pelo seu nome
     * 
     * @param {string} name - Nome da diretiva
     * @returns {boolean}
     */
    existDirective(name) {
        return this._directives[name] != null;
    }

    /**
     * Retorna wrapper jquery
     * 
     * @returns {jQueryElement}
     */
    get $() {
        if (this._$element) return this._$element;
        return this._$element = $(this._element);
    }

    /**
     * Alias para listen
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    on(eventName, fn, ...args) {
        return this.listen(eventName, fn, ...args);
    }

    _eventEnter(fn, ...args) {
        this._element.addEventListener('keyup', (e) => {
            if (e.keyCode == 13) {
                fn.apply(this, [e, ...args]);
            }
        });
    }

    _eventDefault(eventName, fn, ...args) {
        this._element.addEventListener(eventName, (e) => {
            fn.apply(this, [e, ...args]);
        });
    }

    /**
     * Adiciona um callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @param  {...any} args - Argumentos enviados ao callback quando ocorrer o evento
     * @returns {PiElement}
     */
    listen(eventName, fn, ...args) {
        const event = this._events[eventName];

        if (event) {
            event.call(this, fn, ...args);
        } else {
            this._eventDefault(eventName, fn, ...args);
        }

        return this;
    }

    /**
     * Alias para unlisten
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    off(eventName, fn) {
        return this.unlisten(eventName, fn);
    }

    /**
     * Remove callback sobre um evento do elemento
     * 
     * @param {string} eventName - Nome do evento
     * @param {function} fn - Função de callback
     * @returns {PiElement}
     */
    unlisten(eventName, fn) {
        this._element.removeEventListener(eventName, fn);

        return this;
    }

    _dispose() {
        if (this._destroyed) {
            return;
        }

        this._destroyed = true;
        this._element.remove();

        for (let i = 0; i < this._children.length; i++) {
            this._children[i].destroy();
        }
        this._children = [];

        return this;
    }

    /**
     * Remove elemento do DOM
     * 
     * @returns {PiElement}
     */
    destroy() {
        if (this._destroyed) {
            return;
        }

        this._dispose();
        this._clearContextWatch();

        return this;
    }

    /**
     * Insere elemento depois
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertBefore(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextElementSibling);

        return this;
    }

    /**
     * Insere elemento antes
     * 
     * @param {PiElement} element - Elemento a ser inserido
     * @returns {PiElement}
     */
    insertAfter(element) {
        this._element.parentNode.insertBefore(element._element, this._element.nextSibling);

        return this;
    }

    /**
     * Adiciona um elemento 
     * 
     * @param {PiElement} element 
     * @returns {PiElement}
     */
    append(element) {
        this._element.parentNode.append(element._element);

        return this;
    }

    /**
     * Executa uma statement dentro do contexto sempre que o evento associado for disparado
     * 
     * @param {string} statement - Statement executada sempre que o ocorrer o evento
     * @param {strin} event - Nome do evento a ser observado
     * @returns {PiElement}
     */
    addEventStatement(statement, _, event) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen(event, function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    setChangeDirective(statement) {
        const expression = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](statement);

        this.listen('change', function (e) {
            const ctx = this._getContext();
            const variables = this._getDefaultVariables();

            variables[0].push('$event');
            variables[1].push(e);

            const stmt = expression.parse(ctx, variables);

            return _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(stmt, variables, ctx);
        });

        return this;
    }

    /**
     * Retorna o valor do elemento
     * 
     * @returns {string|number|boolean}
     */
    get value() {
        const e = this._element;

        if (e instanceof HTMLInputElement && e.type == 'checkbox') {
            return e.checked;
        }

        if (e instanceof HTMLInputElement && e.type == 'radio') {
            return e.checked;
        }

        return e.value;
    }

    /**
     * Define o valor do elemento
     * 
     * @param {string|boolean} value - Valor
     * @returns {PiElement}
     */
    set value(value) {
        const e = this._element;

        if (e instanceof HTMLInputElement && (e.type == 'checkbox' || e.type == 'radio')) {
            e.checked = value;
            return this;
        }

        e.value = value;

        return this;
    }

    /**
     * Adiciona um vinculo de direção dupla entre uma propriedade do contexto e o elemento virtual
     * 
     * @param {string} propertyName - Nome da propriedade do contexto que será vinculada ao elemento
     * @param {string} eventName - Nome da propriedade do contexto que será vinculada ao elemento
     * @returns {PiElement}
     */
    addBind(propertyName, _, eventName) {
        if (propertyName == null || propertyName.length == 0) {
            return;
        }

        this._addBindToElementContext(propertyName, eventName);

        return this;
    }

    /**
     * Retorna verdadeiro se o elemento estiver destruido
     * 
     * @returns {boolean}
     */
    get isDestroyed() {
        return this._destroyed;
    }

    /**
     * Define uma expression de inicialização
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setInitDirective(expression) {
        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const stmt = ex.parse(ctx, defaultVariables);

        _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);

        return this;
    }

    /**
     * Adiciona bind fullduplex do elemento a propriedade da model
     * 
     * @param {string} propertyName - Nome da propriedade da model que será vinculada ao elemento
     * @returns {PiElement}
     */
    setModelDirective(propertyName) {
        let event = 'change';

        if (this._element instanceof HTMLInputElement) {
            event = 'keyup';
        }

        this._addBindToElementContext(propertyName, event);

        return this;
    }

    /**
     * Define o valor do elemento baseado em uma expression language avaliada dentro do contexto do elemento
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setValueDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();

        this.value = ex.parse(ctx, this._getDefaultVariables());

        return this;
    }

    /**
     * Define se o elemento terá o atributo 'selected' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setSelectedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value === true || value === "true") {
            this._element.setAttribute('selected', true);
        } else {
            this._element.removeAttribute('selected');
        }

        return this;
    }

    setCheckedDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.checked = value == 'true';

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.checked = value == 'true';
                });
            }
        }
    }

    setSrcDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const ctx = this._getContext();
        const variables = ex.variables;
        let value = ex.parse(ctx, this._getDefaultVariables());

        this._element.setAttribute('src', value);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    value = ex.parse(ctx, this._getDefaultVariables());

                    this._element.setAttribute('src', value);
                });
            }
        }
    }

    setConditionalDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        const variables = ex.variables;

        this._updateConditional(ex);

        if (variables.length > 0) {
            for (let i = 0; i < variables.length; i++) {
                const variable = variables[i];
                this._addContextWatch(variable, () => {
                    this._updateConditional(ex);
                });
            }
        }
    }

    /**
     * Define se o elemento terá o atributo 'disabled' baseado na expression language
     * 
     * @param {string} expression - Expressão a ser avaliada dentro do contexto
     * @returns {PiElement}
     */
    setDisabledDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
        this._updateDisabled(ex);

        for (let i = 0; i < ex.variables.length; i++) {
            const variableName = ex.variables[i];

            this._addContextWatch(variableName, () => {
                this._updateDisabled(ex);
            });
        }

        return this;
    }

    /**
     * Define a manipulação do estilo do elemento por meio de uma expression language
     * 
     * @param {string} expression 
     * @returns {PiElement}
     */
    setStyleDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionStyle = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateStyle();

        const variableNames = this._expressionStyle.variables;
        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];

            this._addContextWatch(variableName, () => {
                this._updateStyle();
            });
        }

        return this;
    }

    /**
     * Define a manipulação das classes do elemento por meio de uma expression language
     * 
     * @param {string} expression
     * @returns {PiElement}
     */
    setClassDirective(expression) {
        if (this._destroyed) {
            return this;
        }

        this._expressionClass = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);

        this._updateClass();

        const variables = this._expressionClass.variables;
        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];

            this._addContextWatch(v, () => {
                this._updateClass();
            });
        }

        return this;
    }

    setForDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const forDirective = new _for_directive__WEBPACK_IMPORTED_MODULE_4__["default"](_stmt);
        const attrNodes = this._getPiAttributeNodes([':for']);

        let nodes = [];
        let refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        forDirective
            .loop((ixn, index) => {
                const cpoParent = this._element.componentParent;
                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;
                newElement.addForeachContext(ixn, index);
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(newElement);
            })
            .end(() => {
                for (let i = nodes.length - 1; i >= 0; i--) {
                    const newNode = nodes[i]._element;
                    refNode.parentNode.insertBefore(newNode, refNode.nextSibling);
                }
            })
            .run();

        if (exp.variables.length > 0) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, (value) => {
                    for (let i = 0; i < nodes.length; i++) {
                        nodes[i].destroy();
                    }

                    nodes = [];
                    forDirective.run(value);
                });
            }
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this._dispose();

        return this;

    }

    /**
     * Define a diretiva foreach do elemento
     * 
     * @param {stmt} stmt - Declaração foreach
     * @returns {PiElement}
     */
    setForEachDirective(stmt) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](stmt);
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();
        const _stmt = exp.parse(ctx, variables);
        const foreach = new _foreach_directive__WEBPACK_IMPORTED_MODULE_5__["default"](_stmt);
        const propertyName = foreach.objectInterableName;
        const attrNodes = this._getPiAttributeNodes([':foreach']);
        let array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);

        if (array == undefined) {
            array = (0,_env__WEBPACK_IMPORTED_MODULE_7__.findClass)(propertyName);
        }

        if (array == undefined) {
            array = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._foreachContext, propertyName);
        }

        if (array == undefined) {
            throw `ForEach: propriedade não encontrada '${propertyName}'`;
        }

        let nodes = [];
        let currentElements = [];

        var refNode = document.createTextNode('');
        this._element.parentNode.insertBefore(refNode, this._element.nextSibling);

        foreach
            .loop((arr, index, vn, ixn) => {
                const cpoParent = this._element._componentParent;
                const foreachPropertyName = vn;
                const forearchProperyValue = array[index];
                const forearchIndexName = ixn;

                this._setAttributeNodes(attrNodes);

                const clonedElement = this._element.cloneNode(true);
                const newElement = new PiElement(clonedElement, this._scope, cpoParent);
                newElement.extendForeachContext(this._foreachContext);
                newElement._autoBind = false;

                newElement.addForeachContext(foreachPropertyName, forearchProperyValue);
                if (forearchIndexName) {
                    newElement.addForeachContext(forearchIndexName, index);
                }
                newElement.load(cpoParent);

                const vtree = new _virtual_tree__WEBPACK_IMPORTED_MODULE_3__["default"](clonedElement.children, this._scope, cpoParent);
                vtree.hook('did:create:velement', (ve) => {
                    newElement._children.push(ve);
                    ve.extendForeachContext(newElement._foreachContext);
                });
                vtree.load();

                nodes.push(clonedElement);
                currentElements.push(newElement);
            })
            .end(() => {
                for (let i = 0; i < nodes.length; i++) {
                    const newNode = nodes[i];
                    refNode.parentNode.insertBefore(newNode, refNode);
                }

                nodes = [];
            }).
            run(array);

        const splice = function (array, index, deleteCount, ...items) {
            if (deleteCount > 0) {
                const length = index + deleteCount > currentElements.length ? currentElements.length : index + deleteCount;

                // destroy os elementos
                for (let i = index; i < length; i++) {
                    currentElements[i].destroy();
                }

                Array.prototype.splice.call(array, index, deleteCount);
                currentElements.splice(index, deleteCount);
            }

            if (items.length > 0) {
                Array.prototype.splice.call(array, index, 0, ...items);
                foreach.run(array, index);
            }

            return array;
        };

        if (_type__WEBPACK_IMPORTED_MODULE_8__["default"].isArray(array)) {

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'load', function (array, index = 0) {
                splice(this, index, 0, ...array);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'add', function (item) {
                splice(this, this.length, 0, item);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'clear', function () {
                splice(this, 0, this.length);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'remove', function (index) {
                splice(this, index, 1);

                return this;
            });

            _array__WEBPACK_IMPORTED_MODULE_6__["default"].addMethod(array, 'reload', function () {
                for (let i = 0; i < this.length; i++) {
                    currentElements[i].destroy();
                }
                currentElements = [];

                foreach.run(this, 0);
            });
        }

        this._element.parentElement.dispatchEvent(new CustomEvent('fordone', {
            bubbles: true,
            cancelable: true,
            composed: false,
        }));

        this.destroy();

        return this;
    }

    setRenderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        let fn;
        if (create.name == directiva) {
            fn = new create();
        } else if (create.call) {
            fn = create.call(context);
        } else {
            fn = create;
        }

        this._loadLoader();

        if (fn instanceof Promise) {
            fn.then((c) => {
                this.setComponent(c);
                c.render(this._element);
            });
        } else if (fn instanceof _promise__WEBPACK_IMPORTED_MODULE_10__["default"]) {
            fn.ok((c) => {
                this.setComponent(c);
                c.render(this._element);
            })
        } else {
            this.setComponent(fn);
            fn.render(this._element);
        }
    }

    _getValueFromDefaultVariables(name) {
        const { defaultNames, defaultValues } = this._getDefaultVariables();

        for (let i = 0; i < defaultNames.length; i++) {
            const vname = defaultNames[i];
            if (vname == name) {
                return defaultValues[i];
            }
        }

        return null;
    }

    _getDefaultVariables() {
        const self = this._element._component || this._element._componentParent;
        const elementValue = this._element.get ? this._element.get() : '';
        const variablesNames = ['$this', '$element', '$value'];
        const variablesValues = [self, this._element, elementValue];

        this._loadDefaultVariables();
        (0,_env__WEBPACK_IMPORTED_MODULE_7__.getClasses)().forEach(c => { variablesNames.push(c.name); variablesValues.push(c) });

        return [this._defaultVariablesNames.concat(variablesNames), this._defaultVariablesValues.concat(variablesValues)];
    }

    _addBindToElementContext(propertyName, eventName) {
        let isChangePropertyByEvent = false;

        const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
        this._element.set(value);

        this._addContextWatch(propertyName, () => {
            if (isChangePropertyByEvent) {
                return;
            }

            const value = _object__WEBPACK_IMPORTED_MODULE_0__["default"].extractValue(this._scope, 'context.' + propertyName);
            this._element.set(value);

            this._updateView();
        });

        if (eventName !== false) {
            this.listen(eventName, function () {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, this.value);
                isChangePropertyByEvent = false;
            });
        } else {
            this.listen('change', function (e) {
                isChangePropertyByEvent = true;
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].setProperty(this._scope.context, propertyName, e.detail);
                isChangePropertyByEvent = false;
            });
        }

        return this;
    }

    _getPiAttributeNodes(excepts = []) {
        const attrs = [];

        for (let i = 0; i < this._attrNames.length; i++) {
            const name = this._attrNames[i];
            const firstCharacter = name[0];

            if (excepts.indexOf(name) == -1 && (firstCharacter == ':' || firstCharacter == '#' || firstCharacter == '@')) {
                attrs.push(this._element.getAttributeNode(name));
            }
        }

        return attrs;
    }

    _setAttributeNodes(attrNodes = []) {
        for (let i = 0; i < attrNodes.length; i++) {
            const attrNode = attrNodes[i];
            if (attrNode == null) {
                continue;
            }
            this._element.setAttributeNode(attrNode);
        }

        return this;
    }

    setMountDirective(expression) {
        this._element.mount = (component) => {
            const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
            const ctx = this._getContext();
            const defaultVariables = this._getDefaultVariables();
            const stmt = ex.parse(ctx, defaultVariables);
            defaultVariables['$this'] = component;

            _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables('this.' + stmt, defaultVariables, ctx);
        };

        return this;
    }

    setDidMountDirective() {

    }

    setWillMountDirective() {

    }

    setForEndValueDirective(expression, propName, eventName, context) {
        if (eventName == 'value' || eventName == 'setValue') {
            this.listen(propName, function (e) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](expression);
                const ctx = this._getContext();
                const defaultVariables = this._getDefaultVariables();
                this.value = ex.parse(ctx, defaultVariables);
            });
            return;
        }
    }

    _loadDirectivesBase() {
        this.addDirective('for', this.setForDirective);
        this.addDirective('foreach', this.setForEachDirective);
        this.addDirective('loader', this.setLoaderDirective);
        this.addDirective('class', this.setClassDirective);
        this.addDirective('style', this.setStyleDirective);
        this.addDirective('init', this.setInitDirective);
        this.addDirective('bind', this.addBind);
        this.addDirective('on', this.addEventStatement);
        this.addDirective('value', this.setValueDirective);
        this.addDirective('selected', this.setSelectedDirective);
        this.addDirective('disabled', this.setDisabledDirective);
        this.addDirective('if', this.setConditionalDirective);
        this.addDirective('model', this.setModelDirective);
        this.addDirective('change', this.setChangeDirective);
        this.addDirective('src', this.setSrcDirective);
        this.addDirective('checked', this.setCheckedDirective);
        this.addDirective('mount', this.setMountDirective);
        this.addDirective('render', this.setRenderDirective);
        this.addDirective('forend', this.setForEndValueDirective);
        this.addDirective('fordone', this.setForEndValueDirective);
    }

    setLoaderDirective(directiva, propName, eventName, context) {
        const ctx = this._getContext();
        const variables = this._getDefaultVariables();

        const create = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(directiva, variables, ctx);
        if (create.name == directiva) {
            const loader = new create();
            loader.render(this._element);
        } else if (create.call) {
            const loader = create.call(context);
            loader.render(this._element);
        } else {
            create.render(this._element);
        }

        this._hasLoader = true;
    }

    _loadLoader() {
        if (this._hasLoader == undefined) {
            const loader = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('html.loader');
            let html = loader;

            if (loader.constructor.name == 'Function') {
                html = loader();
            }

            this._element.innerHTML = html;
        }
    }

    _(context) {
        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }
    }

    _createExpression(value, node) {
        const exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](value);
        node._piex = exp;

        if (this._autoBind) {
            for (let i = 0; i < exp.variables.length; i++) {
                const variableName = exp.variables[i];
                this._addContextWatch(variableName, () => {
                    this._updateView();
                });
            }
        }
    }

    _loadTemplate() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        const xhtml = _config__WEBPACK_IMPORTED_MODULE_9__["default"].get('expression.xhtml');

        for (let i = 0; i < nodes.length; i++) {
            let node = nodes[i];
            let value = node.nodeValue;
            if (value && xhtml.test(value)) {
                const el = document.createElement('span');
                el.innerHTML = value;

                node.parentNode.insertBefore(el, node.nextSibling);

                this._element.removeChild(node);
                this._createExpression(value, el);

                i--;
                continue;
            }

            if (value && value.indexOf('{') > -1 && node instanceof Text) {
                this._createExpression(value, node);
            }
        }

        this._updateView();
    }

    _updateConditional(ex) {
        const ctx = this._getContext();
        const defaultVariables = this._getDefaultVariables();
        const value = _statement__WEBPACK_IMPORTED_MODULE_2__["default"].execWithVariables(ex.parse(ctx, defaultVariables), defaultVariables, ctx);
        const nextElement = this._element.nextElementSibling;

        if (nextElement && nextElement.hasAttribute(':else')) {
            nextElement.__pielse = true;
            nextElement.removeAttribute(':else');
        }

        const hasElse = nextElement && nextElement.__pielse;

        if (value) {
            this.$.show();

            if (hasElse) {
                $(nextElement).hide();
            }
        } else {
            this.$.hide();

            if (hasElse) {
                $(nextElement).show();
            }
        }
    }

    _updateDisabled(ex) {
        const ctx = this._getContext();
        const value = ex.parse(ctx, this._getDefaultVariables());

        if (value == 'true' || value === true) {
            this._element.setAttribute('disabled', true);
        } else {
            this._element.removeAttribute('disabled');
        }
    }

    _updateView() {
        if (this._destroyed) {
            return;
        }

        const nodes = this._element.childNodes;
        for (let i = 0; i < nodes.length; i++) {
            const node = nodes[i];
            if (node._piex) {
                const text = node._piex.parse(this._getContext(), this._getDefaultVariables());
                if (node instanceof Text) {
                    node.nodeValue = text;
                } else {
                    node.innerHTML = text;
                }

            }
        }
    }

    _updateStyle() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionStyle) {
            const styleInline = this._expressionStyle.parse(this._getContext(), this._getDefaultVariables());
            const styles = styleInline.split(';');

            for (let i = 0; i < styles.length; i++) {
                const style = styles[i].split(':');
                if (style.length != 2) {
                    continue;
                }

                const styleName = style[0].trim();
                const styleValue = style[1].trim();

                this.$.css(styleName, styleValue);
            }
        }
    }

    _updateClass() {
        if (this._destroyed) {
            return;
        }

        if (this._expressionClass) {
            const classList = this._expressionClass.parse(this._getContext(), this._getDefaultVariables()).trim();
            if (classList == this._element.className) {
                return
            }

            this._element.className = '';
            if (classList.length > 0) {
                this._element.classList.add(...classList.split(' ').filter(e => e !== ''));
            }
        }
    }

    _orderAttributeNames(){
        let i = this._attrNames.indexOf('foreach');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('foreach');
        }

        i = this._attrNames.indexOf('for');
        if (i > -1) {
            this._attrNames.splice(i, 1);
            this._attrNames.unshift('for');
        }
    }

    _runDirectives(wrapper) {
        if (this._destroyed) {
            return;
        }

        for (let i = 0; i < this._attrNames.length; i++) {
            const attrName = this._attrNames[i];
            const attrValue = this._element.getAttribute(attrName);
            const { propName, eventName } = this._extractPiAttributeNameAndProperty(attrName);

            if (this.existDirective(propName)) {
                this._element.removeAttribute(attrName);
                this._directives[propName].call(this, attrValue, propName, eventName, wrapper);
                continue;
            }

            if (propName == 'foreach') {
                return;
            }

            if (propName == 'for') {
                return;
            }

            if (attrName.indexOf('#') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const value = ex.parse(this._getContext(), this._getDefaultVariables());
                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);
                continue;
            }

            if (attrName.indexOf(':') == 0) {
                const ex = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](attrValue);
                const ctx = this._getContext();
                const variables = ex.variables;
                let value = ex.parse(ctx, this._getDefaultVariables());

                if (value) {
                    this._element.setAttribute(attrName.substr(1), value);
                }

                this._element.removeAttribute(attrName);

                if (variables.length > 0) {
                    for (let i = 0; i < variables.length; i++) {
                        const variable = variables[i];
                        this._addContextWatch(variable, () => {
                            value = ex.parse(ctx, this._getDefaultVariables());

                            this._element.setAttribute(attrName.substr(1), value);
                        });
                    }
                }

                continue;
            }
        }
    }

    _extractPiAttributeNameAndProperty(attribute) {
        let propName = '';
        let eventName = false;

        if (attribute.indexOf('@') > -1) {
            propName = 'on';
            eventName = attribute.replace('@', '');

            const nameAndEvent = eventName.split(':');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        } else if (attribute.indexOf(':') > -1) {
            propName = attribute.replace(':', '');

            const nameAndEvent = propName.split('.');
            if (nameAndEvent.length > 1) {
                propName = nameAndEvent[0];
                eventName = nameAndEvent[1];
            }
        }

        return { propName, eventName };
    }

    _getContext() {
        return this._scope.context;
    }

    _clearContextWatch() {
        let ids = [];

        for (let i = 0; i < this._watchs.length; i++) {
            ids = ids.concat(this._watchs[i].ids);
        }

        _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, ids);
        this._watchs = [];
    }

    _addContextWatch(property, fn) {
        const ids = _object__WEBPACK_IMPORTED_MODULE_0__["default"].on(this._scope, 'context.' + property, fn)
        this._watchs = this._watchs.concat({
            property: property,
            ids: ids
        });

        return this;
    }

    _removeContextWatch(propertyName) {
        const arr = this._watchs;

        for (let i = 0; i < arr.length; i++) {
            if (arr[i].property == propertyName) {
                _object__WEBPACK_IMPORTED_MODULE_0__["default"].off(this._scope, arr[i].ids);
                break;
            }
        }

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/env.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/env.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ $),
/* harmony export */   app: () => (/* binding */ app),
/* harmony export */   findClass: () => (/* binding */ findClass),
/* harmony export */   getClasses: () => (/* binding */ getClasses),
/* harmony export */   global: () => (/* binding */ global),
/* harmony export */   location: () => (/* binding */ location),
/* harmony export */   register: () => (/* binding */ register),
/* harmony export */   setLocation: () => (/* binding */ setLocation)
/* harmony export */ });
/***
 * Copyright Manoel Neco 2022, Todos os direitos reservados
 *
 * @autor: Manoel Neco
 * @create: 2012-present
 * @version: v11.2.6-beta
 */

const global = window;
const components = [];

function registerObject(name, obj) {
    obj.name = name;
    components.push(obj);
}

function register(name, obj) {
    if (name != null && name.constructor.name == 'String' && obj != null) {
        registerObject(name, obj);
        return;
    }

    for (let i = 0; i < arguments.length; i++) {
        let obj = arguments[i];
        const cName = obj.constructor.name;

        if (findClass(obj) == undefined) {
            if (cName == 'Function' || cName == 'Object') {
                obj = Object.freeze(obj);
            }

            components.push(obj);
        }
    }
}

function getClasses() {
    return components;
}

function findClass(cName) {
    return components.find(c => c.name == cName || (c.constructor && c.constructor.name == cName));
}

function app() {
    return global.app;
}

function location() {
    return global.location;
}

function setLocation(url) {
    global.location = url;
}

function $() {
    return global.$
}



/***/ }),

/***/ "./node_modules/pyllar/event.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/event.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiEvent)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");


/**
 * @class
 */
class PiEvent {
    #list = [];

    /**
     * Adiciona um evento para ser observado
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @param {boolean} once - Se o callback deverá ser chamado apenas uma vez
     * @returns {PiEvent}
     */
    listen(event, callback, ctx, once = false) {
        const uuid = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xx');
        callback.id = uuid;

        this.#list.push({ uuid: uuid, event: event, cb: callback, ctx: ctx, once: once });

        return uuid;
    }

    /**
     * Deixa de observar um evento
     * 
     * @param {string} event - Nome do evento
     * @param {function} cb - Callback
     * @returns {PiEvent}
     */
    unlisten(event, cb = '*') {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            let item = this.#list[i];
            if (item.event == event) {
                if (cb === item.uuid) {
                    this.#list.splice(i, 1);
                    break;
                }

                if (cb == '*' || cb.id == item.cb.id) {
                    this.#list.splice(i, 1);
                    i--;
                }
            }
        }

        return this;
    }

    /**
     * Adiciona um evento para ser observado apenas uma vez
     * 
     * @param {string} event - Nome do evento
     * @param {function} callback - Callback
     * @param {object} ctx - Contexto do callback
     * @returns {PiEvent}
     */
    once(event, callback, ctx) {
        return this.listen(event, callback, ctx, true);
    }

    /**
     * Dispara os callback associados ao evento
     * 
     * @param {string} event - Nome do evento
     * @param  {...any} args - Parametros enviados ao callback do evento
     * @returns {PiEvent}
     */
    trigger(event, ...args) {
        let eventsOnce = [];

        for (let i = 0; i < this.#list.length; i++) {
            if (this.#list[i].event == event) {
                let item = this.#list[i];
                item.cb.apply(item.ctx, args);

                if (item.once) {
                    eventsOnce.push(item);
                }
            }
        }

        for (let i = eventsOnce.length - 1; i >= 0; i--) {
            this.unlisten(eventsOnce[i].event, eventsOnce[i].cb);
        }

        return this;
    }

    /**
     * Verifica se foi adicionado um evento
     * 
     * @param {string} event - Nome do evento
     * @returns {boolean}
     */
    exist(event) {
        for (let i = this.#list.length - 1; i >= 0; i--) {
            if (this.#list[i].event == event) return true;
        }

        return false;
    }

    reseed(name, event) {
        if (name instanceof PiEvent) {
            this._reseedAll(event);
            return this;
        }

        this.listen(name, function() {
            event.trigger.call(event, name, ...arguments);
        });

        return this;
    };

    _reseedAll(event){
        for (let i = this.#list.length - 1; i >= 0; i--) {
            const eventName = this.#list[i].event;
            this.reseed(eventName, event);
        }
    }

    /**
     * Remove todos os eventos
     * 
     * @returns {PiEvent}
     */
    clear() {
        this.#list = [];

        return this;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/expression.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/expression.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiExpression)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _statement__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./statement */ "./node_modules/pyllar/statement.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helpers */ "./node_modules/pyllar/helpers.js");






const hps = _helpers__WEBPACK_IMPORTED_MODULE_4__.helpers;

/**
 * @class
 */
class PiExpression {

    /**
     * 
     * @param {string} template - Template base
     */
    constructor(template) {
        this._template = template;

        this._rxExpression = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xlanguage');
        this._rxVariable = _config__WEBPACK_IMPORTED_MODULE_0__["default"].get('expression.xvariable');

        this._load();
    }

    setDelimiters(pattern){
        this._rxExpression = pattern;

        return this;
    }

    /**
     * Retorna todas as expressões encontradas no template base
     * 
     * @returns {array}
     */
    get all() {
        const expressions = [];

        for (let i = 0; i < this._expressions.length; i++) {
            expressions.push(this._clear(this._expressions[i].value));
        }

        return expressions;
    }

    /**
     * Retorna todas as variáveis encontradas dentro das expressões
     * 
     * @returns {array}
     */
    get variables() {
        if (this._variables == undefined) {
            this._variables = this._extractAllVariables();
        }

        return this._variables;
    }

    /**
     * Retorna resultado do template parseado com o contexto informado
     * 
     * @param {object} context 
     * @returns {string}
     */
    parse(context, variables = [[], []]) {
        let expressions = this._expressions;
        let phrase = this._phrase;

        const contextPropertyNames = Object.keys(context);
        const contextPropertyValues = Object.values(context);

        for (let i = 0; i < contextPropertyValues.length; i++) {
            const value = contextPropertyValues[i];
            if (value instanceof Function) {
                contextPropertyValues[i] = value.bind(context);
            }
        }

        variables[0] = contextPropertyNames.concat(variables[0]);
        variables[1] = contextPropertyValues.concat(variables[1]);

        for (let i = 0; i < hps.all.length; i++) {
            const hook = hps.all[i];

            variables[0].push(hook[0]);
            variables[1].push(hook[1]);
        }

        for (let i = 0; i < expressions.length; i++) {
            const expression = expressions[i];
            const stmt = this._clear(expression.value);

            let value = _statement__WEBPACK_IMPORTED_MODULE_1__["default"].execWithVariables(stmt, variables, context);

            if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isNumber(value) && value == 0) {
                value = '0';
            } else if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isObject(value)) {
                value = JSON.stringify(value);
            }

            phrase = phrase.replace(expression.key, _type__WEBPACK_IMPORTED_MODULE_2__["default"].isBoolean(value) ? value : value || '');
        }

        return phrase;
    }

    _load() {
        var { phrase, expressions } = this._extractPhraseAndExpressions();
        this._phrase = phrase;
        this._expressions = expressions;
    }

    _clear(expression) {
        expression = expression.replace(this._rxExpression, function (_, dbegin, body, dend) {
            return body;
        });

        expression = expression.replace(this._rxVariable, function (_, dbegin, body, dend) {
            return body;
        });

        return expression.trim();
    }

    _extractPhraseAndExpressions() {
        var expressions = [];
        var counter = 1;
        var phrase = this._template.replace(this._rxExpression, function (expressionFounded) {
            const variable = `_$${counter++}_`;

            expressions.push({
                value: expressionFounded,
                key: variable
            });

            return variable;
        });

        return { phrase, expressions };
    }

    _extractAllVariables() {
        var variables = this._template.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariables(expression) {
        var variables = expression.match(this._rxVariable) || [];

        for (let i = 0; i < variables.length; i++) {
            const v = variables[i];
            variables[i] = v.substr(1);
        }

        return variables;
    }

    _extractVariablesValues(variableNames, context) {
        const variables = [];

        for (let i = 0; i < variableNames.length; i++) {
            const name = variableNames[i];

            variables.push(_object__WEBPACK_IMPORTED_MODULE_3__["default"].extractValue(context, name));
        }

        return variables;
    }

}

/***/ }),

/***/ "./node_modules/pyllar/for_directive.js":
/*!**********************************************!*\
  !*** ./node_modules/pyllar/for_directive.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForDirective)
/* harmony export */ });
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


const stmtRange1 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*\)$/gi;
const stmtRange2 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtRange3 = /^(\w+)\s+in\s+range\(\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/gi;
const stmtLiteral = /^(\w+)\s+in\s+([0-9]+)$/gi;
const stmtProperty = /^(\w+)\s+in\s+(\w+)$/gi;

class PiForDirective {
    constructor(stmt) {
        this._stmt = stmt;

        this._iterableCount = null;
        this._iterableProperty = null;
        this._iterableStart = 0;
        this._iterableStep = 1;
        this._indexName = null;
        this._loop = null;
        this._end = null;

        this._load();
    }

    get objectInterableName() {
        return this._iterableProperty;
    }

    loop(fn) {
        this._loop = fn;

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    run(count = null) {
        let length = 0;

        if (count != null) {
            length = count;
        } else if (this._iterableCount) {
            length = this._iterableCount;
        }

        if (this._iterableStep < 0) {
            for (let i = this._iterableCount - this._iterableStart; i >= 0; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        } else {
            for (let i = this._iterableStart; i < length; i += this._iterableStep) {
                this._loop(this._indexName, i);
            }
        }

        this._end();

        return this;
    }

    _loadNumber(n) {
        const number = parseInt(n);
        const isNumber = _type__WEBPACK_IMPORTED_MODULE_0__["default"].isNumber(number);

        if (isNumber) {
            this._iterableCount = number;
            this._iterableProperty = null;
        } else {
            this._iterableCount = null;
            this._iterableProperty = n;
        }
    }

    _load() {
        if (stmtRange1.test(this._stmt)) {
            this._loadForRange1();
        } else if (stmtRange2.test(this._stmt)) {
            this._loadForRange2();
        } else if (stmtRange3.test(this._stmt)) {
            this._loadForRange3();
        } else if (stmtLiteral.test(this._stmt)) {
            this._loadForLiteral();
        } else if (stmtProperty.test(this._stmt)) {
            this._loadForProperty();
        } else {
            throw `PiForDirective: Statement inválida para laço for = ${this._stmt}. Padrão esperado: (variável in literal) ou (variável in range(total[, inicio[, passo]]))`;
        }
    }

    _loadForRange1() {
        this._stmt.replace(stmtRange1, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForRange2() {
        this._stmt.replace(stmtRange2, (stmt, indexName, propertyName, start) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);

            return stmt;
        });
    }

    _loadForRange3() {
        this._stmt.replace(stmtRange3, (stmt, indexName, propertyName, start, step) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;
            this._iterableStart = parseInt(start);
            this._iterableStep = parseInt(step);

            return stmt;
        });
    }

    _loadForProperty() {
        this._stmt.replace(stmtProperty, (stmt, indexName, propertyName) => {
            this._loadNumber(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }

    _loadForLiteral() {
        this._stmt.replace(stmtLiteral, (stmt, indexName, propertyName) => {
            this._iterableCount = parseInt(propertyName);
            this._indexName = indexName;

            return stmt;
        });
    }
};

/***/ }),

/***/ "./node_modules/pyllar/foreach_directive.js":
/*!**************************************************!*\
  !*** ./node_modules/pyllar/foreach_directive.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiForEachDirective)
/* harmony export */ });
/* harmony import */ var _function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./function */ "./node_modules/pyllar/function.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");



const stmtForearchWithIndex = /^\((\w+)\s*,\s*(\w+)\)\s+in\s+(\w+(\.\w+)*)$/gi;

class PiForEachDirective {
    constructor(stmt, context = {}, fn = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop) {
        this._stmt = stmt;
        this._context = context;
        this._fn = fn;
        this._end = _function__WEBPACK_IMPORTED_MODULE_0__["default"].noop;

        this._load();
    }

    get variableInterableName() {
        return this._variableInterableName;
    }

    get objectInterableName() {
        return this._objectInterableName;
    }

    loop(fn) {
        this._fn = fn;

        return this;
    }

    run(array = null, indexBegin = 0, indexEnd = -1, step = 1) {
        const objectInterable = array || _object__WEBPACK_IMPORTED_MODULE_1__["default"].extractValue(this._context, this._objectInterableName);

        if (objectInterable.constructor.name == 'Function' || objectInterable.constructor.name == 'Object') {
            const foreachFn = new Function('_this', 'obj', 'vn', 'ixn', 'fn', `for(const i in obj){fn(obj, i, vn, ixn);}`);
            foreachFn(this, objectInterable, this._variableInterableName, this._variableIndexName, this._fn)
            this._end();
            return this;
        }
        
        const foreachFn = new Function('_this', 'arr', 'indexBegin', 'indexEnd', 'step', 'vn', 'ixn', 'fn', `for(var i = indexBegin ; i < indexEnd ; i += step){fn(arr, i, vn, ixn);}`);
        if (indexEnd == -1) {
            indexEnd = objectInterable.length;
        }

        foreachFn(this, objectInterable, indexBegin, indexEnd, step, this._variableInterableName, this._variableIndexName, this._fn)
        this._end();

        return this;
    }

    end(fn) {
        this._end = fn;

        return this;
    }

    _load() {
        if (stmtForearchWithIndex.test(this._stmt)) {
            this._loadForeachIndexAndProperties();
        } else {
            this._loadForeachProperties();
        }

    }

    _loadForeachIndexAndProperties() {
        this._stmt.replace(stmtForearchWithIndex, (stmt, indexName, propertyName, interableName) => {
            this._variableInterableName = propertyName;
            this._objectInterableName = interableName;
            this._variableIndexName = indexName;

            return stmt;
        });
    }

    _loadForeachProperties() {
        const stmt = this._stmt;
        const tokens = stmt.trim().split(' ');

        if (tokens.length != 3) {
            throw `PiForEachDirective: Statement inválida para laço foreach = ${stmt}. Padrão esperado: [variável in iterável] ou [(index, variável) in iterável]`;
        }

        this._variableIndexName = null;
        this._variableInterableName = tokens[0];
        this._objectInterableName = tokens[2];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/function.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/function.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiFunction)
/* harmony export */ });
/**
 * @class
 */
class PiFunction {
    /**
     * Função vazia
     */
    static noop() { }
};

/***/ }),

/***/ "./node_modules/pyllar/helpers.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/helpers.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   helpers: () => (/* binding */ helpers),
/* harmony export */   timeout: () => (/* binding */ timeout),
/* harmony export */   timeoutSec: () => (/* binding */ timeoutSec)
/* harmony export */ });
/* harmony import */ var _translate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./translate */ "./node_modules/pyllar/translate.js");


function timeout(time, fn, ctx) {
    setTimeout(() => {
        fn.call(ctx);
    }, time);
}

function timeoutSec(time, fn, ctx) {
    timeout(time * 1000, fn, ctx);
}

function debounce(time) {
    return function (fn, ctx) {
        timeout(time, fn, ctx);
    }
}

const helpers = {
    _all: [],

    register(name, fn) {
        this._all.push([name, fn]);
    },

    get all() {
        return this._all;
    }
};

helpers.register('_', function () {
    return _translate__WEBPACK_IMPORTED_MODULE_0__["default"].get.apply(_translate__WEBPACK_IMPORTED_MODULE_0__["default"], arguments);
});



/***/ }),

/***/ "./node_modules/pyllar/initialize.js":
/*!*******************************************!*\
  !*** ./node_modules/pyllar/initialize.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiInitialize {
    #readyFn = [];
    #bootFn = [];
    #bootInit = [];
    #bootStart = [];
    #isLoaded = false;

    /**
     * 
     * @param {function} fn - Função que será executada no inicio do boot
     * 
     * @returns {PiInitialize}
     */
    boot(fn) {
        this.#bootFn.unshift(fn);

        return this;
    }

    /**
     * Função executada apos o boot
     * 
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    init(fn) {
        this.#bootInit.unshift(fn);

        return this;
    }

    /**
     * Função executada após a inicialização
     * @param {function} fn - Callback
     * @returns {PiInitialize}
     */
    start(fn) {
        this.#bootStart.unshift(fn);

        return this;
    }

    /**
     * Executa a sequencia de incialização: boot -> callback -> ready
     * 
     * @returns {Promise}
     */
    load() {
        return new Promise((ok) => {
            _env__WEBPACK_IMPORTED_MODULE_0__.global.$(() => {
                this.#dispatch(this.#bootFn);
                this.#dispatch(this.#bootInit);
                this.#dispatch(this.#bootStart);
                this.#dispatch(this.#readyFn);

                this.#isLoaded = true;
                console.log(';)')
                ok();
            });
        });
    }

    /**
     * Função executada após todo processo de inicialização
     * 
     * @param {function} fn - Função que será executada depois que o sistema estiver inicializado
     * @returns {Promise}
     */
    ready() {
        return new Promise((ok, err) => {
            if (this.#isLoaded) {
                ok();
                return;
            }

            this.#readyFn.unshift(ok);
        });
    }

    #dispatch(arr) {
        for (let i = 0; i < arr.length; i++) {
            arr[i]();
        }
    }
});

/***/ }),

/***/ "./node_modules/pyllar/model.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/model.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiModel)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action */ "./node_modules/pyllar/action.js");
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");
/* harmony import */ var _app__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app */ "./node_modules/pyllar/app.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");











/**
 * @class
 */
class PiModel {
    #parameters = null;
    #actionList = [];
    #validatorList = [];
    #baseUrl = '';

    constructor(...args) {
        this.#actionList = [];
        this.#validatorList = [];
        this.#baseUrl = '';

        if (_type__WEBPACK_IMPORTED_MODULE_9__["default"].isObject(args[0])) {
            _object__WEBPACK_IMPORTED_MODULE_3__["default"].extendAndCall(this, args[0]);
        }

        this.#parameters = args[0] == undefined ? {} : args[0];

        this.init(...args);
    }

    getBaseUrl() {
        return this.#baseUrl;
    }

    /**
     * Injeta as propriedades do objeto
     * 
     * @param {json} json - Objeto a ser injetado no objeto atual
     * @returns {this}
     */
    _inject(json) {
        for (var property in json) {
            this[property] = json[property];
        }

        return this;
    }

    /**
     * Clona o objeto atual
     * 
     * @returns {this}
     */
    clone() {
        this.cloneWillLoad();
        let json = this.toJson();
        let clone = new this.constructor(json);
        this.cloneDidLoad(clone);

        return clone;
    }

    cloneDidLoad() {

    }

    cloneWillLoad() {

    }

    /**
     * Cria uma nova instancia da classe
     * 
     * @param  {...any} args 
     * @returns {this}
     */
    static create(...args) {
        return new this(...args);
    }

    create(...args) {
        return new this.constructor(...args);
    }

    toJson() {
        this.jsonWillConvert();
        let json = JSON.parse(JSON.stringify(this));
        this.jsonDidConvert(json);

        return json;
    }

    jsonDidConvert(json) {

    }

    jsonWillConvert() {

    }

    instances() {

    }

    /**
     * Initializa as rotas
     * 
     * @param {string} url - Url base utilizada pelas actions para as requests
     */
    init(url) {
        this._loadActions();
        this._loadValidations();

        this._configUrl(url || this.#parameters.url || '');
    }

    /**
     * Injeta o json dentro da model
     * 
     * @param {object} json - Json a ser injetado no modelo
     * @returns {PiModel}
     */
    initWithJson(json) {
        this._inject(json);

        return this;
    }

    /**
     * Adiciona uma action
     * 
     * @param {string} name - Nome da rota
     * @param {string} stmt - Rota no formato: METHOD:/route?querystring
     * @returns {PiModel}
     */
    addAction(name, stmt) {
        const action = new _action__WEBPACK_IMPORTED_MODULE_2__["default"]({
            actionName: name,
            actionStmt: stmt,
            model: this
        });

        this.#actionList[name] = action;

        return this;
    }

    /**
     * Adiciona uma regra de validação para uma propriedade da model
     * 
     * @param {string} name - Propriedade da model
     * @param {PiValidator} rule - Classe que implementa a regra de validação
     * @returns {PiModel}
     */
    addValidator(name, rule) {
        this.#validatorList[name] = rule;

        return this;
    }

    /**
     * Retorna um objeto literal contendo todas as regras de validação
     * 
     * @returns {object}
     */
    validators() {
        return {};
    }

    /**
     * Retorna um objeto literal contendo todas as actions
     * 
     * @returns {object}
     */
    actions() {
        return {};
    }

    /**
     * Define um valor para uma propriedade.
     * Este método dispara a execução da validação 
     * de propriedade antes de inserir o valor
     * 
     * @param {string} key - Nome da propriedade
     * @param {object} value - Valor da propriedade
     * @returns {PiModel}
     */
    setProperty(key, value, type) {
        const names = key.split('.');
        let isComposed = names.length > 1,
            rule = this.#validatorList[key];

        switch (type) {
            case 'int':
                value = parseInt(value);
                if(isNaN(value)) {
                    value = 0;
                }
                break;
        }
        
        if (isComposed) {
            let last = names[names.length - 1],
                property = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extractPropertyContext(this, key);

            if (property instanceof PiModel) {
                property.setProperty(last, value);
            } else {
                if (property[last] instanceof Function) {
                    property[last](value);
                } else {
                    property[last] = value;
                }
            }

        } else {
            if (rule == undefined) {
                if (this[key] instanceof Function) {
                    this[key](value);
                } else {
                    this[key] = value;
                }
            } else {
                rule.load(this, key, value);

                if (rule.isValid()) {
                    this[key] = value;
                } else {
                    throw rule.label;
                }
            }
        }

        return this;
    }

    /**
     * Insere a model caso id seja zero ou atualiza a model 
     * caso o valor do id seja maior que zero
     * 
     * @returns {PiPromise}
     */
    save() {
        if (this.id == undefined) return this.insert()
        else if (this.id == 0) return this.insert();
        else return this.update();
    }

    /**
     * Retorna uma action pelo nome
     * 
     * @param {string} name - Nome da action
     * @returns {PiAction}
     */
    getAction(name) {
        return this.#actionList[name];
    }

    /**
     * Tentar injetar os data-models do component na model caso o parametro seja um PiComponent.
     * Retorna em um array string com todos os erros encontrados.
     * Se o parametro for um json ele ira injetar as propriedades na model.
     * 
     * @param {PiComponent} component
     * @param {object} options 
     * @returns {array}
     */
    inject(component, options = {}) {
        if (component instanceof _component__WEBPACK_IMPORTED_MODULE_4__["default"] || component instanceof _app__WEBPACK_IMPORTED_MODULE_8__["default"]) {
            let names = _string__WEBPACK_IMPORTED_MODULE_5__["default"].clips(component.element.innerHTML, 'data-model="', '"'),
                isComponent = false,
                errors = [];

            options = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, {
                invalidInputClass: 'invalid-feedback'
            }, options);

            for (let i = 0; i < names.length; i++) {
                let property = names[i],
                    element = component.element.querySelector('[data-model="' + property + '"]'),
                    value = undefined,
                    parent = element.parentNode;

                if (element.firstChild && element.firstChild._hasComponent) {
                    value = element.firstChild._component.get();
                    isComponent = true;
                } else if (element._hasComponent) {
                    value = element._component.get();
                    isComponent = true;
                } else {
                    isComponent = false;
                    value = element.get();
                }

                var nextElement = element.nextElementSibling;
                var elementMessage = null;
                if (nextElement && nextElement.hasAttribute('validation-message')) {
                    elementMessage = nextElement;
                } else {
                    elementMessage = document.createElement('div');
                    elementMessage.setAttribute('validation-message', '');
                    parent.insertBefore(elementMessage, element.nextSibling);
                }

                if (element.setCustomValidity) {
                    element.setCustomValidity('');
                }

                elementMessage.style.display = 'none';
                elementMessage.innerHTML = '';
                elementMessage.classList.remove(options.invalidInputClass);
                parent.classList.remove('was-validated');

                try {
                    this.setProperty(property, value, element.getAttribute('data-type'));
                } catch (msg) {
                    elementMessage.innerHTML = msg;
                    elementMessage.classList.add(options.invalidInputClass);
                    elementMessage.style.display = 'block';

                    if (element.setCustomValidity) {
                        element.setCustomValidity(msg);
                    }

                    if (!isComponent) {
                        parent.classList.add('was-validated');
                    }

                    errors.push(msg);
                }
            }

            return errors;
        } else {
            if (component instanceof PiModel) {
                this._inject(component.toJson());
            } else {
                this._inject(component);
            }
        }

        return [];
    }

    requestWillGet(json) {

    }

    jsonDidConvert(json) {

    }

    requestDidGet(json) {

    }

    requestWillPost(json) {

    }

    requestDidPost(json) {

    }

    responseSuccessWillLoad(action, url, data) {
        this.responseSuccess.apply(this, arguments);
    }

    responseSuccess(action, url, ...args) {
        action.processSuccessResponse.apply(action, args);
        this.responseSuccessDidLoad.apply(this, arguments);
    }

    responseSuccessDidLoad() {

    }

    responseErrorWillLoad(action, url, data) {
        this.responseError.apply(this, arguments);
    }

    responseError(action, url, ...args) {
        action.processErrorResponse.apply(action, args);
        this.responseErrorDidLoad.apply(this, arguments);
    }

    responseErrorDidLoad() {

    }

    _loadActions() {
        const userActions = this.actions();
        const defaultActions = {
            'add': 'POST:/',
            'insert': 'POST:/',
            'update': 'PUT:/:id',
            'remove': 'REMOVE:/:id',
            'get': 'GET:/:id',
            'find': 'GET:/find/:id',
            'all': 'GET:/'
        };
        const actions = _object__WEBPACK_IMPORTED_MODULE_3__["default"].extend({}, defaultActions, userActions);

        for (let name in actions) {
            this.addAction(name, actions[name]);
        }
    }

    _configUrl(url) {
        const modelUrl = _config__WEBPACK_IMPORTED_MODULE_6__["default"].get('model.url');

        if (modelUrl == undefined) {
            this.setBaseUrl(url);
        } else {
            this.setBaseUrl(modelUrl + url);
        }
    }

    setBaseUrl(url) {
        if (url == undefined) {
            this.#baseUrl = _url__WEBPACK_IMPORTED_MODULE_7__["default"].create('localhost').href();
        } else {
            this.#baseUrl = url;
        }

        return this;
    }

    _loadValidations() {
        const validators = this.validators();
        for (var v in validators) {
            this.addValidator(v, validators[v]);
        }
    }

    static register(model) {
        (0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(model)
    }
};

/***/ }),

/***/ "./node_modules/pyllar/native_element.js":
/*!***********************************************!*\
  !*** ./node_modules/pyllar/native_element.js ***!
  \***********************************************/
/***/ (() => {

HTMLElement.prototype.get = function () {
    if (this instanceof HTMLImageElement) {
        return this.getAttribute('src');
    }

    if (this instanceof HTMLLinkElement) {
        return this.getAttribute('href');
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        return this.checked;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        return this.checked;
    }

    return this.value;
};

HTMLElement.prototype.set = function (v) {
    if (this instanceof HTMLImageElement) {
        this.setAttribute('src', v);
        return;
    }

    if (this instanceof HTMLLinkElement) {
        this.setAttribute('href', v);
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'checkbox') {
        this.checked = v;
        return;
    }

    if (this instanceof HTMLInputElement && this.type == 'radio') {
        this.checked = v;
        return;
    }

    this.value = v;
};

/***/ }),

/***/ "./node_modules/pyllar/object.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/object.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiObject)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");



/**
 * @class
 * @name PiObject
 */
class PiObject {

    /**
     * Adiciona e chama todas as propriedades com nome de função dos argumentos no primeiro parametro
     * 
     * @returns {object}
     */
    static extendAndCall = function () {
        let dst = arguments[0];

        for (let i = arguments.length - 1; i > 0; i--) {
            let obj = arguments[i];

            for (let p in obj) {
                if (typeof dst[p] == 'function') {
                    dst[p](obj[p]);
                } else {
                    dst[p] = obj[p];
                }
            }
        }

        return dst;
    }

    /**
     * Extrai o contexto onde propriedade existe
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractPropertyContext = function (obj, property) {
        let p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length - 1; i++) {
                let m = p[i];
                if (obj[m] == undefined) obj[m] = {};
                obj = obj[m];
            }
        }

        return obj;
    }

    /**
     * Chama uma função de callback sempre que a propriedade do objeto for alterada
     * 
     * @param {object} obj - Objeto base
     * @param {string} property - Nome da propriedade a ser monitorada
     * @param {function} callback - Callback executado sempre a a propriedade é alterada
     * @param {boolean} [deep = true] deep - Define se as propriedades acima tambem serão observadas
     */
    static on = function (obj, property, callback, deep = true) {
        let currentValue = PiObject.extractValue(obj, property);
        let path = property.split('.');

        if (obj.__onSetList == undefined) {
            obj.__onSetList = [];
            obj.__onSetFn = [];
        }

        if (obj.__onSetFn[property] == undefined) {
            obj.__onSetFn[property] = [];
        }

        const exist = obj.__onSetList.find(p => p == property) !== undefined;
        if (!exist) {
            const _obj = PiObject.extractPropertyContext(obj, property);
            const _property = _string__WEBPACK_IMPORTED_MODULE_1__["default"].last(property, '.');

            if (!(_property == 'length' && PiType.isArray(_obj))) {
                Object.defineProperty(_obj, _property, {
                    set: function (value) {
                        currentValue = value;

                        const arrFn = obj.__onSetFn[property];
                        for (let i = 0; i < arrFn.length; i++) {
                            arrFn[i].cb(value, property);
                        }

                        return value;
                    },

                    get: function () {
                        return currentValue;
                    }
                });

                obj.__onSetList.push(property);
            }
        }

        const id = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');
        let ids = [id];
        obj.__onSetFn[property].push({
            id: id,
            cb: callback
        });

        if (deep && path.length > 1) {
            path.pop();
            const _ids = PiObject.on(obj, path.join('.'), callback);
            ids = ids.concat(_ids);
        }

        return ids;
    }

    static off = function (obj, ids) {
        if (obj.__onSetFn == undefined) {
            return;
        }

        for (const property in obj.__onSetFn) {
            const arr = obj.__onSetFn[property];
            for (let i = 0; i < arr.length; i++) {
                const item = arr[i];
                if (ids.find(e => e == item.id)) {
                    i--;
                    arr.splice(i, 1);
                }
            }
        }
    }

    /**
     * Extrai o valor de uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propriedade
     * @returns {object}
     */
    static extractValue = function (obj, property) {
        const p = property.split('.');

        if (p.length > 1) {
            for (let i = 0; i < p.length; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            return obj;
        } else {
            return obj[property];
        }
    }

    /**
     * Atribui um valor a uma propriedade
     * 
     * @param {object} obj - objeto
     * @param {string} property - path da propridade
     * @param {object} value - valor a ser inserido na propriedade
     */
    static setProperty = function (obj, property, value) {
        const p = property.split('.');

        if (p.length > 1) {
            const lastProperty = p[p.length - 1];
            for (let i = 0; i < p.length - 1; i++) {
                obj = obj[p[i]]
                if (obj == undefined) break;
            }

            obj[lastProperty] = value;
        } else {
            obj[property] = value;
        }
    }

    /**
     * Adiciona todas as propriedades e metodos de todos os parametros no primeiro
     * 
     * @method PiObject.extend
     * @param {arguments} arg
     * @return {object}
     */
    static extend = function () {
        for (let i = 1; i < arguments.length; i++) {
            let obj = arguments[i];
            for (let v in obj) {
                arguments[0][v] = obj[v];
            }
        }

        return arguments[0];
    }
};

/***/ }),

/***/ "./node_modules/pyllar/promise.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/promise.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiPromise)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiPromise extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #isOnce = false;
    #promise = this.newPromise();

    instances() {
        this.clear();
    }

    /**
     * Espera até que todas as promises informadas por parametro
     * sejam resolvidas. Chama o callback de ok caso haja sucesso
     * em todos os retornos. Caso haja um erro retorna o callback de error
     * 
     * @returns {PiPromise}
     */
    static wait(promises = null) {
        var promise = new PiPromise();
        var count = 0;
        var success = true;
        var arr = promises || arguments;

        for (let i = 0; i < arr.length; i++) {
            arr[i].finally(() => {
                count++;
                if (count == arr.length) {
                    success ? promise.resolve() : promise.reject();
                }
            }).catch(() => {
                success = false;
            });
        }

        return promise;
    }

    /**
     * Retorna uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    get() {
        return this.#promise;
    }

    /**
     * Cria uma promise nativa associada a instancia
     * 
     * @returns Promise
     */
    newPromise() {
        return new Promise((resolve, reject) => {
            this.ok(resolve);
            this.error(reject);
        });
    }

    /**
     * Resolve a promise
     * 
     * @returns {PiPromise}
     */
    resolve() {
        this._argOk = arguments;

        this._callOk();
        this._callOnce();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /***
     * Vincula uma promise à promise atual
     * 
     * @returns {PiPromise}
     */
    link(promise) {
        const self = this;

        promise.ok(function () {
            self.resolve.apply(self, arguments);
        });

        promise.error(function () {
            self.reject.apply(self, arguments);
        });

        return this;
    }

    /**
     * Rejeita a promise
     * 
     * @returns {PiPromise}
     */
    reject() {
        this._argErr = arguments;

        this._callErr();
        this._callDone();

        if (this.#isOnce) {
            this.reset();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    ok(cb, context) {
        this._cbOk.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOk();
        }

        return this;
    }

    /**
     * Alias para método ok
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    then() {
        return this.ok.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado apenas uma vez quando a promise for resolvida
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    once(cb, context) {
        this._cbOnce.push({ cb: cb, context: context });

        if (this._isOk) {
            this._callOnce();
        }

        return this;
    }

    /**
     * Adiciona callback disparado quando a promise for rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    error(cb, context) {
        this._cbErr.push({ cb: cb, context: context });

        if (this._isErr) {
            this._callErr();
        }

        return this;
    }

    /***
     * Alias para método error
     */
    catch() {
        return this.error.apply(this, arguments);
    }

    /**
     * Adiciona callback disparado sempre que a promise é resolvida ou rejeitada
     * 
     * @param {function} cb - Callback
     * @param {object} context - Objeto de contexto
     * @returns {PiPromise}
     */
    done(cb, context) {
        this._cbDone.push({ cb: cb, context: context });

        if (this._isDone) {
            this._callDone();
        }

        return this;
    }

    /**
     * Alias para método done
     */
    finally() {
        return this.done.apply(this, arguments);
    }

    /**
     * Limpa todos os callbacks
     * 
     * @returns {PiPromise}
     */
    reset() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];

        return this;
    }

    /**
     * Reseta todos os valores
     * 
     * @returns {PiPromise}
     */
    clear() {
        this._cbOk = [];
        this._cbErr = [];
        this._cbDone = [];
        this._cbOnce = [];

        this._isOk = false;
        this._isErr = false;
        this._isDone = false;

        this._argOk = [];
        this._argErr = [];

        return this;
    }

    toPromise() {
        return this.#promise;
    }

    _call(arr, args) {
        for (let i = arr.length - 1; i >= 0; i--) {
            arr[i].cb.apply(arr[i].context, args);
        }
    }

    _callOnce() {
        this._isOk = true;
        this._call(this._cbOnce, this._argOk);
        this._cbOnce = [];
    }

    _callOk() {
        this._isOk = true;
        this._call(this._cbOk, this._argOk);
    }

    _callErr() {
        this._isErr = true;
        this._call(this._cbErr, this._argErr);
    }

    _callDone() {
        this._isDone = true;
        this._call(this._cbDone, []);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiPromise);

/***/ }),

/***/ "./node_modules/pyllar/random.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/random.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRandom)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiRandom {
    static #seed = 0;
    /**
     * Gera um número aleatório
     * 
     * @returns {number}
     */
    static generator() {
        return PiRandom.range(0, Number.MAX_VALUE);
    }

    /**
     * Gera um número aleatório entre {min} e {max}
     * 
     * @param {number} _min - Valor mínimo
     * @param {number} _max - Valor máximo
     * @returns {number}
     */
    static range(_min, _max) {
        _min = _min || 0;
        _max = _max || Number.MAX_VALUE;

        let random = Math.floor(Math.random() * (1 + _max - _min)) + _min;

        if (random > _max) return _max;
        else return random;
    }

    static uuid(format) {
        let d = new Date().getTime();
        let uuid = (format || 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx').replace(/[xy]/g, function (c) {
            let r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });

        return uuid + (PiRandom.#seed++);
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiRandom);

/***/ }),

/***/ "./node_modules/pyllar/request.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/request.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRequest)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./url */ "./node_modules/pyllar/url.js");




class ChainRequestItem {
    next = null;
    #fn = null;

    constructor(fn) {
        this.#fn = fn;
    }

    invoke() {
        this.#fn.call(this.#fn, ...arguments, () => {
            this.next.invoke(...arguments);
        });
    }
}

class ChainRequest {
    #requests = [];

    first() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[0];
    }

    last() {
        if (this.#requests.length == 0) {
            return null;
        }

        return this.#requests[this.#requests.length - 1];
    }

    add(fn) {
        if (fn == null) {
            return this;
        }

        const last = this.last();
        const current = new ChainRequestItem(fn);
        if (last != null) {
            last.next = current;
        }

        this.#requests.push(current);

        return this;
    }

    invoke() {
        const first = this.first();
        if (first == null) {
            return this;
        }

        first.invoke.apply(first, arguments);

        return this;
    }
}


/**
 * @class
 */
class PiRequest extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    #sending = false;
    #xhr = null;
    #chainRequest = new ChainRequest();
    #method = 'POST';

    constructor() {
        super();

        this.#chainRequest
            .add(_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('request.fetch'))
            .add((url, settings, success, error) => {
                try {
                    fetch(url, settings).then((response) => {
                        this.#sending = false;

                        if (response.status >= 200 && response.status < 300) {
                            response.text().then((text) => {
                                success(text, response.status);
                            });
                        } else {
                            response.text().then((text) => {
                                error(text, response.status);
                            });
                        }

                        this.#xhr = null;
                    }).catch(function (e) {
                        if (e.message == 'Failed to fetch') {
                            error(`{ "message": "${e.message}", "status": "error" }`, 503);
                        }
                    });
                } catch (error) {
                    error(`{ "message": "offline", "status": "error" }`, 503);
                }
            });
    }

    addHandler(fn) {
        this.#chainRequest.add(fn);

        return this;
    }

    /**
     * Aborta o request caso a solicitação tenha sido enviada
     * 
     * @returns {PiRequest}
     */
    abort() {
        if (this.#xhr) {
            this.#xhr.abort();
            this.#xhr = null;
            this.#sending = false;
        }

        return this;
    }

    /**
     * Retorna se a request esta sendo enviada
     * 
     * @returns {boolean}
     */
    isSending() {
        return this.#sending;
    }

    setMethod(method) {
        this.#method = method;

        return this;
    }

    /**
     * Envia uma request do tipo GET
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    get(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs, (text, statusCode) => {
                resolve(text, statusCode);
            }, (text, statusCode) => {
                reject(text, statusCode);
            }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo GET e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Query string como objeto
     * @returns {Promise}
     */
    getJson(url, obj, config = (xhr) => { return xhr; }) {
        return new Promise((resolve, reject) => {
            let qs = '';

            if (obj != undefined) qs = '?' + this.#convertObjectToFormData(obj);

            this.#requestGet(url + qs,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                }, config);
        });
    }

    /**
     * Envia uma solicitação do tipo POST.
     * 
     * @param {string} url - Url da requeset
     * @param {object} obj - Objeto a ser enviado no formato value=key
     * @returns {Promise}
     */
    post(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            let formData = this.#convertObjectToFormData(obj);

            this.#requestPost(url, encodeURI(formData),
                (text, statusCode) => {
                    resolve(text, statusCode);
                },
                (text, statusCode) => {
                    reject(text, statusCode);
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/x-www-form-urlencoded');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia para a url informada array de File
     * 
     * @param {string} url - Url da request e faz o parse JSON da resposta
     * @param {array} files - Array File
     * @returns {Promise}
     */
    sendFiles(url, files, config = null) {
        return new Promise((resolve, reject) => {
            var formData = new FormData();

            for (var i = 0; i < files.length; i++) {
                formData.append(`file${i}`, files[i]);
            };

            this.#requestPost(url, formData,
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') reject(json.message, statusCode);
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    /**
     * Envia uma solicitação do tipo POST e faz o parse JSON da resposta
     * 
     * @param {string} url - Url da request
     * @param {object} obj - Objeto a ser enviado no formato json
     * @returns {Promise}
     */
    postJson(url, obj, config = null) {
        return new Promise((resolve, reject) => {
            this.#requestPost(url, JSON.stringify(obj),
                (text, statusCode) => {
                    if (text.length == 0) {
                        resolve({});
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'ok') resolve(json);
                        else reject(json.message, statusCode);
                    } else {
                        resolve(json);
                    }
                },
                (text, statusCode) => {
                    if (text.length == 0) {
                        reject({}, statusCode);
                        return;
                    }

                    let json = JSON.parse(text);
                    if (this.#existProtocol(json)) {
                        if (json.status == 'error') {
                            reject(json.message, statusCode);
                        }
                    } else {
                        reject(json, statusCode);
                    }
                },
                (xhr) => {
                    xhr.headers.append('Content-Type', 'application/json');
                    if (config) {
                        config(xhr);
                    }

                    return xhr;
                });
        });
    }

    #requestGet(url, success, error, config) {
        this.#method = 'GET';
        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');

                return config(xhr);
            }
        );
    }

    #requestPost(url, formData, success, error, config) {
        // let auth = Pi.getConfig('request.Authorization');

        this.#createRequest(url,
            (text, statusCode) => {
                success(text, statusCode);
            },
            (text, statusCode) => {
                error(text, statusCode);
            },
            (xhr) => {
                xhr.method = this.#method;
                xhr.headers.append('X-Requested-With', 'XMLHttpRequest');
                xhr.body = formData;

                return config(xhr);
            }
        );
    }

    #createRequest(url, success, error, config) {
        var headers = new Headers();
        headers.append('Accept', 'application/json, text/plain, */*');

        this.#xhr = new AbortController();
        var settings = config({
            signal: this.#xhr.signal,
            mode: 'cors',
            headers: headers
        });

        var _url = url instanceof _url__WEBPACK_IMPORTED_MODULE_2__["default"] ? url : _url__WEBPACK_IMPORTED_MODULE_2__["default"].create(url);

        this.#sending = true;
        this.#chainRequest.invoke(_url, settings, success, error);
    }

    #existProtocol(json) {
        return json.status;
    }

    #convertObjectToFormData(obj) {
        let encodedString = '';

        for (let prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                if (encodedString.length > 0) {
                    encodedString += '&';
                }
                encodedString += prop + '=' + obj[prop];
            }
        }

        return encodedString;
    }

};

/***/ }),

/***/ "./node_modules/pyllar/route.js":
/*!**************************************!*\
  !*** ./node_modules/pyllar/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiRoute)
/* harmony export */ });
/* harmony import */ var _url_hash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./url_hash */ "./node_modules/pyllar/url_hash.js");
/* harmony import */ var _expression__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./expression */ "./node_modules/pyllar/expression.js");
/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callback */ "./node_modules/pyllar/callback.js");




/**
 * @class
 */
class PiRoute extends _url_hash__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #routes = [];
    #hooks = new _callback__WEBPACK_IMPORTED_MODULE_2__["default"]();

    /**
     * Adiciona um array de callback para rotas
     * 
     * @param {array} routes - Array de callbacks para as rotas
     * @param {object} ctx - Contexto dos callbacks
     */
    add(routes, ctx) {
        this.#routes = [];

        for (let route in routes) {
            this.#addRoute(route, routes[route], ctx);
        }

        return this;
    }

    onNotFound(fn){
        this.#hooks.add('notfound', fn);
    }

    /**
     * Remove uma função de rota
     * 
     * @param {function} route - Função de rota
     * @returns {PiRoute}
     */
    remove(route) {
        for (let i = this.#routes.length - 1; i >= 0; i--) {
            if (this.#routes[i].name = route) {
                this.#routes[i].splice(i, 1);
                i--;
            }
        }

        return this;
    }

    hashDidChange(hash) {
        var hash = this.#removeQueryString(hash);
        var isRouteFound = false;

        for (let i = 0; i < this.#routes.length; i++) {
            let route = this.#routes[i],
                exp = new _expression__WEBPACK_IMPORTED_MODULE_1__["default"](route.pattern),
                regex = new RegExp(exp.parse({}), 'mgi'),
                matchs = hash.match(regex);

            if (matchs == null) continue;

            let patchs = route.name.split('/'),
                parameters = [],
                variables = [];

            for (let j = 0; j < patchs.length; j++) {
                if (patchs[j][0] == ':') {
                    variables.push(j);
                }
            }

            patchs = hash.split('/');
            for (let j = 0; j < variables.length; j++) {
                parameters.push(patchs[variables[j]]);
            }

            route.cb.apply(route.ctx, parameters);
            isRouteFound = true;
            break;
        }

        if (!isRouteFound) {
            this.#hooks.trigger('notfound', hash);
            return false;
        }

        return true;
    }

    #addRoute(route, callback, ctx) {
        this.#routes.push({ name: route, cb: callback, ctx: ctx, pattern: route.replace(/\:(\w*)/gi, "([^&/#?]*)") });

        return this;
    }

    #removeQueryString(hash) {
        let p = hash.split('?');
        return p[0];
    }

};

/***/ }),

/***/ "./node_modules/pyllar/service.js":
/*!****************************************!*\
  !*** ./node_modules/pyllar/service.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiService)
/* harmony export */ });
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _route__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./route */ "./node_modules/pyllar/route.js");
/* harmony import */ var _url_hash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./url_hash */ "./node_modules/pyllar/url_hash.js");





/**
 * @class
 */
class PiService extends _class__WEBPACK_IMPORTED_MODULE_0__["default"] {
    #route = new _route__WEBPACK_IMPORTED_MODULE_2__["default"]();

    init(routes = []) {
        this.routes = routes;
    }

    addRoute(name, fn){
        if (this.routes == null) {
            this.routes = [];
        }

        this.routes[name] = fn.bind(this);

        return this;
    }

    onRouteNotFound(fn){
        this.#route.onNotFound(fn);

        return this;
    }

    start() {
        this.#route.add(this.routes, this);
        this.#route.hashDidChange(_url_hash__WEBPACK_IMPORTED_MODULE_3__["default"].get());
        this.#route.listen();
    }

    stop() {
        this.#route.unlisten();
    }

    get isRouteFound() {
        return this.#route.isRouteFound;
    }

    static register(service) {
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.app)().register(service);
    }
}

/***/ }),

/***/ "./node_modules/pyllar/statement.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/statement.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiStatement)
/* harmony export */ });
/**
 * @class
 */
class PiStatement {

    /**
     * Executa uma statement iniciando em um contexto
     * 
     * @param {string} statement - Statement que será executada dentro do contexto
     * @param {object} context - Contexto de execução
     * @returns {object}
     */
    static exec(statement, context) {
        return PiStatement.execWithVariables(statement, [[], []], context);
    }

    /**
     * Executa uma statement dentro de um contexto com variavéis de escopo
     * 
     * @param {string} statement - Statement
     * @param {array} variables - Array com os nomes e valores das variáveis
     * @param {object} context - Objeto de contexto
     * @returns {object}
     */
    static execWithVariables(statement, variables, context) {
        const variableNames = variables[0];
        const variableValues = variables[1];

        for (let i = 0; i < variableNames.length; i++) {
            const variableName = variableNames[i];
            if (variableName == 'this') {
                variableNames.splice(i, 1);
                i--;
                continue;
            }

            variableNames[i] = variableNames[i].replaceAll('.', '');
            statement = statement.replaceAll(variableName, variableNames[i])
        }

        const func = new Function('_this', ...variableNames, `return (function(){return ${statement}}).call(_this);`);
        return func(context, ...variableValues);
    }
};


/***/ }),

/***/ "./node_modules/pyllar/string.js":
/*!***************************************!*\
  !*** ./node_modules/pyllar/string.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiString)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");


/**
 * @class 
 */
class PiString {
    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _ ou -
     * 
     * @param {string} str - string 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    /**
     * Retorna última palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static last(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[tokens.length - 1];
    }

    /**
     * Retorna a primeira palavra separada por caracter
     * 
     * @param {string} str - String
     * @param {string} separator - Separador de palavras
     * @returns {string}
     */
    static first(str, separator = ' ') {
        const tokens = str.split(separator);

        if (tokens.length == 0) {
            return str;
        }

        return tokens[0];
    }

    /**
     * Retorna uma string formatada segundo os marcadores de texto
     * 
     * @param {strin} format - String com marcadores de texto
     * @param  {...any} args - Lista de valoers para os marcadores de texto
     * @returns {string}
     */
    static format(format, ...args) {
        return format.replace(/{(\d+)}/g, function (match, number) {
            return typeof args[number] != 'undefined'
                ? args[number]
                : match
                ;
        });
    };

    /**
     * Faz o recorte no texto baseado nos caracteres informados nos parametros beginWord e endWord
     * 
     * @param {string} text - Texto
     * @param {string} beginWord - Palavra que inicia o clipping
     * @param {string} endWord - Palavra que finaliza o clipping
     * @returns {string}
     */
    static clips(text, beginWord, endWord) {
        let arr = [];
        let i = -1;

        while (true) {
            i = text.indexOf(beginWord, i + 1);
            if (i == -1) break;
            i += beginWord.length;

            let f = text.indexOf(endWord, i + 1);
            if (f == -1) break;

            arr.push(text.substr(i, f - i));
            i = f + 1;
        }

        return arr;
    };

    /**
     * Verifica se o objeto event fornecido contém apenas caracteres alphanuméricos
     * 
     * @method isAlphaNumeric
     * @param {event} e 
     * @return {boolean}
     */
    static isAlphaNumeric(e) {
        let charCode = (e.which) ? e.which : e.keyCode;
        if (charCode == 8) return true;

        let keynum;
        let keychar;
        let charcheck = /[a-zA-Z0-9]/;
        if (window.event) // IE
        {
            keynum = e.keyCode;
        }
        else {
            if (e.which) // Netscape/Firefox/Opera
            {
                keynum = e.which;
            }
            else return true;
        }

        keychar = String.fromCharCode(keynum);
        return charcheck.test(keychar);
    };

    /**
     * Convert todos os espaços para código html &nbsp;
     * 
     * @method space2nbsp
     * @param {string} str 
     * @return {string}
     */
    static space2nbsp(str) {
        if (str == null) return '';
        return str.replace(/\s/gi, '&nbsp;').replace(/\-/gi, '&nbsp;-&nbsp;');
    };

    /**
     * Adiciona três pontos ao final da string de seu tamanho exceder o limite fornecido
     * 
     * @method reticencias
     * @param {string} str 
     * @param {int} length 
     * @return {string}
     */
    static reticencias(str, length) {
        if (str.length > length) return str.substring(0, length) + '...';
        else return str;
    }
    ;
    /**
     * Remove todos os espaços da string
     * 
     * @method removeSpace
     * @param {string} str 
     * @return {string}
     */
    static removeSpace(str) {
        return (str || '').replace(/\s*/gi, '');
    };

    /**
     * Retorna a primeira palavra da string
     * 
     * @method firtWord
     * @param {string} str 
     * @return {string}
     */
    static firstWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            return str.split(' ')[0];
        } else {
            return '';
        }
    };

    /**
     * Retorna a última palavra da string
     * 
     * @method lastWord
     * @param {string} str 
     * @return {string}
     */
    static lastWord(str) {
        if (_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) {
            let p = str.split(' ');
            return p[p.length - 1];
        } else {
            return '';
        }

    };

    /**
     * Retorna a primeira e última palavras da string
     * 
     * @method firstAndlastWord
     * @param {string} str 
     * @return {string}
     */
    static firstAndlastWord(str) {
        let p = str.split(' ');
        let first = '';

        if (p.length == 1) return str;

        first = str.split(' ')[0];

        return first + ' ' + p[p.length - 1];
    };

    /**
     * Converte todas as palavras da string para capital. As palavras podem estar seperadas por espaço ou _
     * 
     * @method capital
     * @param {string} str 
     * @return {string}
     */
    static capital(str) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str)) return '';

        str = str.toLowerCase();

        let p = /(^[\s_\.-]*\w|[\s\._-]\w)+/gi,
            m = str.match(p);

        for (let v in m) {
            str = str.replace(m[v], m[v].toUpperCase());
        }

        return str;
    };

    static replace(input, search, replacement) {
        return input.replace(new RegExp(search, 'g'), replacement);
    };

    /**
     * Reduz um nome em n - 1 palavras iniciais mais a ultima palavra
     * 
     * @method cut
     * @param {string} str 
     * @param {int} total 
     * @return {string}
     */
    static cut(str, total) {
        if (!_type__WEBPACK_IMPORTED_MODULE_1__["default"].isString(str) || total < 0) return str;

        let p = str.split(' '),
            arr = [];

        //adiciona a primeira palavra
        arr.push(p[0]);

        if (total > p.length) total = p.length;

        for (let i = 1; i < total; i++) {
            arr.push(p[i]);
        }

        //adiciona a ultima palavra
        if (p.length > total) {
            arr.push(p[p.length - 1]);
        }

        return arr.join(' ');
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiString);

/***/ }),

/***/ "./node_modules/pyllar/translate.js":
/*!******************************************!*\
  !*** ./node_modules/pyllar/translate.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./node_modules/pyllar/object.js");

/**
 * class
 */
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class PiTranslate {
    #table = {};

    /**
     * 
     * @param {object} table - Carrega uma tabela de tradução para o translate
     * @returns {PiTranslate}
     */
    load(table) {
        _object__WEBPACK_IMPORTED_MODULE_0__["default"].extend(this.#table, table);

        return this;
    }

    /**
     * Define um valor para uma chave
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiTranslate}
     */
    set(key, value) {
        this.#table[key] = value;

        return this;
    }

    /**
     * Retorna um valor de uma dada chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    get(key) {
        return this.#table[key] || '';
    }

    /**
     * Verifica se existe uma chave na tabela de tradução
     * 
     * @param {string} key - Chave
     * @returns {boolean}
     */
    exist(key) {
        return this.#table[key] != undefined;
    }

    /**
     * Apaga toda a tabela de tradução
     * 
     * @returns {PiTranslate}
     */
    clear() {
        this.#table = {};
        return this;
    }
});

/***/ }),

/***/ "./node_modules/pyllar/tree.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/tree.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiTree)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 * @name PiTree
 */
class PiTree {
    /**
     * Cria uma arvóre virtual onde todos os elementos serão instancias de PiElement
     */
    constructor() {

    }

    static parse(html) {
        const tree = new PiTree();
        if (html instanceof Element) html = html.innerHTML;

        const doc = tree._loadDocument(html);
        const root = tree._loadElementRoot(doc);

        return root;
    }

    _loadDocument(html) {
        try {
            const wp = new _env__WEBPACK_IMPORTED_MODULE_0__.global.DOMParser();
            return wp.parseFromString(html, 'text/html'); //Vai fazer o parse de string para Element
        } catch (error) {
            console.log('PiTree: O html informado esta formatado incorretamente');
            console.log(html);
        }

        return null;
    }

    _loadElementRoot(doc) {
        if (doc == null) {
            return null;
        }

        const root = document.createDocumentFragment(); // Vai criar um fragmento da DOM principal
        const element = doc.getElementsByTagName('body')[0];
        const elements = [...element.children];

        for (let i = 0; i < elements.length; i++) {
            root.appendChild(elements[i]); // Vai adicional todos os elementos da DOM principal para a DOM fragmentada
        }

        return root;
    }
};


/***/ }),

/***/ "./node_modules/pyllar/type.js":
/*!*************************************!*\
  !*** ./node_modules/pyllar/type.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiType)
/* harmony export */ });
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");


/**
 * @class
 */
class PiType {
    /**
     * Returna se o parametro é exatamente 'undefined'
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isUndefined(obj) {
        if (obj === null) return false;
        else if (obj == undefined) return true;
        else return false;
    }

    /**
     * Retorna o nome do construtor do objeto
     * 
     * @param {object} obj 
     * @returns {string}
     */
    static typeof(obj) {
        let v = null;

        if (obj != undefined && obj != null && !PiType.isNumber(obj)) {
            try {
                v = obj.constructor.name;
                if (v == '') v = 'Object';
            } catch (ex) {

            }
        } else if (PiType.isNumber(obj)) {
            return 'Number';
        } else if (obj === undefined) {
            return 'Undefined'
        } else if (obj === null) {
            return 'Null';
        }

        return v;
    }

    /**
     * Retorna true se o parametro é um número ou false caso contrário
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isNumber(obj) {
        if (typeof obj == 'number' && isFinite(obj) && !isNaN(obj)) return true;
        else return false;
    }

    /**
    * Returna true se o parametro é null ou undefined
    * 
    * @param {object} obj 
    * @returns {boolean}
    */
    static isNullOrUndefined(obj) {
        if (obj == null || obj == undefined) return true;
        else return false;
    }

    /**
     * Returna true se o parametro é uma função
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isFunction(obj) {
        if (typeof obj == 'function') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um array
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isArray(obj) {
        if (PiType.typeof(obj) == 'Array') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\[.*\]$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Retorna true se o parametro é um Object
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isObject(obj) {
        if (PiType.typeof(obj) == 'Object') return true;
        if (typeof obj == 'object') return true;

        if (PiType.typeof(obj) == 'String') {
            if (/^\{.*\}$/gi.test(obj)) {
                return true;
            }
        }

        return false;
    }

    /**
     * Returna true se o parametro é uma string
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isString(obj) {
        if (typeof obj == 'string') return true;
        else return false;
    }

    /**
     * Returna true se o parametro é um Boolean
     * 
     * @param {object} obj 
     * @returns {boolean}
     */
    static isBoolean(obj) {
        if (typeof obj == 'boolean') return true;
        else return false;
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_0__.register)(PiType);

/***/ }),

/***/ "./node_modules/pyllar/url.js":
/*!************************************!*\
  !*** ./node_modules/pyllar/url.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrl)
/* harmony export */ });
/* harmony import */ var _alias__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias */ "./node_modules/pyllar/alias.js");
/* harmony import */ var _class__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./class */ "./node_modules/pyllar/class.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");
/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./string */ "./node_modules/pyllar/string.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");






/**
 * @class
 */
class PiUrl extends _class__WEBPACK_IMPORTED_MODULE_1__["default"] {
    static alias = new _alias__WEBPACK_IMPORTED_MODULE_0__["default"]();

    init() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arr.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        this.setUrl(url);
    }

    /**
     * Define a url
     * 
     * @param {string} url
     * @returns {PiUrl}
     */
    setUrl(url) {
        if (PiUrl.alias.exist(url)) {
            url = PiUrl.alias.getValue(url);
        }

        if (PiUrl.isValid(url)) this._url = url;

        return this;
    }

    /**
     * Obtem o scheme da url
     * 
     * @returns {string}
     */
    scheme() {
        let url = this.getUrl(),
            i = url.indexOf(':');

        if (i < 0) return '';
        return url.substr(0, i);
    }

    /**
     * Define ou obtem o host da url
     * 
     * @param {string} host
     * @returns {string}
     */
    host(host) {
        let url = this.getUrl(),
            h = this._parse(url, 'host');

        if (host === undefined) {
            return h;
        } else {
            this.setUrl(url.replace(h, host));
            return this;
        }
    }

    /**
     * Define ou obtem a porta da url
     * 
     * @param {string|int} port 
     * @returns {PiUrl|int}
     */
    port(port) {
        let url = this.getUrl(),
            p = this._parse(url, 'port') || '';

        if (_type__WEBPACK_IMPORTED_MODULE_2__["default"].isUndefined(port)) {
            return p;
        }

        let pt = this.port() || '',
            href = this.href();

        if (pt.length == 0) {
            url = url.replace(href, href + ':' + port);
        } else {
            url = url.replace(p, port);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o href da url
     * 
     * @param {string} url - Href
     * @returns {PiUrl|string}
     */
    href(url) {
        let u = this.host(),
            h = u,
            s = this._parse(this.getUrl(), 'scheme');

        if (url === undefined) {
            let p = this.port();

            if (p.length == 0) p = '';
            else p = ':' + p;

            if (s.length > 0) {
                h = s + '://' + u + p;
            } else {
                h = u + p;
            }

            return h;
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o hash da url
     * 
     * @param {string} hash 
     * @returns {PiUrl|string}
     */
    hash(hash) {
        let url = this.getUrl(),
            hh = this._parse(url, 'hash');

        if (hash === undefined) {
            return hh;
        } else {

            if (hh.length == 0) {
                this.setUrl(url + '#' + hash);
            } else {
                this.setUrl(url.replace(hh, hash));
            }

            return this;
        }
    }

    /**
     * Anexa ao path da url o path informado
     * 
     * @param {string} path 
     * @returns {PiUrl}
     */
    appendPath(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path');

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (url.substring(url.length - 1) != '/') url += '/';
        this.setUrl(url + path);
        return this;
    }

    /**
     * Define ou obtem o path da url
     * 
     * @param {string} path 
     * @returns {PiUrl|string}
     */
    path(path) {
        let url = this.getUrl(),
            p = this._parse(url, 'path'),
            pp = '/' + p;

        if (path === undefined) {
            return pp;
        }

        if (PiUrl.alias.exist(path)) {
            path = PiUrl.alias.getValue(path);
        }

        if (p.length == 0) {
            if (url.substring(url.length - 1) != '/' && path.charAt(0) != '/') url += '/' + path;
            else url += path;
        } else {
            url = url.replace(pp, path);
        }

        this.setUrl(url);

        return this;
    }

    /**
     * Define ou obtem o filename da url
     * 
     * @param {string} filename 
     * @returns {PiUrl|strin}
     */
    filename(filename) {
        let url = this.getUrl();

        if (filename === undefined) {
            return url.replace(/\\/g, '/').replace(/.*\//, '').replace(/\?.*/, '') || '';
        } else {
            let u = this.getUrl(),
                f = this.filename();

            this.setUrl(u.replace(f, filename));
            return this;
        }
    }

    /**
     * Define ou obtem a query string da url
     * 
     * @param {string} query 
     * @returns {PiUrl|string}
     */
    query(query) {
        let url = this.getUrl(),
            p = this._parse(url, 'query');

        if (query === undefined) {
            return p;
        } else {
            let q = this.query();
            this.setUrl(url.replace(q, query));
            return this;
        }
    }

    /**
     * Adiciona uma valor a query string
     * 
     * @param {string} key - Chave
     * @param {string} value - Valor
     * @returns {PiUrl}
     */
    addQuery(key, value) {
        let q = this.query(),
            url = this.getUrl(),
            qs = _string__WEBPACK_IMPORTED_MODULE_3__["default"].format('{1}={2}', url, key, encodeURIComponent(value));

        if (q.length == 0) {
            this.setUrl(url + '?' + qs);
        } else {
            this.setUrl(url + '&' + qs);
        }

        return this;
    }

    /**
     * Obtem um valor da query string pela sua chave
     * 
     * @param {string} key - Chave
     * @returns {string}
     */
    getQuery(key) {
        let qs = this.query().split('&');

        for (var i = 0; i < qs.length; i++) {
            let q = qs[i].split('=');
            if (q[0] == key) {
                return decodeURIComponent(q[1]);
            }
        }

        return '';
    }

    /**
     * Obtem o dirname da url
     * 
     * @returns {string}
     */
    dirname() {
        return this.getUrl().replace(/\\/g, '/').replace(/\/[^\/]*$/, '');
    }

    /**
     * Retorna a url formatada
     * 
     * @returns {string}
     */
    getUrl() {
        // var m = this.options;

        // if (PiSubdomains.exist(m)) {
        //     var s = PiSubdomains.next(m);
        //     return PiString.format(this.url, s);
        // }

        return this._url || '';
    }

    /**
     * Alias to getUrl
     * 
     * @returns {strin}
     */
    toString() {
        return this.getUrl();
    }

    _parse(url, parte) {
        let p = { 'url': 0, 'scheme': 1, 'slash': 2, 'host': 3, 'port': 4, 'path': 5, 'query': 6, 'hash': 7 },
            pattern = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,
            s = pattern.exec(url || '');

        if (s == null) return '';
        return s[p[parte]] || '';
    }

    /**
     * Verifica se a url informada é valida
     * 
     * @param {string} url 
     * @returns {boolean}
     */
    static isValid(url) {
        return /(http|https|)(:\/\/|)([\w-]+\.?)+[\w-]+(\/[\w- .\/?%&=]*)?/.test(url || '');
    }

    /**
     * Adiciona a lista de parametros a url
     * 
     */
    static add() {
        PiUrl.alias.add.apply(PiUrl.alias, arguments);
    }

    /**
     * 
     * @param {string} name 
     * @returns {string}
     */
    static get(name) {
        return PiUrl.alias.getValue(name);
    }

    static to() {
        let arr = arguments,
            url = '';

        for (let i = 0; i < arguments.length; i++) {
            let alias = arr[i];

            if (PiUrl.alias.exist(arr[i])) {
                alias = PiUrl.alias.getValue(arr[i]);
            }

            if (alias[0] == '/' && url[url.length - 1] == '/') {
                url += alias.substring(1);
            } else {
                url += alias;
            }

        }

        (0,_env__WEBPACK_IMPORTED_MODULE_4__.setLocation)(url);
    }

    static query(query) {
        let q = PiUrl.create((0,_env__WEBPACK_IMPORTED_MODULE_4__.location)()).query(),
            p = q.split('&');

        for (let i in p) {
            let pp = p[i].split('=');
            if (pp[0] == query) return pp[1];
        }
    }

};

(0,_env__WEBPACK_IMPORTED_MODULE_4__.register)(PiUrl);

/***/ }),

/***/ "./node_modules/pyllar/url_hash.js":
/*!*****************************************!*\
  !*** ./node_modules/pyllar/url_hash.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiUrlHash)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./random */ "./node_modules/pyllar/random.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");
/* harmony import */ var _type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./type */ "./node_modules/pyllar/type.js");




/**
 * @class
 */
class PiUrlHash {
    static _callbacks = [];
    static _fnWillChanges = [];
    static _fnDidChanges = [];
    #hashId = 0;

    /**
     * Disparado sempre que a hash da url for alterada
     */
    hashDidChange() {

    }

    /**
     * Observa mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    listen() {
        this.#hashId = _random__WEBPACK_IMPORTED_MODULE_0__["default"].uuid('xxx-xxx');

        PiUrlHash._callbacks.push({
            id: this.#hashId,
            cb: () => {
                return this.hashDidChange(PiUrlHash.get());
            }
        });

        return this;
    }

    /**
     * Deixa de observar mudanças no hash da url
     * 
     * @returns {PiUrlHash}
     */
    unlisten() {
        const arr = PiUrlHash._callbacks;

        for (let i = 0; i < arr.length; i++) {
            const item = arr[i];
            if (item.id == this.#hashId) {
                PiUrlHash._callbacks.splice(i, 1);
                return this;
            }

        }

        return this;
    }

    /**
     * Retorna o valor atual do hash da url
     * 
     * @returns {string}
     */
    static get() {
        let h = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash;
        h = h.length == 0 ? h : h.substr(1);

        return h;
    }

    /**
     * Define o valor do hash da url
     * 
     * @param {string} hash - Valor do hash
     */
    static to(hash) {
        let h = PiUrlHash.get();
        let q = h.indexOf('?');

        if (q > -1) {
            q = h.substr(q);
            h = h.substr(0, q);
        } else {
            q = '';
        }

        if ('!' + h == hash || '!' + hash == h) {
            return this;
        }

        if (q.length > 0) {
            hash += q;
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = hash;

        return PiUrlHash;
    }

    /**
     * Retorna o valor da query string no hash da url
     * 
     * @param {string} key - Chave da query string
     * @returns {string}
     */
    static getQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (ps.length < 2) return '';
        let kv = ps[1].split('&');
        for (let i = 0; i < kv.length; i++) {
            var k = kv[i].split('=');
            if (k[0] == key) return decodeURIComponent(k[1]);
        }

        return '';
    }

    static getQueryInt(key) {
        return parseInt(PiUrlHash.getQueryString(key));
    }

    static getQueryFloat(key) {
        return parseFloat(PiUrlHash.getQueryString(key));
    }

    /**
     * Remove um par chave-valor da query string do hash da url
     * 
     * @param {string} key - Chave da query string
     */
    static removeQueryString(key) {
        let h = PiUrlHash.get();
        let ps = h.split('?');

        if (key == undefined) {
            (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = ps[0];
            return PiUrlHash;
        }

        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        delete map[key];

        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona um par chave-valor para a query string do hash da url
     * 
     * @param {string} key - Chave da query string
     * @param {string} value - Valor da query string
     */
    static addQueryString(key, value = '') {
        let h = PiUrlHash.get();
        let ps = h.split('?');
        let p = [];
        let map = [];

        if (ps.length > 1) {
            p = ps[1].split('&');
            for (let i = 0; i < p.length; i++) {
                if (p[i].length == 0) continue;

                let _ps = p[i].split('=');
                map[_ps[0]] = _ps[1];
            }
        }

        map[key] = value || '';
        var arr = [];
        for (const key in map) {
            arr.push(`${key}=${map[key]}`);
        }

        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = `${ps[0]}?${arr.join('&')}`;

        return PiUrlHash;
    }

    /**
     * Adiciona array de paths para o hash da url
     * 
     * @param  {...any} args - Array de paths
     */
    static add(...args) {
        let h = PiUrlHash.get();

        if (h.length > 0) {
            PiUrlHash.to(h + '/' + args.join('/'));
        } else {
            PiUrlHash.to(args.join('/'));
        }
    }

    /**
     * Remove do hash da url o valor informado
     * 
     * @param {string} str - String a ser removida
     * @returns {PiUrlhash}
     */
    static remove(str) {
        (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash = (0,_env__WEBPACK_IMPORTED_MODULE_1__.location)().hash.replace(str, '');

        return this;
    }

    static onWillChange(fn) {
        PiUrlHash._fnWillChanges.push(fn);
    }

    static onDidChange(fn) {
        PiUrlHash._fnDidChange.push(fn);
    }

};

var lastHash = null;
_env__WEBPACK_IMPORTED_MODULE_1__.global.onhashchange = function () {
    if (lastHash == PiUrlHash.get()) {
        return;
    }
    lastHash = PiUrlHash.get();

    const arr = PiUrlHash._callbacks;

    for (let i = 0; i < PiUrlHash._fnWillChanges.length; i++) {
        PiUrlHash._fnWillChanges[i](lastHash);
    }

    for (var i = 0; i < arr.length; i++) {
        arr[i].cb();
    }

    for (let i = 0; i < PiUrlHash._fnDidChanges.length; i++) {
        PiUrlHash._fnDidChanges[i](lastHash);
    }
};

(0,_env__WEBPACK_IMPORTED_MODULE_1__.register)(PiUrlHash);

/***/ }),

/***/ "./node_modules/pyllar/virtual_tree.js":
/*!*********************************************!*\
  !*** ./node_modules/pyllar/virtual_tree.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PiVirtualTree)
/* harmony export */ });
/* harmony import */ var _element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./element */ "./node_modules/pyllar/element.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./env */ "./node_modules/pyllar/env.js");



/**
 * @class
 */
class PiVirtualTree {
    #elementsParent = null;
    #velements = [];
    #components = [];
    #componentsParams = [];
    #componentParent = null;
    #hook = [];
    #scope = { context: {} };

    constructor(element, scope = { context: {} }, componentParent = null) {
        if (element instanceof Array) {
            this.#elementsParent = element;
        } else if (element instanceof HTMLCollection) {
            this.#elementsParent = element;
        } else {
            this.#elementsParent = [element];
        }

        this.#componentParent = componentParent;
        this.#scope = scope;
    }

    hook(name, fn) {
        this.#hook[name] = fn;

        return this;
    }

    load() {
        this._createVirtualElements(this.#elementsParent);
        this._createComponents();

        return this;
    }

    destroy() {
        for (let i = 0; i < this.#velements.length; i++) {
            const element = this.#velements[i];
            element.destroy();
        }

        for (let i = 0; i < this.#components.length; i++) {
            this.#components[i].destroy();
        }

        this.#velements = [];
        this.#components = [];
        this.#componentsParams = [];

        return this;
    }

    _createComponent(componentName) {
        const __constructor = (0,_env__WEBPACK_IMPORTED_MODULE_1__.findClass)(componentName);

        if (__constructor == undefined) {
            throw `Component não localizado: ${componentName}`;
        }

        return new __constructor();
    }

    _createComponents() {
        for (let i = 0; i < this.#componentsParams.length; i++) {
            const params = this.#componentsParams[i];
            const componentName = params.componentName;
            const velement = params.velement;
            const element = velement._element;
            const name = element.getAttribute('name');

            var component = null;

            if (this.#componentParent) {
                if (name) {
                    component = this.#componentParent[name];
                    if (component == null) {
                        component = this._createComponent(componentName);
                        this.#componentParent[name] = component;
                    }
                } else {
                    component = this._createComponent(componentName);
                }
            } else {
                component = this._createComponent(componentName);
            }

            velement.setComponent(component);
            component.render(element);
            this.#components.push(component);
        }
    }

    _createVirtualElements(elements) {
        if (elements == null) {
            return;
        }

        if (elements.length == 1 && elements[0] instanceof DocumentFragment) {
            this._createVirtualElements(elements[0].children);
            return;
        }

        for (let i = 0; i < elements.length; i++) {
            const element = elements[i];

            if (element instanceof Text) {
                continue;
            }

            if (element instanceof HTMLScriptElement) {
                continue;
            }

            if (element instanceof HTMLStyleElement) {
                continue;
            }

            if (element._pie == undefined) {
                this._invokeHook('will:create:velement');
                const velement = new _element__WEBPACK_IMPORTED_MODULE_0__["default"](element, this.#scope, this.#componentParent);
                this._invokeHook('did:create:velement', velement);
                this._invokeHook('will:load:velement', velement);
                velement.load(this.#componentParent);
                this._invokeHook('did:load:velement', velement);

                if (velement.isDestroyed) {
                    i--;
                    continue;
                }

                const componentName = element.getAttribute('component');
                if (componentName != null) {
                    this.#componentsParams.push({
                        velement: velement,
                        componentName: componentName
                    });
                }

                this.#velements.push(velement);
            }

            this._createVirtualElements(element.children);
        }
    }

    _invokeHook(name, ...params) {
        if (this.#hook[name]) {
            this.#hook[name](...params);
        }

        return this;
    }
};

/***/ }),

/***/ "./src/app.css":
/*!*********************!*\
  !*** ./src/app.css ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./app.css */ "./node_modules/css-loader/dist/cjs.js!./src/app.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_app_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/CifraView.css":
/*!*********************************!*\
  !*** ./src/cifra/CifraView.css ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./CifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/CifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_CifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/EditCifraView.css":
/*!*************************************!*\
  !*** ./src/cifra/EditCifraView.css ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_EditCifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./EditCifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/EditCifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_EditCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_EditCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_EditCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_EditCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/NewCifraView.css":
/*!************************************!*\
  !*** ./src/cifra/NewCifraView.css ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./NewCifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/NewCifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/cifra/PreviewCifraView.css":
/*!****************************************!*\
  !*** ./src/cifra/PreviewCifraView.css ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./PreviewCifraView.css */ "./node_modules/css-loader/dist/cjs.js!./src/cifra/PreviewCifraView.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/homepage/HomePage.css":
/*!***********************************!*\
  !*** ./src/homepage/HomePage.css ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./HomePage.css */ "./node_modules/css-loader/dist/cjs.js!./src/homepage/HomePage.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_HomePage_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./src/cifra/CifraService.js":
/*!***********************************!*\
  !*** ./src/cifra/CifraService.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraService)
/* harmony export */ });
/* harmony import */ var pyllar_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/env */ "./node_modules/pyllar/env.js");
/* harmony import */ var pyllar_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/service */ "./node_modules/pyllar/service.js");
/* harmony import */ var pyllar_url_hash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pyllar/url_hash */ "./node_modules/pyllar/url_hash.js");
/* harmony import */ var _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../homepage/HomePage */ "./src/homepage/HomePage.js");
/* harmony import */ var _NewCifraView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NewCifraView */ "./src/cifra/NewCifraView.js");
/* harmony import */ var _EditCifraView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./EditCifraView */ "./src/cifra/EditCifraView.js");
/* harmony import */ var _ListCifrasView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ListCifrasView */ "./src/cifra/ListCifrasView.js");
/* harmony import */ var _PreviewCifraView__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PreviewCifraView */ "./src/cifra/PreviewCifraView.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../routes */ "./src/routes.js");














class CifraService extends pyllar_service__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init() {
        super.init();
        this
            .addRoute(_routes__WEBPACK_IMPORTED_MODULE_8__.ROUTE_NEW_CIFRA.HASH, this.newCifra)
            .addRoute(_routes__WEBPACK_IMPORTED_MODULE_8__.ROUTE_EDIT_CIFRA.HASH, this.editCifra)
            .addRoute(_routes__WEBPACK_IMPORTED_MODULE_8__.ROUTE_LIST_CIFRA.HASH, this.listCifra)
            .addRoute(_routes__WEBPACK_IMPORTED_MODULE_8__.ROUTE_PREVIEW_CIFRA.HASH, this.previewCifra);
    }

    newCifra() {
        this._createHomePage(new _NewCifraView__WEBPACK_IMPORTED_MODULE_4__["default"]());
    }

    editCifra(id) {
        const edit = new _EditCifraView__WEBPACK_IMPORTED_MODULE_5__["default"]();
        this._createHomePage(edit);
        edit.loadMusica(id);
    }

    listCifra() {
        this._createHomePage(new _ListCifrasView__WEBPACK_IMPORTED_MODULE_6__["default"]());
    }

    previewCifra() {
        this._createHomePage(new _PreviewCifraView__WEBPACK_IMPORTED_MODULE_7__["default"]());
    }

    _createHomePage(view) {
        const homepage = new _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__["default"]();

        homepage.render(pyllar_env__WEBPACK_IMPORTED_MODULE_0__.global.app.$element);
        homepage.setView(view);

        return homepage;
    }

};

/***/ }),

/***/ "./src/cifra/CifraStream.js":
/*!**********************************!*\
  !*** ./src/cifra/CifraStream.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraStream)
/* harmony export */ });
/* harmony import */ var _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../musica/MusicaModel */ "./src/musica/MusicaModel.js");


class CifraStream {
    fnNewMusica = null;
    fnNewNote = null;

    constructor(host) {
        this.host = host;
    }

    onNewMusica(fn) {
        this.fnNewMusica = fn
    }

    onNewNote(fn) {
        this.fnNewNote = fn;
    }

    _processEvent(e) {
        try {
            const event = JSON.parse(e.data);

            if (event.type == 'new:musica') {
                (new _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_0__["default"]()).get(event.id).then((musica) => {
                    if(this.fnNewMusica){
                        this.fnNewMusica(musica);
                    }
                });

                return;
            }

            if (event.type == 'note') {
                if(this.fnNewNote){
                    this.fnNewNote(event.note);
                }
            }
        } catch (error) {

        }
    }

    connect() {
        const socket = new WebSocket(this.host);

        socket.addEventListener('open', event => {
            console.log('Conectado ao servidor WebSocket');

            // Envia uma mensagem ao servidor
            socket.send('Olá servidor!');
        });

        // Quando uma mensagem é recebida do servidor
        socket.addEventListener('message', event => {
            this._processEvent(event);
            console.log('Recebido do servidor:', event);
        });

        // Quando a conexão é fechada
        socket.addEventListener('close', event => {
            console.log('Desconectado do servidor WebSocket');
        });
    }
};

/***/ }),

/***/ "./src/cifra/CifraView.js":
/*!********************************!*\
  !*** ./src/cifra/CifraView.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ CifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../musica/MusicaModel */ "./src/musica/MusicaModel.js");
/* harmony import */ var _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../marcador/Marcador */ "./src/marcador/Marcador.js");
/* harmony import */ var _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../note/NoteCollection */ "./src/note/NoteCollection.js");
/* harmony import */ var _CifraView_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CifraView.css */ "./src/cifra/CifraView.css");








class CifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="cifra-view"><div class="titulo">{@_titulo}</div><div id="marcador" class="marcador"></div><pre id="content"></pre></div>`;

    _titulo = '';

    setStream(stream) {
        stream.onNewNote(note => {
            this.setMarcadorPosicao(note.position);
        });
    }

    async loadMusica(id, fn) {
        const musica = await (new _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__["default"]()).get(id);
        this.setMusica(musica, fn);
    }

    setMusica(musica, fn) {
        this.$element.find("#content").html(musica.cifra.replace(/\([^)]+\)/gi, (note) => {
            return `<b>${note}</b>`
        }));

        this._titulo = musica.titulo;

        this._loadNotes();
        this._loadMarcador();

        this.setMarcadorPosicao(1);
        if (fn) fn();
    }

    setMarcadorPosicao(position) {
        this.marcador.move(this.notes.getNoteByPosition(position));
    }

    _loadMarcador() {
        this.marcador = new _marcador_Marcador__WEBPACK_IMPORTED_MODULE_2__["default"](this.$element.find("#marcador"));
    }

    _loadNotes() {
        this.notes = new _note_NoteCollection__WEBPACK_IMPORTED_MODULE_3__["default"](this.$element.find("#content").find('b'));
    }
}

pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"].register(CifraView);

/***/ }),

/***/ "./src/cifra/EditCifraView.js":
/*!************************************!*\
  !*** ./src/cifra/EditCifraView.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ EditCifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../musica/MusicaModel */ "./src/musica/MusicaModel.js");
/* harmony import */ var _musica_Transposicao__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../musica/Transposicao */ "./src/musica/Transposicao.js");
/* harmony import */ var _ux_UxButton__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ux/UxButton */ "./src/ux/UxButton.js");
/* harmony import */ var _EditCifraView_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditCifraView.css */ "./src/cifra/EditCifraView.css");








class EditCifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = `<div class="edit-cifra">
        <fieldset>

            <div class="mb-3 d-flex flex-row-reverse actions">
                <button class="btn btn-secondary btn-sm" @click="transposeUp()">+ 1 Tom</button>
                <button class="btn btn-secondary btn-sm" @click="transposeDown()">- 1 Tom</button>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Título</label>
                <input type="text" data-model="titulo" class="form-control" placeholder="Título">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Versão</label>
                <input type="text" data-model="versao" class="form-control" placeholder="Versão">
            </div>

            <div class="mb-3">
                <pre class="form-control" data-model="cifra" id="editor" contenteditable="true"></pre>
            </div>

            <div class="mb-3 d-flex flex-row-reverse actions">
                <div name="save" @click="salvar()" component="UxButton"></div>
            </div>
        </fieldset>
    </div>`;

    _titulo = '';

    instances() {
        this.save = new _ux_UxButton__WEBPACK_IMPORTED_MODULE_3__["default"]({
            label: 'Salvar',
            classes: 'btn btn-sm btn-primary'
        });
    }

    loadMusica(id) {
        (new _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__["default"]()).get(id).then((musica) => {
            this.setMusica(musica);
        });
    }

    setMusica(musica) {
        this.musica = musica;

        this.inject(musica);
        this._setEditorHtml(musica.cifra);
    }

    salvar() {
        this.musica.inject(this);
        this.musica.cifra = this._getEditorHtml();

        this.musica.save().then(() => {
            this.save.unlock();
        });
    }

    transposeUp() {
        const cifra = this._getEditorHtml();

        this._replaceNotes(cifra, (note) => {
            return _musica_Transposicao__WEBPACK_IMPORTED_MODULE_2__["default"].up(note);
        });
    }

    transposeDown() {
        const cifra = this._getEditorHtml();

        this._replaceNotes(cifra, (note) => {
            return _musica_Transposicao__WEBPACK_IMPORTED_MODULE_2__["default"].down(note);
        });
    }

    _replaceNotes(cifra, fn) {
        const notes = /\([^\)+]*\)/gi.exec(cifra);

        const newCifra = cifra.replace(/\([^\)+]*\)/gi, (note) => {
            return `(${fn(note.replace('(', '').replace(')', ''))})`;
        });

        this._setEditorHtml(newCifra);
    }

    _setEditorHtml(html) {
        this.$element.find('#editor').html(html);
    }

    _getEditorHtml() {
        return this.$element.find('#editor').html();
    }
};

/***/ }),

/***/ "./src/cifra/ListCifrasView.js":
/*!*************************************!*\
  !*** ./src/cifra/ListCifrasView.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ ListCifrasView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../musica/MusicaModel */ "./src/musica/MusicaModel.js");




class ListCifrasView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Título</th>
                    <th scope="col">Versão</th>
                    <th scope="col">Criado Por</th>
                </tr>
            </thead>
            <tbody>
                <tr :foreach="(index, musica) in _musicas">
                    <th scope="row">{index + 1}</th>
                    <td><a :href="#{URL.ROUTE_EDIT_CIFRA.to(musica.id)}">{musica.titulo}</a></td>
                    <td>{musica.versao}</td>
                    <td>@necojr</td>
                </tr>
            </tbody>
        </table>
    </div>`;

    _musicas = [];

    viewDidLoad() {
        this._loadMusicas();
    }

    setMusicas(musicas) {
        this._musicas.clear().load(musicas);
    }

    _loadMusicas() {
        (new _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_1__["default"]()).all().then(musicas => {
            this.setMusicas(musicas);
        });
    }
};

/***/ }),

/***/ "./src/cifra/NewCifraView.js":
/*!***********************************!*\
  !*** ./src/cifra/NewCifraView.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NewCifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var pyllar_url_hash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/url_hash */ "./node_modules/pyllar/url_hash.js");
/* harmony import */ var _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../musica/MusicaModel */ "./src/musica/MusicaModel.js");
/* harmony import */ var _musica_Transposicao__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../musica/Transposicao */ "./src/musica/Transposicao.js");
/* harmony import */ var _ux_UxButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ux/UxButton */ "./src/ux/UxButton.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../routes */ "./src/routes.js");
/* harmony import */ var _NewCifraView_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NewCifraView.css */ "./src/cifra/NewCifraView.css");











class NewCifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = `<div class="edit-cifra">
        <fieldset>

            <div class="mb-3 d-flex flex-row-reverse actions">
                <button class="btn btn-secondary btn-sm" @click="transposeUp()">+ 1 Tom</button>
                <button class="btn btn-secondary btn-sm" @click="transposeDown()">- 1 Tom</button>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Título</label>
                <input type="text" data-model="titulo" class="form-control" placeholder="Título">
            </div>
            
            <div class="mb-3">
                <label class="form-label">Versão</label>
                <input type="text" data-model="versao" class="form-control" placeholder="Versão">
            </div>

            <div class="mb-3">
                <pre class="form-control" data-model="cifra" id="editor" contenteditable="true"></pre>
            </div>

            <div class="mb-3 d-flex flex-row-reverse actions">
                <div name="save" @click="salvar()" component="UxButton"></div>
            </div>
        </fieldset>
    </div>`;

    _titulo = '';

    instances() {
        this.save = new _ux_UxButton__WEBPACK_IMPORTED_MODULE_4__["default"]({
            label: 'Adicionar',
            classes: 'btn btn-sm btn-primary'
        });
    }

    salvar() {
        const musica = new _musica_MusicaModel__WEBPACK_IMPORTED_MODULE_2__["default"]();

        musica.inject(this);
        musica.cifra = this._getEditorHtml();

        musica.insert().then((musica) => {
            pyllar_url_hash__WEBPACK_IMPORTED_MODULE_1__["default"].set(_routes__WEBPACK_IMPORTED_MODULE_5__.ROUTE_EDIT_CIFRA.HASH, musica.id);
        });
    }

    transposeUp() {
        const cifra = this._getEditorHtml();

        this._replaceNotes(cifra, (note) => {
            return _musica_Transposicao__WEBPACK_IMPORTED_MODULE_3__["default"].up(note);
        });
    }

    transposeDown() {
        const cifra = this._getEditorHtml();

        this._replaceNotes(cifra, (note) => {
            return _musica_Transposicao__WEBPACK_IMPORTED_MODULE_3__["default"].down(note);
        });
    }

    _replaceNotes(cifra, fn) {
        const notes = /\([^\)+]*\)/gi.exec(cifra);

        const newCifra = cifra.replace(/\([^\)+]*\)/gi, (note) => {
            return `(${fn(note.replace('(', '').replace(')', ''))})`;
        });

        this._setEditorHtml(newCifra);
    }

    _setEditorHtml(html) {
        this.$element.find('#editor').html(html);
    }

    _getEditorHtml() {
        return this.$element.find('#editor').html();
    }
};

/***/ }),

/***/ "./src/cifra/PreviewCifraView.js":
/*!***************************************!*\
  !*** ./src/cifra/PreviewCifraView.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ PreviewCifraView)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var _PreviewCifraView_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PreviewCifraView.css */ "./src/cifra/PreviewCifraView.css");




class PreviewCifraView extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="preview-cifra">
        <div class="box">
            <div class="box-inner"></div>
        </div>
    </div>`
}

/***/ }),

/***/ "./src/homepage/HomePage.js":
/*!**********************************!*\
  !*** ./src/homepage/HomePage.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ HomePage)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cifra/CifraView */ "./src/cifra/CifraView.js");
/* harmony import */ var _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cifra/CifraStream */ "./src/cifra/CifraStream.js");
/* harmony import */ var _cifra_EditCifraView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cifra/EditCifraView */ "./src/cifra/EditCifraView.js");
/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../routes */ "./src/routes.js");
/* harmony import */ var _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../transporte/TransporteModel */ "./src/transporte/TransporteModel.js");
/* harmony import */ var _HomePage_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./HomePage.css */ "./src/homepage/HomePage.css");
/* harmony import */ var _cifra_PreviewCifraView__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../cifra/PreviewCifraView */ "./src/cifra/PreviewCifraView.js");














class HomePage extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<div class="container homepage">
        <div class="content">
            <div class="menu" id="menu">
                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link active" :href="#{URL.ROUTE_NEW_CIFRA.HASH}">Nova</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" :href="#{URL.ROUTE_LIST_CIFRA.HASH}">Pesquisar</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" :href="#{URL.ROUTE_PREVIEW_CIFRA.HASH}">Preview</a>
                    </li>
                </ul>
            </div>

            <div id="view"></div>
        </div>
    </div>`;

    instances() {
        this.cifraStream = new _cifra_CifraStream__WEBPACK_IMPORTED_MODULE_3__["default"](pyllar_config__WEBPACK_IMPORTED_MODULE_1__["default"].get('cifraStream'));
    }

    viewDidLoad() {
        this.cifraStream.connect();

        this._loadTransporte();
        this._loadEvents();
    }

    setView(view) {
        view.render(this.$element.find('#view'));
    }

    _loadTransporte() {
        (new _transporte_TransporteModel__WEBPACK_IMPORTED_MODULE_6__["default"]()).get().then((transporte) => {
            if (transporte == null) {
                // this.setView(new PreviewCifraView());
                return;
            }

            if (transporte.musicaId == 0) {
                // this.setView(new PreviewCifraView());
                return;
            }

            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            this.hideMenu();
            cifraView.loadMusica(transporte.musicaId, () => {
                cifraView.setMarcadorPosicao(transporte.posicao);
                cifraView.setMarcadorPosicao(40);
            });
        });
    }

    showMenu(){
        this.$element.find('#menu').show();
    }

    hideMenu(){
        this.$element.find('#menu').hide();
    }

    _loadEvents() {
        this.cifraStream.onNewMusica(musica => {
            const cifraView = new _cifra_CifraView__WEBPACK_IMPORTED_MODULE_2__["default"]();
            this.setView(cifraView);
            cifraView.setStream(this.cifraStream);
            cifraView.setMusica(musica);
            this.hideMenu();
        });
    }
}

/***/ }),

/***/ "./src/marcador/Marcador.js":
/*!**********************************!*\
  !*** ./src/marcador/Marcador.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Marcador)
/* harmony export */ });
class Marcador {

    constructor($marcador) {
        this.$marcador = $marcador;
        this.note = null;
    }

    move(note) {
        const position = note.position();
        const w = note.width();
        const h = note.height();

        this.$marcador.css('top', position.top - 2).css('left', position.left - 7);
        this.$marcador.css('width', w + 13).css('height', h + 4);

        note.save();
        setTimeout(() => {
            note.highlight();
        }, 200);

        if (this.note) {
            this.note.restore();
        }

        this.note = note;

        setTimeout(() => {
            this._moveScroll();
        }, 200);
    }

    _moveScroll() {
        const rect = this.$marcador.get(0).getBoundingClientRect();
        if (rect.bottom > window.innerHeight) {
            window.scrollBy(0, rect.bottom - window.innerHeight + 100);
          } else if (rect.top < 0) {
            window.scrollBy(0, rect.top);
          }
    }
};

/***/ }),

/***/ "./src/musica/MusicaModel.js":
/*!***********************************!*\
  !*** ./src/musica/MusicaModel.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MusicaModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class MusicaModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.musica'));
    }

    initWithJson(json){
        super.initWithJson(json);

        return this;
    }

    actions(){
        return {
            'insert': 'POST:/',
            'save': 'PUT:/',
            'get': 'GET:/:id',
            'all': 'GET:/'
        }
    }
}

/***/ }),

/***/ "./src/musica/Transposicao.js":
/*!************************************!*\
  !*** ./src/musica/Transposicao.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const NOTES = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new class Transposicao {
    up(note) {
        return this.transpose(note, 1);
    }

    down(note) {
        return this.transpose(note, -1);
    }

    transpose(note, steps) {
        // Encontra o índice da nota inicial no array de notas
        const index = NOTES.indexOf(note.toUpperCase());

        // Verifica se a nota fornecida é válida
        if (index === -1) {
            throw new Error('Nota inválida fornecida.');
        }

        // Calcula o novo índice após transposição
        let newIndex = (index + steps) % NOTES.length;

        // Ajusta o índice caso ele seja negativo
        if (newIndex < 0) {
            newIndex += NOTES.length;
        }

        // Retorna a nota transposta
        return NOTES[newIndex];
    }
});

/***/ }),

/***/ "./src/note/Note.js":
/*!**************************!*\
  !*** ./src/note/Note.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ Note)
/* harmony export */ });
class Note {
    constructor($note) {
        this.$note = $note;
    }

    highlight() {
        this.$note.css('color', 'white');
    }

    restore() {
        this.$note.css('color', this.$note.attr('data-color'));
    }

    save() {
        this.$note.attr('data-color', this.$note.css('color'));
    }

    position() {
        return this.$note.position();
    }

    width() {
        return this.$note.width();
    }

    height() {
        return this.$note.height();
    }

    get $element() {
        return this.$note;
    }
};

/***/ }),

/***/ "./src/note/NoteCollection.js":
/*!************************************!*\
  !*** ./src/note/NoteCollection.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ NotesCollection)
/* harmony export */ });
/* harmony import */ var _Note__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Note */ "./src/note/Note.js");


class NotesCollection extends Array {
    constructor($notes) {
        super();

        $notes.get().forEach((note, index) => {
            this.push(new _Note__WEBPACK_IMPORTED_MODULE_0__["default"]($(note)));
        });
    }

    getNoteByPosition(p) {
        return this[p + 1];
    }
};

/***/ }),

/***/ "./src/routes.js":
/*!***********************!*\
  !*** ./src/routes.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ROUTE_EDIT_CIFRA: () => (/* binding */ ROUTE_EDIT_CIFRA),
/* harmony export */   ROUTE_LIST_CIFRA: () => (/* binding */ ROUTE_LIST_CIFRA),
/* harmony export */   ROUTE_NEW_CIFRA: () => (/* binding */ ROUTE_NEW_CIFRA),
/* harmony export */   ROUTE_PREVIEW_CIFRA: () => (/* binding */ ROUTE_PREVIEW_CIFRA)
/* harmony export */ });
/* harmony import */ var pyllar_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/env */ "./node_modules/pyllar/env.js");


const ROUTE_EDIT_CIFRA = {
    NAME: 'editar cifra',
    HASH: '/cifra/edit/:id',
    to(id){
        return this.HASH.replace(':id', id);
    }
};

const ROUTE_NEW_CIFRA = {
    NAME: 'nova cifra',
    HASH: '/cifra/new'
};

const ROUTE_LIST_CIFRA = {
    NAME: 'listar cifras',
    HASH: '/cifras'
};

const ROUTE_PREVIEW_CIFRA = {
    NAME: 'listar cifras',
    HASH: '/cifra/preview',
};



(0,pyllar_env__WEBPACK_IMPORTED_MODULE_0__.register)('URL', {
    ROUTE_EDIT_CIFRA,
    ROUTE_NEW_CIFRA,
    ROUTE_LIST_CIFRA,
    ROUTE_PREVIEW_CIFRA
});


/***/ }),

/***/ "./src/transporte/TransporteModel.js":
/*!*******************************************!*\
  !*** ./src/transporte/TransporteModel.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ TransporteModel)
/* harmony export */ });
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var pyllar_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/model */ "./node_modules/pyllar/model.js");



class TransporteModel extends pyllar_model__WEBPACK_IMPORTED_MODULE_1__["default"] {
    init(){
        super.init(pyllar_config__WEBPACK_IMPORTED_MODULE_0__["default"].get('endpoint.transporte'));
    }

    actions(){
        return {
            'get': 'GET:/',
        }
    }
}

/***/ }),

/***/ "./src/ux/UxButton.js":
/*!****************************!*\
  !*** ./src/ux/UxButton.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ UxButton)
/* harmony export */ });
/* harmony import */ var pyllar_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/component */ "./node_modules/pyllar/component.js");


class UxButton extends pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"] {
    view = /*html*/`<button type="submit" :class="{classes}" @click="click($event)">{@label}</button>`;

    instances() {
        this._lock = false;
        this.label = "UxButton";
        this.classes = 'btn btn-filled';
        this.loadingLabel = 'Aguarde ...';
    }

    lock() {
        this._label = this.label;
        this.label = this.loadingLabel;
        this._lock = true;
    }

    unlock() {
        this.label = this._label;
        this._lock = false;
    }

    click(e) {
        e.preventDefault();
        e.stopPropagation();

        if (this._lock) {
            return;
        }

        this.lock();
        this.dispatchEvent("click");
    }
};

pyllar_component__WEBPACK_IMPORTED_MODULE_0__["default"].register(UxButton);

/***/ }),

/***/ "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%271600%27 height=%27198%27%3e%3cdefs%3e%3clinearGradient id=%27a%27 x1=%2750%25%27 x2=%2750%25%27 y1=%27-10.959%25%27 y2=%27100%25%27%3e%3cstop stop-color=%27%23fcc900%27 stop-opacity=%27.25%27 offset=%270%25%27/%3e%3cstop stop-color=%27%23fcc900%27 offset=%27100%25%27/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath fill=%27url%28%23a%29%27 fill-rule=%27evenodd%27 d=%27M.005 121C311 121 409.898-.25 811 0c400 0 500 121 789 121v77H0s.005-48 .005-77z%27/%3e%3c/svg%3e";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**************************!*\
  !*** ./src/bootstrap.js ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var pyllar_env__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pyllar/env */ "./node_modules/pyllar/env.js");
/* harmony import */ var pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pyllar/bootstrap */ "./node_modules/pyllar/bootstrap.js");
/* harmony import */ var pyllar_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pyllar/config */ "./node_modules/pyllar/config.js");
/* harmony import */ var _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./homepage/HomePage */ "./src/homepage/HomePage.js");
/* harmony import */ var _cifra_CifraService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cifra/CifraService */ "./src/cifra/CifraService.js");
/* harmony import */ var _app_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./app.css */ "./src/app.css");
/* harmony import */ var _cifra_ListCifrasView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cifra/ListCifrasView */ "./src/cifra/ListCifrasView.js");










if (window.appSettings) {
    pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].load(appSettings);
}

pyllar_config__WEBPACK_IMPORTED_MODULE_2__["default"].set('request.fetch', function (url, settings, success, error, next) {
    next();
});

new pyllar_bootstrap__WEBPACK_IMPORTED_MODULE_1__["default"]()
    .onLoad((boot) => {
        boot.addServices(new _cifra_CifraService__WEBPACK_IMPORTED_MODULE_4__["default"]());
    })
    .onReady((boot) => {
        boot.startServices();
        const homepage = new _homepage_HomePage__WEBPACK_IMPORTED_MODULE_3__["default"]();
        homepage.render(pyllar_env__WEBPACK_IMPORTED_MODULE_0__.global.app.$element);
        homepage.setView(new _cifra_ListCifrasView__WEBPACK_IMPORTED_MODULE_6__["default"]());
    })
    .load();
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxZQUFZLDZDQUFNO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNB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V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7O1dDTkE7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOzs7OztXQ3JCQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FvQztBQUNLO0FBQ0o7QUFDckM7QUFDMkM7QUFDSztBQUNoRDtBQUNrQjtBQUNrQztBQUNwRDtBQUNBO0FBQ0EsSUFBSSxxREFBUTtBQUNaO0FBQ0E7QUFDQSxxREFBUTtBQUNSO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsSUFBSSx3REFBUztBQUNiO0FBQ0EsNkJBQTZCLDJEQUFZO0FBQ3pDLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFRO0FBQ3JDLHdCQUF3Qiw4Q0FBTTtBQUM5Qiw2QkFBNkIsNkRBQWM7QUFDM0MsS0FBSztBQUNMLFkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9hcHAuY3NzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0NpZnJhVmlldy5jc3MiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvRWRpdENpZnJhVmlldy5jc3MiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvTmV3Q2lmcmFWaWV3LmNzcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9QcmV2aWV3Q2lmcmFWaWV3LmNzcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9ob21lcGFnZS9Ib21lUGFnZS5jc3MiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9hY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2FsaWFzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9hcHAuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2FycmF5LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9ib290LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9ib290c3RyYXAuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2NhbGxiYWNrLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9jbGFzcy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvY29tcG9uZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9jb25maWcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2RpY3Rpb25hcnkuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2Vudi5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvZXZlbnQuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2V4cHJlc3Npb24uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2Zvcl9kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL2ZvcmVhY2hfZGlyZWN0aXZlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvaGVscGVycy5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvaW5pdGlhbGl6ZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL25hdGl2ZV9lbGVtZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3JhbmRvbS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvcmVxdWVzdC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvcm91dGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3NlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3N0YXRlbWVudC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvc3RyaW5nLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3B5bGxhci90cmFuc2xhdGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3RyZWUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3R5cGUuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3VybC5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL25vZGVfbW9kdWxlcy9weWxsYXIvdXJsX2hhc2guanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvcHlsbGFyL3ZpcnR1YWxfdHJlZS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9hcHAuY3NzP2E2NzIiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmNzcz8yNGQ0Iiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0VkaXRDaWZyYVZpZXcuY3NzPzM2Y2UiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvTmV3Q2lmcmFWaWV3LmNzcz9hZDFmIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL1ByZXZpZXdDaWZyYVZpZXcuY3NzPzQzNDkiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuY3NzPzE2MzMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9jaWZyYS11eC8uL3NyYy9jaWZyYS9DaWZyYVNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFTdHJlYW0uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL0VkaXRDaWZyYVZpZXcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvTGlzdENpZnJhc1ZpZXcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvY2lmcmEvTmV3Q2lmcmFWaWV3LmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2NpZnJhL1ByZXZpZXdDaWZyYVZpZXcuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvbWFyY2Fkb3IvTWFyY2Fkb3IuanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvbXVzaWNhL011c2ljYU1vZGVsLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL211c2ljYS9UcmFuc3Bvc2ljYW8uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvbm90ZS9Ob3RlLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL25vdGUvTm90ZUNvbGxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvLi9zcmMvcm91dGVzLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL3RyYW5zcG9ydGUvVHJhbnNwb3J0ZU1vZGVsLmpzIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL3V4L1V4QnV0dG9uLmpzIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jaWZyYS11eC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NpZnJhLXV4L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vY2lmcmEtdXgvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2NpZnJhLXV4Ly4vc3JjL2Jvb3RzdHJhcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgOnJvb3R7XHJcbiAgICAtLWFwcC1jb2xvcjogI2EwMDdmZjtcclxufVxyXG5cclxuLmJ0bi1wcmltYXJ5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWFwcC1jb2xvcikgIWltcG9ydGFudDtcclxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYXBwLWNvbG9yKSAhaW1wb3J0YW50O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLDZDQUE2QztJQUM3Qyx5Q0FBeUM7QUFDN0NcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3R7XFxyXFxuICAgIC0tYXBwLWNvbG9yOiAjYTAwN2ZmO1xcclxcbn1cXHJcXG5cXHJcXG4uYnRuLXByaW1hcnkge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hcHAtY29sb3IpICFpbXBvcnRhbnQ7XFxyXFxuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tYXBwLWNvbG9yKSAhaW1wb3J0YW50O1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5jaWZyYS12aWV3IC5tYXJjYWRvciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOiAycHggMTBweDtcclxuICAgIHotaW5kZXg6IC0xO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgdHJhbnNpdGlvbjogdG9wIDAuMnMsIGxlZnQgMC4ycywgd2lkdGggMC4ycywgaGVpZ2h0IDAuMnM7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IGIge1xyXG4gICAgY29sb3I6ICNmNzA7XHJcbn1cclxuXHJcbi5jaWZyYS12aWV3IC50aXR1bG8ge1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgZm9udC1mYW1pbHk6IFJvYm90bztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWNvbG9yKTtcclxuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA3cHg7XHJcbiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA3cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY2lmcmEvQ2lmcmFWaWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixXQUFXO0lBQ1gsa0JBQWtCO0lBQ2xCLHdEQUF3RDtBQUM1RDs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLDRCQUE0QjtJQUM1QiwrQkFBK0I7SUFDL0IsOEJBQThCO0lBQzlCLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5jaWZyYS12aWV3IC5tYXJjYWRvciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgYmFja2dyb3VuZDogcmVkO1xcclxcbiAgICBjb2xvcjogd2hpdGU7XFxyXFxuICAgIHBhZGRpbmc6IDJweCAxMHB4O1xcclxcbiAgICB6LWluZGV4OiAtMTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xcclxcbiAgICB0cmFuc2l0aW9uOiB0b3AgMC4ycywgbGVmdCAwLjJzLCB3aWR0aCAwLjJzLCBoZWlnaHQgMC4ycztcXHJcXG59XFxyXFxuXFxyXFxuLmNpZnJhLXZpZXcgYiB7XFxyXFxuICAgIGNvbG9yOiAjZjcwO1xcclxcbn1cXHJcXG5cXHJcXG4uY2lmcmEtdmlldyAudGl0dWxvIHtcXHJcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcclxcbiAgICBmb250LWZhbWlseTogUm9ib3RvO1xcclxcbiAgICBmb250LXdlaWdodDogYm9sZDtcXHJcXG4gICAgYmFja2dyb3VuZDogdmFyKC0tYXBwLWNvbG9yKTtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDdweDtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogN3B4O1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgcGFkZGluZzogMTBweDtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAuZWRpdC1jaWZyYSAuZWRpdG9yIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYWE7XHJcbiAgICAvKiBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMSk7ICovXHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG4uZWRpdC1jaWZyYSAuYWN0aW9ucyBidXR0b257XHJcbiAgICBtYXJnaW46IDJweDtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2NpZnJhL0VkaXRDaWZyYVZpZXcuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLGdEQUFnRDtJQUNoRCxhQUFhO0lBQ2Isa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksV0FBVztBQUNmXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5lZGl0LWNpZnJhIC5lZGl0b3Ige1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcclxcbiAgICAvKiBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMSk7ICovXFxyXFxuICAgIHBhZGRpbmc6IDEwcHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLmVkaXQtY2lmcmEgLmFjdGlvbnMgYnV0dG9ue1xcclxcbiAgICBtYXJnaW46IDJweDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAubmV3LWNpZnJhIC5lZGl0b3Ige1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2FhYTtcclxuICAgIC8qIGJveC1zaGFkb3c6IDBweCAwcHggMTBweCByZ2JhKDAsIDAsIDAsIC4xKTsgKi9cclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5uZXctY2lmcmEgLmFjdGlvbnMgYnV0dG9uIHtcclxuICAgIG1hcmdpbjogMnB4O1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY2lmcmEvTmV3Q2lmcmFWaWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLHNCQUFzQjtJQUN0QixnREFBZ0Q7SUFDaEQsYUFBYTtJQUNiLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIubmV3LWNpZnJhIC5lZGl0b3Ige1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhO1xcclxcbiAgICAvKiBib3gtc2hhZG93OiAwcHggMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMSk7ICovXFxyXFxuICAgIHBhZGRpbmc6IDEwcHg7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLm5ldy1jaWZyYSAuYWN0aW9ucyBidXR0b24ge1xcclxcbiAgICBtYXJnaW46IDJweDtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwlM2NzdmcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgd2lkdGg9JTI3MTYwMCUyNyBoZWlnaHQ9JTI3MTk4JTI3JTNlJTNjZGVmcyUzZSUzY2xpbmVhckdyYWRpZW50IGlkPSUyN2ElMjcgeDE9JTI3NTAlMjUlMjcgeDI9JTI3NTAlMjUlMjcgeTE9JTI3LTEwLjk1OSUyNSUyNyB5Mj0lMjcxMDAlMjUlMjclM2UlM2NzdG9wIHN0b3AtY29sb3I9JTI3JTIzZmNjOTAwJTI3IHN0b3Atb3BhY2l0eT0lMjcuMjUlMjcgb2Zmc2V0PSUyNzAlMjUlMjcvJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSUyNyUyM2ZjYzkwMCUyNyBvZmZzZXQ9JTI3MTAwJTI1JTI3LyUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzYy9kZWZzJTNlJTNjcGF0aCBmaWxsPSUyN3VybCUyOCUyM2ElMjklMjcgZmlsbC1ydWxlPSUyN2V2ZW5vZGQlMjcgZD0lMjdNLjAwNSAxMjFDMzExIDEyMSA0MDkuODk4LS4yNSA4MTEgMGM0MDAgMCA1MDAgMTIxIDc4OSAxMjF2NzdIMHMuMDA1LTQ4IC4wMDUtNzd6JTI3LyUzZSUzYy9zdmclM2VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5wcmV2aWV3LWNpZnJhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMTAxRDtcclxufVxyXG5cclxuLnByZXZpZXctY2lmcmEgLmJveCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbiAgICBsZWZ0OiAwcHg7XHJcbiAgICByaWdodDogMHB4O1xyXG59XHJcblxyXG4ucHJldmlldy1jaWZyYSAuYm94OmJlZm9yZSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBjb250ZW50OiAnJztcclxuICAgIHdpZHRoOiBjYWxjKDEwMCUgKyAzMHB4KTtcclxuICAgIGhlaWdodDogY2FsYygxMDAlICsgMzBweCk7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKC43KTtcclxuICAgIGZpbHRlcjogYmx1cigwKTtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2l0aW9uOiBhbGwgNDUwbXMgY3ViaWMtYmV6aWVyKDAuMjMsIDEsIDAuMzIsIDEpO1xyXG59XHJcblxyXG4ucHJldmlldy1jaWZyYSAuYm94OmhvdmVyOmJlZm9yZSB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcclxuICAgIGZpbHRlcjogYmx1cig1MHB4KTtcclxufVxyXG5cclxuLnByZXZpZXctY2lmcmEgLmJveC1pbm5lciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnByZXZpZXctY2lmcmEgLmJveDpiZWZvcmUsXHJcbi5wcmV2aWV3LWNpZnJhIC5ib3gtaW5uZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0MDA5OTtcclxuICAgIGJveC1zaGFkb3c6IDJweCAycHggMTJweCAwIHJnYmEoMCwgMCwgMCwgMC41OCk7XHJcbiAgICAvKiBib3JkZXItcmFkaXVzOiAyMXB4OyAqL1xyXG5cclxuICAgIGJhY2tncm91bmQtaW1hZ2U6XHJcbiAgICAgICAgdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pLFxyXG4gICAgICAgIHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX199KSxcclxuICAgICAgICB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSk7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XHJcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2MDBweCA1MCU7XHJcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDEzMCUsIC01MHB4IDEzMCUsIDUwMHB4IDEzMCU7XHJcblxyXG4gICAgYW5pbWF0aW9uOiAyMHMgd2F2ZXMgbGluZWFyIGluZmluaXRlIGZvcndhcmRzO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHdhdmVzIHtcclxuICAgIHRvIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxNjAwcHggMTMwJSwgMzE1MHB4IDEzMCUsIDUzMDBweCAxMzAlO1xyXG4gICAgfVxyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvY2lmcmEvUHJldmlld0NpZnJhVmlldy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHVCQUF1QjtJQUN2QixhQUFhO0lBQ2IseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLFdBQVc7SUFDWCxZQUFZO0lBQ1osUUFBUTtJQUNSLFdBQVc7SUFDWCxTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCx3QkFBd0I7SUFDeEIseUJBQXlCO0lBQ3pCLFFBQVE7SUFDUixTQUFTO0lBQ1QsMENBQTBDO0lBQzFDLGVBQWU7SUFDZixVQUFVO0lBQ1Ysb0RBQW9EO0FBQ3hEOztBQUVBO0lBQ0kseUNBQXlDO0lBQ3pDLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTs7SUFFSSx5QkFBeUI7SUFDekIsOENBQThDO0lBQzlDLHlCQUF5Qjs7SUFFekI7OzsrQ0FHNGU7SUFDNWUsMkJBQTJCO0lBQzNCLDJCQUEyQjtJQUMzQixtREFBbUQ7O0lBRW5ELDZDQUE2QztBQUNqRDs7QUFFQTtJQUNJO1FBQ0ksMERBQTBEO0lBQzlEO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnByZXZpZXctY2lmcmEge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAxMTAxRDtcXHJcXG59XFxyXFxuXFxyXFxuLnByZXZpZXctY2lmcmEgLmJveCB7XFxyXFxuICAgIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgdG9wOiAwcHg7XFxyXFxuICAgIGJvdHRvbTogMHB4O1xcclxcbiAgICBsZWZ0OiAwcHg7XFxyXFxuICAgIHJpZ2h0OiAwcHg7XFxyXFxufVxcclxcblxcclxcbi5wcmV2aWV3LWNpZnJhIC5ib3g6YmVmb3JlIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBjb250ZW50OiAnJztcXHJcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSArIDMwcHgpO1xcclxcbiAgICBoZWlnaHQ6IGNhbGMoMTAwJSArIDMwcHgpO1xcclxcbiAgICB0b3A6IDUwJTtcXHJcXG4gICAgbGVmdDogNTAlO1xcclxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSguNyk7XFxyXFxuICAgIGZpbHRlcjogYmx1cigwKTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgdHJhbnNpdGlvbjogYWxsIDQ1MG1zIGN1YmljLWJlemllcigwLjIzLCAxLCAwLjMyLCAxKTtcXHJcXG59XFxyXFxuXFxyXFxuLnByZXZpZXctY2lmcmEgLmJveDpob3ZlcjpiZWZvcmUge1xcclxcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZSgxKTtcXHJcXG4gICAgZmlsdGVyOiBibHVyKDUwcHgpO1xcclxcbn1cXHJcXG5cXHJcXG4ucHJldmlldy1jaWZyYSAuYm94LWlubmVyIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucHJldmlldy1jaWZyYSAuYm94OmJlZm9yZSxcXHJcXG4ucHJldmlldy1jaWZyYSAuYm94LWlubmVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ0MDA5OTtcXHJcXG4gICAgYm94LXNoYWRvdzogMnB4IDJweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjU4KTtcXHJcXG4gICAgLyogYm9yZGVyLXJhZGl1czogMjFweDsgKi9cXHJcXG5cXHJcXG4gICAgYmFja2dyb3VuZC1pbWFnZTpcXHJcXG4gICAgICAgIHVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9VVRGLTgsJTNjc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2MDAnIGhlaWdodD0nMTk4JyUzZSUzY2RlZnMlM2UlM2NsaW5lYXJHcmFkaWVudCBpZD0nYScgeDE9JzUwJTI1JyB4Mj0nNTAlMjUnIHkxPSctMTAuOTU5JTI1JyB5Mj0nMTAwJTI1JyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBzdG9wLW9wYWNpdHk9Jy4yNScgb2Zmc2V0PScwJTI1Jy8lM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgb2Zmc2V0PScxMDAlMjUnLyUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzYy9kZWZzJTNlJTNjcGF0aCBmaWxsPSd1cmwoJTIzYSknIGZpbGwtcnVsZT0nZXZlbm9kZCcgZD0nTS4wMDUgMTIxQzMxMSAxMjEgNDA5Ljg5OC0uMjUgODExIDBjNDAwIDAgNTAwIDEyMSA3ODkgMTIxdjc3SDBzLjAwNS00OCAuMDA1LTc3eicvJTNlJTNjL3N2ZyUzZVxcXCIpLFxcclxcbiAgICAgICAgdXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD1VVEYtOCwlM2NzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nMTYwMCcgaGVpZ2h0PScxOTgnJTNlJTNjZGVmcyUzZSUzY2xpbmVhckdyYWRpZW50IGlkPSdhJyB4MT0nNTAlMjUnIHgyPSc1MCUyNScgeTE9Jy0xMC45NTklMjUnIHkyPScxMDAlMjUnJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIHN0b3Atb3BhY2l0eT0nLjI1JyBvZmZzZXQ9JzAlMjUnLyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzZmNjOTAwJyBvZmZzZXQ9JzEwMCUyNScvJTNlJTNjL2xpbmVhckdyYWRpZW50JTNlJTNjL2RlZnMlM2UlM2NwYXRoIGZpbGw9J3VybCglMjNhKScgZmlsbC1ydWxlPSdldmVub2RkJyBkPSdNLjAwNSAxMjFDMzExIDEyMSA0MDkuODk4LS4yNSA4MTEgMGM0MDAgMCA1MDAgMTIxIDc4OSAxMjF2NzdIMHMuMDA1LTQ4IC4wMDUtNzd6Jy8lM2UlM2Mvc3ZnJTNlXFxcIiksXFxyXFxuICAgICAgICB1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PVVURi04LCUzY3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxNjAwJyBoZWlnaHQ9JzE5OCclM2UlM2NkZWZzJTNlJTNjbGluZWFyR3JhZGllbnQgaWQ9J2EnIHgxPSc1MCUyNScgeDI9JzUwJTI1JyB5MT0nLTEwLjk1OSUyNScgeTI9JzEwMCUyNSclM2UlM2NzdG9wIHN0b3AtY29sb3I9JyUyM2ZjYzkwMCcgc3RvcC1vcGFjaXR5PScuMjUnIG9mZnNldD0nMCUyNScvJTNlJTNjc3RvcCBzdG9wLWNvbG9yPSclMjNmY2M5MDAnIG9mZnNldD0nMTAwJTI1Jy8lM2UlM2MvbGluZWFyR3JhZGllbnQlM2UlM2MvZGVmcyUzZSUzY3BhdGggZmlsbD0ndXJsKCUyM2EpJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGQ9J00uMDA1IDEyMUMzMTEgMTIxIDQwOS44OTgtLjI1IDgxMSAwYzQwMCAwIDUwMCAxMjEgNzg5IDEyMXY3N0gwcy4wMDUtNDggLjAwNS03N3onLyUzZSUzYy9zdmclM2VcXFwiKTtcXHJcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xcclxcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2MDBweCA1MCU7XFxyXFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgMTMwJSwgLTUwcHggMTMwJSwgNTAwcHggMTMwJTtcXHJcXG5cXHJcXG4gICAgYW5pbWF0aW9uOiAyMHMgd2F2ZXMgbGluZWFyIGluZmluaXRlIGZvcndhcmRzO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHdhdmVzIHtcXHJcXG4gICAgdG8ge1xcclxcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMTYwMHB4IDEzMCUsIDMxNTBweCAxMzAlLCA1MzAwcHggMTMwJTtcXHJcXG4gICAgfVxcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5ob21lcGFnZSAubWVudSB7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xyXG4gICAgY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDtcclxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uaG9tZXBhZ2UgLm1lbnUgYXtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvaG9tZXBhZ2UvSG9tZVBhZ2UuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksNEJBQTRCO0lBQzVCLFdBQVc7SUFDWCxnQ0FBZ0M7SUFDaEMsK0JBQStCO0lBQy9CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuaG9tZXBhZ2UgLm1lbnUge1xcclxcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1hcHAtY29sb3IpO1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XFxyXFxufVxcclxcblxcclxcbi5ob21lcGFnZSAubWVudSBhe1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTtcblxuICAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfVxuXG4gIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcydcbmltcG9ydCBQaVJlcXVlc3QgZnJvbSAnLi9yZXF1ZXN0J1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnXG5pbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSdcbmltcG9ydCBQaVVybCBmcm9tICcuL3VybCdcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBY3Rpb24gZXh0ZW5kcyBQaUNsYXNzIHtcbiAgICAjcmVxdWVzdCA9IG5ldyBQaVJlcXVlc3QoKTtcbiAgICAjcHJvbWlzZSA9IG5ldyBQaVByb21pc2UoKTtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucylcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHByb21pc2VcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGdldCBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgbWV0aG9kXG4gICAgICovXG4gICAgaW52b2tlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbE1vZGVsTWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc0Vycm9yUmVzcG9uc2UoKSB7XG4gICAgICAgIHRoaXMuI3Byb21pc2UucmVqZWN0LmFwcGx5KHRoaXMuI3Byb21pc2UsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcHJvY2Vzc1N1Y2Nlc3NSZXNwb25zZShkYXRhLCBwYWdpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lnbm9yZV9yZXNwb25zZSkge1xuICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKHRoaXMubW9kZWwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbC5jcmVhdGUoKS5pbml0V2l0aEpzb24oZGF0YVtpXSk7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kZWwgaW5zdGFuY2VvZiBQaVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwub2soKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvbWlzZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNwcm9taXNlLnJlc29sdmUoYXJyLCBwYWdpbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBQaVByb21pc2Uud2FpdChwcm9taXNlcykub2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNwcm9taXNlLnJlc29sdmUoYXJyLCBwYWdpbmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLm1vZGVsLmNyZWF0ZSgpLmluaXRXaXRoSnNvbihkYXRhKTtcblxuICAgICAgICAgICAgaWYgKG1vZGVsIGluc3RhbmNlb2YgUGlQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgbW9kZWwub2soKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jcHJvbWlzZS5yZXNvbHZlKGRhdGEsIHBhZ2luZyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuI3Byb21pc2UucmVzb2x2ZShtb2RlbCwgcGFnaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICB0aGlzLl9wYXJzZVN0bXQodGhpcy5hY3Rpb25TdG10KTtcbiAgICAgICAgdGhpcy5fYWRkTW9kZWxNZXRob2QoKTtcbiAgICB9XG5cbiAgICBfYWRkTW9kZWxNZXRob2QoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5faXNfc3RhdGljKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmNvbnN0cnVjdG9yW3RoaXMuYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IFBpQWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogc2VsZi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TdG10OiBzZWxmLnN0bXQsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBzZWxmLm1vZGVsLmNsb25lKClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBhY3Rpb24uaW52b2tlLmFwcGx5KGFjdGlvbiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLm9rKG9rKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1vZGVsW3RoaXMuYWN0aW9uTmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gc2VsZi5pbnZva2UuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5vayhvayk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfY2FsbE1vZGVsTWV0aG9kKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy4jcHJvbWlzZSA9IG5ldyBQaVByb21pc2UoKTtcblxuICAgICAgICBpZiAoUGlUeXBlLmlzT2JqZWN0KGFyZ3NbMF0pKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmluamVjdChhcmdzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tZXRob2QgPT0gJ0dFVCcgfHwgdGhpcy5fbWV0aG9kID09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUmVxdWVzdEdldC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tZXRob2QgPT0gJ1BVVCcgfHwgdGhpcy5fbWV0aG9kID09ICdQT1NUJyB8fCB0aGlzLl9tZXRob2QgPT0gJ0RFTEVURScgfHwgdGhpcy5fbWV0aG9kID09ICdQQVRIJykge1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlUmVxdWVzdFBvc3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlUmVxdWVzdEdldCguLi5hcmdzKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9jcmVhdGVVcmwoLi4uYXJncyk7XG5cbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3QuaXNTZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdFdpbGxHZXQodXJsKTtcblxuICAgICAgICB0aGlzLiNyZXF1ZXN0LmdldEpzb24odXJsKVxuICAgICAgICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLnJlc3BvbnNlU3VjY2Vzc1dpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGpzb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VFcnJvcldpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdERpZEdldCh1cmwpO1xuICAgIH1cblxuICAgIF9jcmVhdGVSZXF1ZXN0UG9zdCguLi5hcmdzKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLl9jcmVhdGVVcmwoLi4uYXJncyk7XG4gICAgICAgIGxldCBqc29uID0gdGhpcy5tb2RlbC50b0pzb24oKTtcblxuICAgICAgICBpZiAodGhpcy4jcmVxdWVzdC5pc1NlbmRpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tb2RlbC5yZXF1ZXN0V2lsbFBvc3QoanNvbiwgdXJsKTtcbiAgICAgICAgdGhpcy4jcmVxdWVzdC5zZXRNZXRob2QodGhpcy5fbWV0aG9kKS5wb3N0SnNvbih1cmwsIGpzb24pXG4gICAgICAgICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VTdWNjZXNzV2lsbExvYWQuYXBwbHkodGhpcy5tb2RlbCwgW3RoaXMsIHVybCwganNvbi5kYXRhLCBqc29uLnBhZ2luZ10pO1xuICAgICAgICAgICAgfSkuY2F0Y2goKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnc1swXSBpbnN0YW5jZW9mIFR5cGVFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwucmVzcG9uc2VFcnJvcldpbGxMb2FkLmFwcGx5KHRoaXMubW9kZWwsIFt0aGlzLCB1cmwsIGpzb24uZGF0YSwganNvbi5wYWdpbmddKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubW9kZWwucmVxdWVzdERpZFBvc3QoanNvbiwgdXJsKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlVXJsKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGFjdGlvbiA9IHRoaXMuX2dldEFjdGlvbiguLi5hcmdzKTtcbiAgICAgICAgbGV0IHVybCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKSBpbnN0YW5jZW9mIFBpVXJsKSB7XG4gICAgICAgICAgICB1cmwgPSBQaVVybC5jcmVhdGUodGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkpLnBhdGgoYWN0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKS5pbmRleE9mKCdodHRwJykgPiAtMSkge1xuICAgICAgICAgICAgICAgIHVybCA9IFBpVXJsLmNyZWF0ZSh0aGlzLm1vZGVsLmdldEJhc2VVcmwoKSArIGFjdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVybCA9IFBpVXJsLmNyZWF0ZSgnbG9jYWxob3N0JywgdGhpcy5tb2RlbC5nZXRCYXNlVXJsKCkgKyBhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBfZ2V0QWN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdXJsLnJlcGxhY2UoL1xcOlxcdytbXFwoXFx3KlxcKV0qL2dpLCAocGF0dGVybikgPT4ge1xuICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gcGF0dGVybi5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICBsZXQgbW9kZWxWYWx1ZSA9IHRoaXMubW9kZWxbcHJvcGVydHldIHx8ICcnO1xuXG4gICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbFZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGFyZ3NbY291bnQrK10gfHwgbW9kZWxWYWx1ZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3BhcnNlU3RtdChzdG10KSB7XG4gICAgICAgIGNvbnN0IHAgPSBzdG10LnNwbGl0KCc6LycpO1xuICAgICAgICBjb25zdCBtZXRob2QgPSBwWzBdO1xuICAgICAgICBjb25zdCBwYXRoID0gcFsxXTtcblxuICAgICAgICB0aGlzLl9pc19zdGF0aWMgPSBmYWxzZTtcbiAgICAgICAgaWYgKG1ldGhvZC5pbmRleE9mKCdzdGF0aWMnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pc19zdGF0aWMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faWdub3JlX3Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIGlmIChtZXRob2QuaW5kZXhPZignficpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2lnbm9yZV9yZXNwb25zZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl91cmwgPSBwYXRoLmxlbmd0aCA/ICcvJyArIHBhdGggOiAnJztcblxuICAgICAgICBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ0dFVCcpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdHRVQnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdQT1NUJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXQudG9VcHBlckNhc2UoKS5pbmRleE9mKCdQVVQnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnUFVUJztcbiAgICAgICAgfSBlbHNlIGlmIChzdG10LnRvVXBwZXJDYXNlKCkuaW5kZXhPZignREVMRVRFJykgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ1BBVEgnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnUEFUSCc7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RtdC50b1VwcGVyQ2FzZSgpLmluZGV4T2YoJ09QVElPTlMnKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnT1BUSU9OUyc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fdXJsLmluZGV4T2YoJz8nKSA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9tZXRob2QgPSAnR0VUJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgfVxuICAgIH1cblxufTsiLCJpbXBvcnQgUGlEaWN0aW9uYXJ5IGZyb20gXCIuL2RpY3Rpb25hcnlcIjtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBcyB7XG4gICAgI2FsaWFzID0gbmV3IFBpRGljdGlvbmFyeSgpO1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgYSBsaXN0YSBkZSBwYXJhbWV0cm9zIGFvIGNvbmp1bnRvXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgYWRkKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogbnVtZXJvIGluc3VsZmljaWVudGUgZGUgcGFyYW1ldHJvc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogZXN0ZSBhcGVsaWRvIGphIGZvaSBkZWZpbmlkbzogXCIgKyBhcmd1bWVudHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkoYXMpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI2FsaWFzLmFkZChhcmd1bWVudHNbMF0sIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHVhbGl6YSBvIGNvbmp1bnRvXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IFwiUGlBczogbnVtZXJvIGluc3VsZmljaWVudGUgZGUgcGFyYW1ldHJvc1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFyZ3VtZW50c1swXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGFyZ3VtZW50c1swXSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdmFsdWUgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFzID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkoYXMpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBhcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI2FsaWFzLmFkZChhcmd1bWVudHNbMF0sIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdW0gaXRlbSBkbyBjb25qdW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcyAtIEl0ZW1cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICByZW1vdmUoYXMpIHtcbiAgICAgICAgdGhpcy4jYWxpYXMucmVtb3ZlKGFzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHNlIGV4aXN0ZSBvIGl0ZW0gbm8gY29uanVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXMgXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3QoYXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FsaWFzLmV4aXN0S2V5KGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgZG8gaXRlbVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhcyBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldFZhbHVlKGFzKSB7XG4gICAgICAgIGxldCB2ID0gdGhpcy4jYWxpYXMuZ2V0VmFsdWUoYXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmV4aXN0KGFzKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy4jYWxpYXMuZXhpc3RLZXkodikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH1cbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcydcbmltcG9ydCBQaVVybCBmcm9tICcuL3VybCdcbmltcG9ydCB7IHJlZ2lzdGVyLCBsb2NhdGlvbiB9IGZyb20gJy4vZW52J1xuaW1wb3J0IFBpVXJsSGFzaCBmcm9tICcuL3VybF9oYXNoJztcblxuaWYgKGxvY2F0aW9uKCkuaG9zdC5sZW5ndGggPT0gMCkge1xuICAgIFBpVXJsLmFkZCgnbG9jYWxob3N0JywgJ2h0dHA6Ly9sb2NhbGhvc3QnKTtcbn0gZWxzZSB7XG4gICAgUGlVcmwuYWRkKCdsb2NhbGhvc3QnLCBQaVVybC5jcmVhdGUobG9jYXRpb24oKS50b1N0cmluZygpKS5ocmVmKCkpO1xufVxuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUFwcCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgIHBhZ2UgPSBudWxsO1xuICAgIHNlcnZpY2VzID0gW107XG4gICAgX3RvdGFsUm91dGVOb3RGb3VuZCA9IDA7XG5cbiAgICBpbml0KCl7XG4gICAgICAgIHN1cGVyLmluaXQoKTtcblxuICAgICAgICBQaVVybEhhc2gub25XaWxsQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsUm91dGVOb3RGb3VuZCA9IDA7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3BvID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgcmVnaXN0ZXIoY3BvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFkZFNlcnZpY2VzKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgc2VydmljZS5vblJvdXRlTm90Rm91bmQoKHJvdXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG90YWxSb3V0ZU5vdEZvdW5kKys7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdG90YWxSb3V0ZU5vdEZvdW5kID09IHRoaXMuc2VydmljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3JvdXRlTm90Rm91bmQocm91dGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnNlcnZpY2VzLnB1c2goc2VydmljZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgXG4gICAgc3RhcnRTZXJ2aWNlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgIHNlcnZpY2Uuc3RhcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0b3BTZXJ2aWNlcygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlcnZpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gdGhpcy5zZXJ2aWNlc1tpXTtcbiAgICAgICAgICAgIHNlcnZpY2Uuc3RvcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0UGFnZShwYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYWdlLnJlbmRlcih0aGlzLmVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMucGFnZSA9IHBhZ2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZ2V0UGFnZSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlO1xuICAgIH1cblxuICAgIG9wZW5Nb2RhbChtb2RhbCkge1xuICAgICAgICBtb2RhbC5yZW5kZXIodGhpcy5lbGVtZW50LCB0cnVlKTtcbiAgICB9XG5cbiAgICAjcm91dGVOb3RGb3VuZChyb3V0ZSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VydmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLnNlcnZpY2VzW2ldO1xuICAgICAgICAgICAgaWYgKHNlcnZpY2Uucm91dGVOb3RGb3VuZCkge1xuICAgICAgICAgICAgICAgIHNlcnZpY2Uucm91dGVOb3RGb3VuZChyb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn07IiwiLyoqXG4gKiBAY2xhc3NcbiAqIEBuYW1lIFBpQXJyYXlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlBcnJheSB7XG4gICAgc3RhdGljIGFkZE1ldGhvZChhcnJheSwgbmFtZSwgY2IpIHtcbiAgICAgICAgY29uc3QgY2JzID0gW107XG4gICAgICAgIGlmIChhcnJheVtuYW1lXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNicy5wdXNoKGNiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcnJheSwgbmFtZSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICguLi5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBjYi5jYWxsKGFycmF5LCAuLi5wYXJhbXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn07IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHsgZ2xvYmFsLCBhcHAgfSBmcm9tICcuL2VudidcbmltcG9ydCBQaUFwcCBmcm9tICcuL2FwcCdcbmltcG9ydCBQaVRyZWUgZnJvbSAnLi90cmVlJ1xuaW1wb3J0IFBpVmlydHVhbFRyZWUgZnJvbSAnLi92aXJ0dWFsX3RyZWUnXG5pbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJ1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUJvb3QgZXh0ZW5kcyBQaUNsYXNzIHtcblxuICAgIGNyZWF0ZUFwcCgpIHtcbiAgICAgICAgaWYgKGFwcCgpID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZ2xvYmFsLmFwcCA9IG5ldyBQaUFwcCgpO1xuICAgICAgICAgICAgZ2xvYmFsLmFwcC5fc2NvcGUgPSB7IGNvbnRleHQ6IGFwcCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmFwcCA9IG5ldyBBcHAoKTtcbiAgICAgICAgICAgIGdsb2JhbC5hcHAuX3Njb3BlID0geyBjb250ZXh0OiBhcHAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWwuYXBwO1xuICAgIH1cblxuICAgIGxvYWRBcHAoKSB7XG4gICAgICAgIGlmIChQaUNvbmZpZy5nZXQoJ2FwcC5wYXJzZS5lbmFibGUnKSkge1xuICAgICAgICAgICAgdGhpcy4jY3JlYXRlVmlydHVhbFRyZWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICNjcmVhdGVWaXJ0dWFsVHJlZSgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoUGlDb25maWcuZ2V0KCdhcHAucGFyc2Uuc2VsZWN0b3InKSk7XG4gICAgICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGBQaUJvb3Q6IE7Do28gZm9pIHBvc3PDrXZlbCBlbmNvbnRyYXIgbyBlbGVtZW50byBwZWxvIHNlbGV0b3IgaW5mb3JtYWRvICR7UGlDb25maWcuZ2V0KCdhcHAucGFyc2Uuc2VsZWN0b3InKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgcm9vdCA9IFBpVHJlZS5wYXJzZShlbGVtZW50LmlubmVySFRNTCk7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKHJvb3QpO1xuXG4gICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoZWxlbWVudCwgYXBwKCkuX3Njb3BlLCBhcHAoKSk7XG4gICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICBhcHAoKS5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgYXBwKCkuJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuICAgIH1cbn07IiwiaW1wb3J0IFBpQm9vdCBmcm9tICcuL2Jvb3QnXG5pbXBvcnQgUGlJbml0IGZyb20gJy4vaW5pdGlhbGl6ZSdcbmltcG9ydCBQaUNhbGxiYWNrIGZyb20gJy4vY2FsbGJhY2snXG5pbXBvcnQgXyBmcm9tICcuL25hdGl2ZV9lbGVtZW50J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb290c3RyYXAge1xuICAgICNob29rcyA9IG5ldyBQaUNhbGxiYWNrKCk7XG5cbiAgICBvbkluaXQoZm4pe1xuICAgICAgICB0aGlzLiNob29rcy5hZGQoJ2luaXQnLCBmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb25Mb2FkKGZuKXtcbiAgICAgICAgdGhpcy4jaG9va3MuYWRkKCdsb2FkJywgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIG9uUmVhZHkoZm4pe1xuICAgICAgICB0aGlzLiNob29rcy5hZGQoJ3JlYWR5JywgZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWQoKSB7XG4gICAgICAgIGNvbnN0IGJvb3QgPSBuZXcgUGlCb290KCk7XG4gICAgICAgIGxldCBhcHAgPSBudWxsO1xuXG4gICAgICAgIFBpSW5pdFxuICAgICAgICAgICAgLmluaXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuI2hvb2tzLnRyaWdnZXIoJ2luaXQnLCBhcHApO1xuICAgICAgICAgICAgICAgIGFwcCA9IGJvb3QuY3JlYXRlQXBwKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXJ0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdsb2FkJywgYXBwKTtcbiAgICAgICAgICAgICAgICBib290LmxvYWRBcHAoKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdyZWFkeScsIGFwcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IFBpSW5pdC5sb2FkKCk7XG4gICAgfVxufSIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQ2FsbGJhY2sge1xuICAgICNsaXN0ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdG9kb3Mgb3MgbGlzdGVuZXJzXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpQ2FsbGJhY2t9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI2xpc3QgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBjYWxsYmFja1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gRnVuw6fDo28gZGUgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQ29udGV4dG8gb25kZSBvIGNhbGxiYWNrIHNlcsOhIGNoYW1hZG9cbiAgICAgKiBAcmV0dXJucyB7UGlDYWxsYmFja31cbiAgICAgKi9cbiAgICBhZGQobmFtZSwgZm4sIGN0eCkge1xuICAgICAgICBpZiAodGhpcy4jbGlzdFtuYW1lXSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLiNsaXN0W25hbWVdID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNsaXN0W25hbWVdLnB1c2goeyBuYW1lOiBuYW1lLCBmbjogZm4sIGN0eDogY3R4IH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB1bSBjYWxsYmFjayBwb3Igbm9tZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUNhbGxiYWNrfVxuICAgICAqL1xuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5leGlzdChuYW1lKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgdGhpcy4jbGlzdFtuYW1lXSA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGV4aXN0ZSB1bSBjYWxsYmFjayBhZGljaW9uYWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZXhpc3QobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdFtuYW1lXSAhPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdW1hIGxpc3RhIGNvbSB0b2RvcyBvcyBjYWxsYmFja3MgYWRpY2lvbmFkbyBwZWxvIG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZG8gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7YXJyYXl9XG4gICAgICovXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV4aXN0KG5hbWUpKSByZXR1cm4gW107XG4gICAgICAgIHJldHVybiB0aGlzLiNsaXN0W25hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgZ2V0KG5hbWUpXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuICAgIGZpbmRBbGwobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGFyYSBvcyBjYWxsYmFjayBhZGljaW9uYWRvcyBwZWxvIG5vbWVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWVcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBMaXN0YSBkZSBwYXJhbWV0cm9zIHBhc3NhZG8gcGFyYSBvIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICB0cmlnZ2VyKG5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGFyciA9IHRoaXMuZmluZEFsbChuYW1lKTtcbiAgICAgICAgbGV0IHIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBpdGVtID0gYXJyW2ldO1xuXG4gICAgICAgICAgICByID0gaXRlbS5mbi5hcHBseShpdGVtLmN0eCwgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG59OyIsImltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gXCIuL29iamVjdFwiXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpQ2xhc3Mge1xuICAgICNwYXJhbWV0ZXJzID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMoLi4uYXJncyk7XG5cbiAgICAgICAgaWYgKFBpVHlwZS5pc09iamVjdChhcmdzWzBdKSkge1xuICAgICAgICAgICAgUGlPYmplY3QuZXh0ZW5kQW5kQ2FsbCh0aGlzLCBhcmdzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuI3BhcmFtZXRlcnMgPSBhcmdzWzBdID09IHVuZGVmaW5lZCA/IHt9IDogYXJnc1swXTtcblxuICAgICAgICB0aGlzLmluaXQoLi4uYXJncyk7XG4gICAgfVxuXG4gICAgaW5zdGFuY2VzKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBvIHBhcmFtZXRybyBmb3JuZWNpZG8gbmEgY3JpYcOnw6NvIGRvIG9iamV0b1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0IHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBhcyBwcm9wcmllZGFkZXMgZG8gb2JqZXRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtqc29ufSBqc29uIC0gT2JqZXRvIGEgc2VyIGluamV0YWRvIG5vIG9iamV0byBhdHVhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGluamVjdChqc29uKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGpzb24pIHtcbiAgICAgICAgICAgIHRoaXNbcHJvcGVydHldID0ganNvbltwcm9wZXJ0eV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbml0KCkge1xuXG4gICAgfVxuXG4gICAganNvbldpbGxDb252ZXJ0KCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydGUgbyBvYmpldG8gZW0gdW0ganNvblxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgdG9Kc29uKCkge1xuICAgICAgICB0aGlzLmpzb25XaWxsQ29udmVydCgpO1xuICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgICAgICB0aGlzLmpzb25EaWRDb252ZXJ0KGpzb24pO1xuXG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cblxuICAgIGpzb25EaWRDb252ZXJ0KGpzb24pIHtcblxuICAgIH1cblxuICAgIGNsb25lV2lsbExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uYSBvIG9iamV0byBhdHVhbFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGNsb25lKCkge1xuICAgICAgICB0aGlzLmNsb25lV2lsbExvYWQoKTtcbiAgICAgICAgbGV0IGpzb24gPSB0aGlzLnRvSnNvbigpO1xuICAgICAgICBsZXQgY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihqc29uKTtcbiAgICAgICAgdGhpcy5jbG9uZURpZExvYWQoY2xvbmUpO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBjbG9uZURpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBub3ZhIGluc3RhbmNpYSBkYSBjbGFzc2VcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgXG4gICAgICogQHJldHVybnMge3RoaXN9XG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcyguLi5hcmdzKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLi4uYXJncyk7XG4gICAgfVxufTsiLCJpbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSdcbmltcG9ydCBQaUNsYXNzIGZyb20gXCIuL2NsYXNzXCI7XG5pbXBvcnQgUGlFdmVudCBmcm9tIFwiLi9ldmVudFwiO1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJ1xuaW1wb3J0IFBpTW9kZWwgZnJvbSAnLi9tb2RlbCdcbmltcG9ydCBQaU9iamVjdCBmcm9tICcuL29iamVjdCdcbmltcG9ydCBQaVRyZWUgZnJvbSBcIi4vdHJlZVwiO1xuaW1wb3J0IFBpVmlydHVhbFRyZWUgZnJvbSBcIi4vdmlydHVhbF90cmVlXCI7XG5pbXBvcnQgeyBnbG9iYWwgfSBmcm9tICcuL2VudidcbmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSAnLi9lbnYnO1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IFBpUmFuZG9tIGZyb20gJy4vcmFuZG9tJztcblxuY29uc3QgJCA9IGdsb2JhbC4kO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUNvbXBvbmVudCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgIGV2ZW50ID0gbmV3IFBpRXZlbnQoKTtcblxuICAgICN2dHJlZXMgPSBbXTtcbiAgICAjd2F0Y2hzID0gW107XG4gICAgI3Njb3BlID0gbnVsbDtcbiAgICAjJGVsZW1lbnQgPSBudWxsO1xuICAgICNpc1BhcmVudEVsZW1lbnQgPSBmYWxzZTtcbiAgICAjZWxlbWVudElkID0gJyc7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3MpO1xuXG4gICAgICAgIHRoaXMuI3Njb3BlID0ge1xuICAgICAgICAgICAgY29udGV4dDogdGhpc1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuI2VsZW1lbnRJZCA9IFBpUmFuZG9tLnV1aWQoJ3h4LXh4Jyk7XG4gICAgfVxuXG4gICAgaW5pdCguLi5hcmdzKSB7XG4gICAgICAgIHN1cGVyLmluaXQoLi4uYXJncyk7XG5cbiAgICAgICAgdGhpcy5fbG9hZFByb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG4gICAgICAgIHRoaXMud2lsbExvYWQodGhpcy5fbG9hZFByb21pc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBvIG1vZGVsbyBlbSB0b2RvcyBvcyBlbGVtZW50b3MgZGUgcGFnaW5hIGNvbSBvIGF0cmlidXRvICdkYXRhLW1vZGVsJ1xuICAgICAqIENhc28gbyBwYXJhbWV0cm8gc2VqYSB1bSBqc29uLCBzZXUgdmFsb3Igc2Vyw6EgZW1idXRpZG8gbm8gY29tcG9uZW50XG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaU1vZGVsfSBtb2RlbCAtIE1vZGVsbyBhIHNlciBpbmpldGFkb1xuICAgICAqIEByZXR1cm5zIHtQaUNvbXBvbmVudH1cbiAgICAgKi9cbiAgICBpbmplY3QobW9kZWwpIHtcbiAgICAgICAgaWYgKG1vZGVsIGluc3RhbmNlb2YgUGlNb2RlbCkge1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBQaVN0cmluZy5jbGlwcyh0aGlzLnZpZXcsICdkYXRhLW1vZGVsPVwiJywgJ1wiJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kZWw9XCInICsgbmFtZSArICdcIl0nKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShtb2RlbCwgbmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuX2NvbXBvbmVudC5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maXJzdENoaWxkICYmIGVsZW1lbnQuZmlyc3RDaGlsZC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmlyc3RDaGlsZC5fY29tcG9uZW50LnNldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyLmluamVjdChtb2RlbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgcXVlIHJlcHJlc2VudGEgbyBjb21wb25lbnRcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB1bSB2YWxvciBwYXJhIG8gY29tcG9uZW50XG4gICAgICogRGlzcGFyYSBvIGV2ZW50byAnY2hhbmdlJ1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUNvbXBvbmVudH1cbiAgICAgKi9cbiAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnY2hhbmdlJywgdmFsdWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhcmEgdW0gZXZlbnRvIG5hdGl2byBzb2JyZSBvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtIC0gT2JqZXRvIGEgc2VyIHBhc3NhZG8gcGVsbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIHBhcmFtLCBuZXdFdmVudCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudCA9IHBhcmFtO1xuICAgICAgICBpZiAobmV3RXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb21wb3NlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiBwYXJhbSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuI2lzUGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHdyYXBwZXIganF1ZXJ5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2pRdWVyeUVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0ICRlbGVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy4jJGVsZW1lbnQpIHJldHVybiB0aGlzLiMkZWxlbWVudDtcbiAgICAgICAgcmV0dXJuIHRoaXMuIyRlbGVtZW50ID0gJCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcml6YSBvIGVsZW1lbnRvIGFuZXhhbmRvIG91IGluc2VyaW5kbyBubyBlbGVtZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGh0bWwgb25kZSBvIGNvbXBvbmVudGUgc2Vyw6EgcmVuZGVyaXphZG9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFwcGVuZCBcbiAgICAgKiBAcmV0dXJucyB7UGlDb21wb25lbnR9XG4gICAgICovXG4gICAgcmVuZGVyKGVsZW1lbnQsIGFwcGVuZCA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgJCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuZ2V0KDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFByb21pc2Uub25jZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNsb2FkQXR0cmlidXRlcyhlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQubW91bnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm1vdW50KHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdXaWxsTG9hZCgpO1xuICAgICAgICAgICAgdGhpcy52aWV3V2lsbFJlbmRlcigpO1xuICAgICAgICAgICAgdGhpcy52aWV3UmVuZGVyKGVsZW1lbnQsIGFwcGVuZCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdEaWRSZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuI2xpc3RlbigpO1xuICAgICAgICAgICAgdGhpcy52aWV3RGlkTG9hZCgpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5kaWRNb3VudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlkTW91bnQodGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnLCB0aGlzLiNlbGVtZW50SWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXQgaXNSZW5kZXJlZCgpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7dGhpcy4jZWxlbWVudElkfVwiXWApO1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQuY29udGFpbnMoZWxlbWVudG8pO1xuICAgIH1cblxuICAgIHdpbGxMb2FkKHByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHZpZXdXaWxsTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHZpZXdXaWxsUmVuZGVyKCkge1xuXG4gICAgfVxuXG4gICAgdmlld0RpZFJlbmRlcigpIHtcblxuICAgIH1cblxuICAgIHZpZXdSZW5kZXIoZWxlbWVudCwgYXBwZW5kID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFhcHBlbmQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMubG9hZFZpZXcodGhpcy52aWV3LCBlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudHNbMF07XG4gICAgICAgICAgICAgICAgdGhpcy4jaXNQYXJlbnRFbGVtZW50ID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy4jaXNQYXJlbnRFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZpZXdEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9uaXRvcmEgYWx0ZXJhw6fDo28gc29icmUgcHJvcHJpZWRhZGUgXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZSBhIHNlciBtb25pdG9yYWRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgd2F0Y2gocHJvcGVydHksIGZuKSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IFBpT2JqZWN0Lm9uKHRoaXMuI3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHksIGZuKVxuICAgICAgICB0aGlzLiN3YXRjaHMgPSB0aGlzLiN3YXRjaHMuY29uY2F0KHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgICAgIGlkczogaWRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcmEgZGUgbW9uaXRvcmFyIHVtYSBwcm9wcmllYWRlIGRvIGNvbnRleHRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZVxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgdW5XYXRjaChwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBhcnIgPSB0aGlzLiN3YXRjaHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChhcnJbaV0ucHJvcGVydHkgPT0gcHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBQaU9iamVjdC5vZmYodGhpcy4jc2NvcGUsIGFycltpXS5pZHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiN2dHJlZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gdGhpcy4jdnRyZWVzW2ldO1xuICAgICAgICAgICAgdnRyZWUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Z0cmVlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuI2NsZWFyQ29udGV4dFdhdGNoKCk7XG4gICAgfVxuXG4gICAgbG9hZFZpZXcodmlldywgZWxlbWVudCkge1xuICAgICAgICBjb25zdCByb290ID0gUGlUcmVlLnBhcnNlKHZpZXcpO1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIGZvciAoOyByb290LmNoaWxkRWxlbWVudENvdW50Oykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSByb290LmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY2hpbGQpO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNsb2FkVHJlZShjaGlsZHJlbik7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cblxuICAgICNsb2FkVHJlZSh0cmVlKSB7XG4gICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUodHJlZSwgdGhpcy4jc2NvcGUsIHRoaXMpO1xuICAgICAgICB2dHJlZS5sb2FkKCk7XG4gICAgICAgIHRoaXMuI3Z0cmVlcy5wdXNoKHZ0cmVlKTtcbiAgICB9XG5cbiAgICAjbGlzdGVuKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbi5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gbXV0YXRpb24uYWRkZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuI2xvYWRUcmVlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IGZhbHNlLFxuICAgICAgICAgICAgc3VidHJlZTogZmFsc2UsXG4gICAgICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogZmFsc2UsXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNjbGVhckNvbnRleHRXYXRjaCgpIHtcbiAgICAgICAgbGV0IGlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jd2F0Y2hzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZHMgPSBpZHMuY29uY2F0KHRoaXMuI3dhdGNoc1tpXS5pZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgUGlPYmplY3Qub2ZmKHRoaXMuI3Njb3BlLCBpZHMpO1xuICAgICAgICB0aGlzLiN3YXRjaHMgPSBbXTtcbiAgICB9XG5cbiAgICAjbG9hZEF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGF0dHJzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhdHRyc1tpXTtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuXG4gICAgICAgICAgICBpZiAobmFtZS5pbmRleE9mKCdwcm9wLScpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBpVHlwZS5pc1N0cmluZyh2YWx1ZSkgJiYgKFBpVHlwZS5pc09iamVjdCh2YWx1ZSkgfHwgUGlUeXBlLmlzQXJyYXkodmFsdWUpKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNuYW1lID0gbmFtZS5yZXBsYWNlKCdwcm9wLScsICcnKTtcbiAgICAgICAgICAgIHRoaXNbY25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXIoY3BvKSB7XG4gICAgICAgIHJlZ2lzdGVyKGNwbyk7XG4gICAgfVxufSIsImltcG9ydCBQaU9iamVjdCBmcm9tIFwiLi9vYmplY3RcIjtcbmltcG9ydCB7IHJlZ2lzdGVyIH0gZnJvbSBcIi4vZW52XCI7XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICAgIGFwcDoge1xuICAgICAgICBwYXJzZToge1xuICAgICAgICAgICAgZW5hYmxlOiB0cnVlLFxuICAgICAgICAgICAgc2VsZWN0b3I6ICdib2R5J1xuICAgICAgICB9XG4gICAgfSxcbiAgICBodG1sOiB7XG4gICAgICAgIGxvYWRlcjogJ0NhcnJlZ2FuZG8gLi4uJ1xuICAgIH0sXG4gICAgZXhwcmVzc2lvbjoge1xuICAgICAgICB4bGFuZ3VhZ2U6IC8oXFx7Pj8pKFteXFx9XSspKFxcfSkvZ2ksXG4gICAgICAgIHh2YXJpYWJsZTogLyhAKShbXFx3XFwuXSspL2dpLFxuICAgICAgICB4aHRtbDogLyhcXHs+KShbXlxcfV0rKShcXH0pL2dpLFxuICAgIH0sXG4gICAgaGlzdG9yeToge1xuICAgICAgICBwb3BzdGF0ZTogZmFsc2UsXG4gICAgICAgIHByZWZpeEhhc2h0YWc6IHRydWVcbiAgICB9LFxuICAgIHNlcnZpY2VzOiBbXSxcbiAgICByZXF1ZXN0OiB7XG4gICAgICAgIGZldGNoOiBudWxsXG4gICAgfVxufTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuY2xhc3MgUGlDb25maWcge1xuICAgIC8qKlxuICAgICAqIERlZmluZSB1bWEgY29uZmlndXJhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gUGFyYW1ldHJvIGRhIGNvbmZpZ3VyYcOnw6NvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVmFsb3IgZGEgY29uZmlndXJhw6fDo29cbiAgICAgKiBAcmV0dXJucyB7UGlDb25maWd9XG4gICAgICovXG4gICAgc3RhdGljIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIFBpT2JqZWN0LnNldFByb3BlcnR5KGRlZmF1bHRzLCBrZXksIHZhbHVlKTtcblxuICAgICAgICByZXR1cm4gUGlDb25maWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bWEgY29uZmlndXJhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gUGF0aCBkYSBjb25maWd1cmHDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R8fHN0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gUGlPYmplY3QuZXh0cmFjdFZhbHVlKGRlZmF1bHRzLCBrZXkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIHVtIGNvbmp1bnRvIGRlIGNvbmZpZ3VyYcOnw7Vlc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZXR0aW5ncyAtIE9iamV0byBjb250ZW5kbyBjb25maWd1cmHDp8O1ZXNcbiAgICAgKiBAcmV0dXJucyB7UGlDb25maWd9XG4gICAgICovXG4gICAgc3RhdGljIGxvYWQoc2V0dGluZ3MpIHtcbiAgICAgICAgUGlPYmplY3QuZXh0ZW5kKGRlZmF1bHRzLCBzZXR0aW5ncyk7XG4gICAgICAgIHJldHVybiBQaUNvbmZpZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXNjbGEgYSBjb25maWd1cmHDp8OjbyBhdHVhbCBjb20gYSBub3ZhIGNvbmZpZ3VyYcOnw6NvIGluZm9ybWFkYSBwb3IgcGFyYW1ldHJvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNldHRpbmdzIC0gQ29uZmlndXJhw6fDo29cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgLSBWYWxvciBkYSBjb25maWd1cmHDp8Ojb1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZChzZXR0aW5ncywgdmFsdWUgPSBmYWxzZSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gZmFsc2UpIHJldHVybiBQaU9iamVjdC5leHRlbmQoZGVmYXVsdHMsIHNldHRpbmdzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gUGlPYmplY3QuZXh0ZW5kKGRlZmF1bHRzLCB7IHNldHRpbmdzOiB2YWx1ZSB9KTtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBpQ29uZmlnO1xuXG5yZWdpc3RlcihQaUNvbmZpZyk7IiwiLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlEaWN0aW9uYXJ5IHtcbiAgICAjbGlzdCA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgbyBwYXIgY2hhdmUgdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtQaURpY3Rpb25hcnl9XG4gICAgICovXG4gICAgYWRkKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4jbGlzdFtrZXldID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZXhpc3RlIGEgY2hhdmVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdEtleShrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2xpc3Rba2V5XSAhPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpY2Egc2UgZXhpc3RlIG8gdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuI2xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNsaXN0W2ldID09IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3JcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFZhbHVlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jbGlzdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge1BpRGljdGlvbmFyeX1cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLiNsaXN0W2tleV07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGltcGEgbyBkaWNpb25hcmlvXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpRGljdGlvbmFyeX1cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy4jbGlzdCA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgbyBkaWNpb25hcmlvIGVtIGFycmF5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2FycmF5fVxuICAgICAqL1xuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNsaXN0O1xuICAgIH1cblxufTsiLCJpbXBvcnQgUGlPYmplY3QgZnJvbSBcIi4vb2JqZWN0XCI7XG5pbXBvcnQgUGlFeHByZXNzaW9uIGZyb20gXCIuL2V4cHJlc3Npb25cIjtcbmltcG9ydCBQaVN0YXRlbWVudCBmcm9tIFwiLi9zdGF0ZW1lbnRcIjtcbmltcG9ydCBQaVZpcnR1YWxUcmVlIGZyb20gXCIuL3ZpcnR1YWxfdHJlZVwiO1xuaW1wb3J0IFBpRm9yRGlyZWN0aXZlIGZyb20gJy4vZm9yX2RpcmVjdGl2ZSdcbmltcG9ydCBQaUZvckVhY2hEaXJlY3RpdmUgZnJvbSAnLi9mb3JlYWNoX2RpcmVjdGl2ZSdcbmltcG9ydCBQaUFycmF5IGZyb20gXCIuL2FycmF5XCI7XG5pbXBvcnQgeyBmaW5kQ2xhc3MsIGdldENsYXNzZXMgfSBmcm9tIFwiLi9lbnZcIjtcbmltcG9ydCBQaVR5cGUgZnJvbSBcIi4vdHlwZVwiO1xuaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IFBpUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQ29uc3Ryb2kgUGlFbGVtZW50IGJhc2VhZG8gbm8gZWxlbWVudG8gaHRtbFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGh0bWxcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3Njb3BlID0ge2NvbnRleHQ6IHt9fV0gLSBDbGFzc2UgZGUgZXNjb3BvXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NvcGUgPSB7IGNvbnRleHQ6IHt9IH0sIGNvbXBvbmVudFBhcmVudCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy5fYXR0ck5hbWVzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlyZWN0aXZlcyA9IFtdO1xuICAgICAgICB0aGlzLl9hdXRvQmluZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5fY29tcG9uZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5faGFzQ29tcG9uZW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudCA9IGNvbXBvbmVudFBhcmVudDtcblxuICAgICAgICB0aGlzLl9mb3JlYWNoQ29udGV4dCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRWYXJpYWJsZXNOYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFyaWFibGVzVmFsdWVzID0gW107XG5cbiAgICAgICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICAgICAgdGhpcy5fd2F0Y2hzID0gW107XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgICAgICAgICdlbnRlcic6IHRoaXMuX2V2ZW50RW50ZXJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9vcmRlckF0dHJpYnV0ZU5hbWVzKCk7XG4gICAgICAgIHRoaXMuX2xvYWREaXJlY3RpdmVzQmFzZSgpO1xuXG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX3BpZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBBZGljaW9uYSBwcm9wcmllZGFkZSBhbyBjb250ZXh0byBkbyBmb3JlYWNoXG4gICAgICogQHBhcmFtIHtvYmp9IHZhbHVlIC0gT2JqZXRvIGFzc29jaWFkbyBhIHByb3ByaWVkYWRlIGRlIGNvbnRleHRvIGRvIGZvcmVhY2hcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEZvcmVhY2hDb250ZXh0KG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZvcmVhY2hDb250ZXh0W25hbWVdID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Q29tcG9uZW50KGN4KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2hhc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudCA9IGN4O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGV4dGVuZEZvcmVhY2hDb250ZXh0KGZvcmVhY2hDb250ZXh0KSB7XG4gICAgICAgIFBpT2JqZWN0LmV4dGVuZCh0aGlzLl9mb3JlYWNoQ29udGV4dCwgZm9yZWFjaENvbnRleHQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JhIGFsdGVyYcOnw6NvIHNvYnJlIHByb3ByaWVkYWRlIFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGEgc2VyIG1vbml0b3JhZGFcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIGRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICB3YXRjaChwcm9wZXJ0eU5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaChwcm9wZXJ0eU5hbWUsIGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJhIGRlIG1vbml0b3JhciB1bWEgcHJvcHJpZWFkZSBkbyBjb250ZXh0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICB1bldhdGNoKHByb3BlcnR5TmFtZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXJyZWdhIGUgYW5hbGlzYSB0b2RhcyBhcyBkaXJldGl2YXMganVudGFtZW50ZSBjb20gbyB0ZW1wbGF0ZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgbG9hZCh3cmFwcGVyKSB7XG4gICAgICAgIHRoaXMuX2xvYWREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIHRoaXMuX3J1bkRpcmVjdGl2ZXMod3JhcHBlcik7XG4gICAgICAgIHRoaXMuX2xvYWRUZW1wbGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9sb2FkRGVmYXVsdFZhcmlhYmxlcygpIHtcbiAgICAgICAgbGV0IHZhcmlhYmxlc0ZvcmVhY2hOYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgbGV0IHZhcmlhYmxlc0ZvcmVhY2hWYWx1ZXMgPSBPYmplY3QudmFsdWVzKHRoaXMuX2ZvcmVhY2hDb250ZXh0KTtcbiAgICAgICAgbGV0IGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gW107XG4gICAgICAgIGxldCBjb250ZXh0UHJvcGVydHlWYWx1ZXMgPSBbXTtcblxuICAgICAgICBjb25zdCBjcG8gPSB0aGlzLl9lbGVtZW50Ll9jb21wb25lbnRQYXJlbnQ7XG4gICAgICAgIGlmIChjcG8gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGV4dFByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjcG8uX19wcm90b19fKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dFByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3BvW2NvbnRleHRQcm9wZXJ0eU5hbWVzW2ldXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5wdXNoKGNwb1tjb250ZXh0UHJvcGVydHlOYW1lc1tpXV0uYmluZChjcG8pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWZhdWx0VmFyaWFibGVzTmFtZXMgPSB2YXJpYWJsZXNGb3JlYWNoTmFtZXMuY29uY2F0KGNvbnRleHRQcm9wZXJ0eU5hbWVzKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc1ZhbHVlcyA9IHZhcmlhYmxlc0ZvcmVhY2hWYWx1ZXMuY29uY2F0KGNvbnRleHRQcm9wZXJ0eVZhbHVlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW1hIGRpcmVjdGl2YSBwYXJhIHVtIGF0cmlidXRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBub21lIGRhIGRpcmV0aXZhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIGFkZERpcmVjdGl2ZShuYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9kaXJlY3RpdmVzW25hbWVdID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBzZSBleGlzdGUgdW1hIGRpcmV0aXZhIGFkaWNpb25hZGEgcGVsbyBzZXUgbm9tZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTm9tZSBkYSBkaXJldGl2YVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0RGlyZWN0aXZlKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGl2ZXNbbmFtZV0gIT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHdyYXBwZXIganF1ZXJ5XG4gICAgICogXG4gICAgICogQHJldHVybnMge2pRdWVyeUVsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0ICQoKSB7XG4gICAgICAgIGlmICh0aGlzLl8kZWxlbWVudCkgcmV0dXJuIHRoaXMuXyRlbGVtZW50O1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVsZW1lbnQgPSAkKHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgbGlzdGVuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFyZ3VtZW50b3MgZW52aWFkb3MgYW8gY2FsbGJhY2sgcXVhbmRvIG9jb3JyZXIgbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIG9uKGV2ZW50TmFtZSwgZm4sIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuKGV2ZW50TmFtZSwgZm4sIC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIF9ldmVudEVudGVyKGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIFtlLCAuLi5hcmdzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9ldmVudERlZmF1bHQoZXZlbnROYW1lLCBmbiwgLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoZSkgPT4ge1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgW2UsIC4uLmFyZ3NdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gY2FsbGJhY2sgc29icmUgdW0gZXZlbnRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFyZ3VtZW50b3MgZW52aWFkb3MgYW8gY2FsbGJhY2sgcXVhbmRvIG9jb3JyZXIgbyBldmVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGxpc3RlbihldmVudE5hbWUsIGZuLCAuLi5hcmdzKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV07XG5cbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5jYWxsKHRoaXMsIGZuLCAuLi5hcmdzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50RGVmYXVsdChldmVudE5hbWUsIGZuLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgdW5saXN0ZW5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIGRlIGNhbGxiYWNrXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBvZmYoZXZlbnROYW1lLCBmbikge1xuICAgICAgICByZXR1cm4gdGhpcy51bmxpc3RlbihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2FsbGJhY2sgc29icmUgdW0gZXZlbnRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBkZSBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgdW5saXN0ZW4oZXZlbnROYW1lLCBmbikge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2Rpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGVsZW1lbnRvIGRvIERPTVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jbGVhckNvbnRleHRXYXRjaCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VyZSBlbGVtZW50byBkZXBvaXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1BpRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGEgc2VyIGluc2VyaWRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBpbnNlcnRCZWZvcmUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQuX2VsZW1lbnQsIHRoaXMuX2VsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcmUgZWxlbWVudG8gYW50ZXNcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1BpRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnRvIGEgc2VyIGluc2VyaWRvXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBpbnNlcnRBZnRlcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudC5fZWxlbWVudCwgdGhpcy5fZWxlbWVudC5uZXh0U2libGluZyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gZWxlbWVudG8gXG4gICAgICogXG4gICAgICogQHBhcmFtIHtQaUVsZW1lbnR9IGVsZW1lbnQgXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBhcHBlbmQoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kKGVsZW1lbnQuX2VsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgdW1hIHN0YXRlbWVudCBkZW50cm8gZG8gY29udGV4dG8gc2VtcHJlIHF1ZSBvIGV2ZW50byBhc3NvY2lhZG8gZm9yIGRpc3BhcmFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0ZW1lbnQgLSBTdGF0ZW1lbnQgZXhlY3V0YWRhIHNlbXByZSBxdWUgbyBvY29ycmVyIG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtzdHJpbn0gZXZlbnQgLSBOb21lIGRvIGV2ZW50byBhIHNlciBvYnNlcnZhZG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEV2ZW50U3RhdGVtZW50KHN0YXRlbWVudCwgXywgZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBQaUV4cHJlc3Npb24oc3RhdGVtZW50KTtcblxuICAgICAgICB0aGlzLmxpc3RlbihldmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcblxuICAgICAgICAgICAgdmFyaWFibGVzWzBdLnB1c2goJyRldmVudCcpO1xuICAgICAgICAgICAgdmFyaWFibGVzWzFdLnB1c2goZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0bXQgPSBleHByZXNzaW9uLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKHN0bXQsIHZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Q2hhbmdlRGlyZWN0aXZlKHN0YXRlbWVudCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IFBpRXhwcmVzc2lvbihzdGF0ZW1lbnQpO1xuXG4gICAgICAgIHRoaXMubGlzdGVuKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuXG4gICAgICAgICAgICB2YXJpYWJsZXNbMF0ucHVzaCgnJGV2ZW50Jyk7XG4gICAgICAgICAgICB2YXJpYWJsZXNbMV0ucHVzaChlKTtcblxuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IGV4cHJlc3Npb24ucGFyc2UoY3R4LCB2YXJpYWJsZXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoc3RtdCwgdmFyaWFibGVzLCBjdHgpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgZG8gZWxlbWVudG9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bWJlcnxib29sZWFufVxuICAgICAqL1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGUudHlwZSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIGUudHlwZSA9PSAncmFkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5jaGVja2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGUudmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG8gdmFsb3IgZG8gZWxlbWVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSB2YWx1ZSAtIFZhbG9yXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50ICYmIChlLnR5cGUgPT0gJ2NoZWNrYm94JyB8fCBlLnR5cGUgPT0gJ3JhZGlvJykpIHtcbiAgICAgICAgICAgIGUuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBlLnZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gdmluY3VsbyBkZSBkaXJlw6fDo28gZHVwbGEgZW50cmUgdW1hIHByb3ByaWVkYWRlIGRvIGNvbnRleHRvIGUgbyBlbGVtZW50byB2aXJ0dWFsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZSAtIE5vbWUgZGEgcHJvcHJpZWRhZGUgZG8gY29udGV4dG8gcXVlIHNlcsOhIHZpbmN1bGFkYSBhbyBlbGVtZW50b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGRvIGNvbnRleHRvIHF1ZSBzZXLDoSB2aW5jdWxhZGEgYW8gZWxlbWVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIGFkZEJpbmQocHJvcGVydHlOYW1lLCBfLCBldmVudE5hbWUpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5TmFtZSA9PSBudWxsIHx8IHByb3BlcnR5TmFtZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWRkQmluZFRvRWxlbWVudENvbnRleHQocHJvcGVydHlOYW1lLCBldmVudE5hbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdmVyZGFkZWlybyBzZSBvIGVsZW1lbnRvIGVzdGl2ZXIgZGVzdHJ1aWRvXG4gICAgICogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzRGVzdHJveWVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzdHJveWVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB1bWEgZXhwcmVzc2lvbiBkZSBpbmljaWFsaXphw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvblxuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0SW5pdERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICBjb25zdCBzdG10ID0gZXgucGFyc2UoY3R4LCBkZWZhdWx0VmFyaWFibGVzKTtcblxuICAgICAgICBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcygndGhpcy4nICsgc3RtdCwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBiaW5kIGZ1bGxkdXBsZXggZG8gZWxlbWVudG8gYSBwcm9wcmllZGFkZSBkYSBtb2RlbFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgLSBOb21lIGRhIHByb3ByaWVkYWRlIGRhIG1vZGVsIHF1ZSBzZXLDoSB2aW5jdWxhZGEgYW8gZWxlbWVudG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldE1vZGVsRGlyZWN0aXZlKHByb3BlcnR5TmFtZSkge1xuICAgICAgICBsZXQgZXZlbnQgPSAnY2hhbmdlJztcblxuICAgICAgICBpZiAodGhpcy5fZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJ2tleXVwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FkZEJpbmRUb0VsZW1lbnRDb250ZXh0KHByb3BlcnR5TmFtZSwgZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvIHZhbG9yIGRvIGVsZW1lbnRvIGJhc2VhZG8gZW0gdW1hIGV4cHJlc3Npb24gbGFuZ3VhZ2UgYXZhbGlhZGEgZGVudHJvIGRvIGNvbnRleHRvIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gLSBFeHByZXNzw6NvIGEgc2VyIGF2YWxpYWRhIGRlbnRybyBkbyBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0VmFsdWVEaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuXG4gICAgICAgIHRoaXMudmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHNlIG8gZWxlbWVudG8gdGVyw6EgbyBhdHJpYnV0byAnc2VsZWN0ZWQnIGJhc2VhZG8gbmEgZXhwcmVzc2lvbiBsYW5ndWFnZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIC0gRXhwcmVzc8OjbyBhIHNlciBhdmFsaWFkYSBkZW50cm8gZG8gY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldFNlbGVjdGVkRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldENoZWNrZWREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LmNoZWNrZWQgPSB2YWx1ZSA9PSAndHJ1ZSc7XG5cbiAgICAgICAgaWYgKHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNoZWNrZWQgPSB2YWx1ZSA9PSAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTcmNEaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgIGxldCB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdmFsdWUpO1xuXG4gICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbmRpdGlvbmFsRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGV4LnZhcmlhYmxlcztcblxuICAgICAgICB0aGlzLl91cGRhdGVDb25kaXRpb25hbChleCk7XG5cbiAgICAgICAgaWYgKHZhcmlhYmxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlID0gdmFyaWFibGVzW2ldO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVDb25kaXRpb25hbChleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgc2UgbyBlbGVtZW50byB0ZXLDoSBvIGF0cmlidXRvICdkaXNhYmxlZCcgYmFzZWFkbyBuYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gLSBFeHByZXNzw6NvIGEgc2VyIGF2YWxpYWRhIGRlbnRybyBkbyBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaUVsZW1lbnR9XG4gICAgICovXG4gICAgc2V0RGlzYWJsZWREaXJlY3RpdmUoZXhwcmVzc2lvbikge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRGlzYWJsZWQoZXgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXgudmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZU5hbWUgPSBleC52YXJpYWJsZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaXNhYmxlZChleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIG1hbmlwdWxhw6fDo28gZG8gZXN0aWxvIGRvIGVsZW1lbnRvIHBvciBtZWlvIGRlIHVtYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gXG4gICAgICogQHJldHVybnMge1BpRWxlbWVudH1cbiAgICAgKi9cbiAgICBzZXRTdHlsZURpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvblN0eWxlID0gbmV3IFBpRXhwcmVzc2lvbihleHByZXNzaW9uKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVTdHlsZSgpO1xuXG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZXMgPSB0aGlzLl9leHByZXNzaW9uU3R5bGUudmFyaWFibGVzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IHZhcmlhYmxlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2YXJpYWJsZU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdHlsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBtYW5pcHVsYcOnw6NvIGRhcyBjbGFzc2VzIGRvIGVsZW1lbnRvIHBvciBtZWlvIGRlIHVtYSBleHByZXNzaW9uIGxhbmd1YWdlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb25cbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldENsYXNzRGlyZWN0aXZlKGV4cHJlc3Npb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9leHByZXNzaW9uQ2xhc3MgPSBuZXcgUGlFeHByZXNzaW9uKGV4cHJlc3Npb24pO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsYXNzKCk7XG5cbiAgICAgICAgY29uc3QgdmFyaWFibGVzID0gdGhpcy5fZXhwcmVzc2lvbkNsYXNzLnZhcmlhYmxlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB2YXJpYWJsZXNbaV07XG5cbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaCh2LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlQ2xhc3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc2V0Rm9yRGlyZWN0aXZlKHN0bXQpIHtcbiAgICAgICAgY29uc3QgZXhwID0gbmV3IFBpRXhwcmVzc2lvbihzdG10KTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGNvbnN0IF9zdG10ID0gZXhwLnBhcnNlKGN0eCwgdmFyaWFibGVzKTtcbiAgICAgICAgY29uc3QgZm9yRGlyZWN0aXZlID0gbmV3IFBpRm9yRGlyZWN0aXZlKF9zdG10KTtcbiAgICAgICAgY29uc3QgYXR0ck5vZGVzID0gdGhpcy5fZ2V0UGlBdHRyaWJ1dGVOb2RlcyhbJzpmb3InXSk7XG5cbiAgICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICAgIGxldCByZWZOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJlZk5vZGUsIHRoaXMuX2VsZW1lbnQubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgIGZvckRpcmVjdGl2ZVxuICAgICAgICAgICAgLmxvb3AoKGl4biwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjcG9QYXJlbnQgPSB0aGlzLl9lbGVtZW50LmNvbXBvbmVudFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVOb2RlcyhhdHRyTm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgUGlFbGVtZW50KGNsb25lZEVsZW1lbnQsIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuZXh0ZW5kRm9yZWFjaENvbnRleHQodGhpcy5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuX2F1dG9CaW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hZGRGb3JlYWNoQ29udGV4dChpeG4sIGluZGV4KTtcbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmxvYWQoY3BvUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoY2xvbmVkRWxlbWVudC5jaGlsZHJlbiwgdGhpcy5fc2NvcGUsIGNwb1BhcmVudCk7XG4gICAgICAgICAgICAgICAgdnRyZWUuaG9vaygnZGlkOmNyZWF0ZTp2ZWxlbWVudCcsICh2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9jaGlsZHJlbi5wdXNoKHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmUuZXh0ZW5kRm9yZWFjaENvbnRleHQobmV3RWxlbWVudC5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBub2Rlc1tpXS5fZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZOb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJ1bigpO1xuXG4gICAgICAgIGlmIChleHAudmFyaWFibGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGV4cC52YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlTmFtZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvckRpcmVjdGl2ZS5ydW4odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnRFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdmb3Jkb25lJywge1xuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgICAgICBjb21wb3NlZDogZmFsc2UsXG4gICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLl9kaXNwb3NlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgYSBkaXJldGl2YSBmb3JlYWNoIGRvIGVsZW1lbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdG10fSBzdG10IC0gRGVjbGFyYcOnw6NvIGZvcmVhY2hcbiAgICAgKiBAcmV0dXJucyB7UGlFbGVtZW50fVxuICAgICAqL1xuICAgIHNldEZvckVhY2hEaXJlY3RpdmUoc3RtdCkge1xuICAgICAgICBjb25zdCBleHAgPSBuZXcgUGlFeHByZXNzaW9uKHN0bXQpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgY29uc3QgX3N0bXQgPSBleHAucGFyc2UoY3R4LCB2YXJpYWJsZXMpO1xuICAgICAgICBjb25zdCBmb3JlYWNoID0gbmV3IFBpRm9yRWFjaERpcmVjdGl2ZShfc3RtdCk7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5TmFtZSA9IGZvcmVhY2gub2JqZWN0SW50ZXJhYmxlTmFtZTtcbiAgICAgICAgY29uc3QgYXR0ck5vZGVzID0gdGhpcy5fZ2V0UGlBdHRyaWJ1dGVOb2RlcyhbJzpmb3JlYWNoJ10pO1xuICAgICAgICBsZXQgYXJyYXkgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fc2NvcGUsICdjb250ZXh0LicgKyBwcm9wZXJ0eU5hbWUpO1xuXG4gICAgICAgIGlmIChhcnJheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFycmF5ID0gZmluZENsYXNzKHByb3BlcnR5TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXJyYXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhcnJheSA9IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZSh0aGlzLl9mb3JlYWNoQ29udGV4dCwgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcnJheSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IGBGb3JFYWNoOiBwcm9wcmllZGFkZSBuw6NvIGVuY29udHJhZGEgJyR7cHJvcGVydHlOYW1lfSdgO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5vZGVzID0gW107XG4gICAgICAgIGxldCBjdXJyZW50RWxlbWVudHMgPSBbXTtcblxuICAgICAgICB2YXIgcmVmTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyZWZOb2RlLCB0aGlzLl9lbGVtZW50Lm5leHRTaWJsaW5nKTtcblxuICAgICAgICBmb3JlYWNoXG4gICAgICAgICAgICAubG9vcCgoYXJyLCBpbmRleCwgdm4sIGl4bikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNwb1BhcmVudCA9IHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3JlYWNoUHJvcGVydHlOYW1lID0gdm47XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZWFyY2hQcm9wZXJ5VmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZWFyY2hJbmRleE5hbWUgPSBpeG47XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVOb2RlcyhhdHRyTm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY2xvbmVkRWxlbWVudCA9IHRoaXMuX2VsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VsZW1lbnQgPSBuZXcgUGlFbGVtZW50KGNsb25lZEVsZW1lbnQsIHRoaXMuX3Njb3BlLCBjcG9QYXJlbnQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuZXh0ZW5kRm9yZWFjaENvbnRleHQodGhpcy5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIG5ld0VsZW1lbnQuX2F1dG9CaW5kID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmFkZEZvcmVhY2hDb250ZXh0KGZvcmVhY2hQcm9wZXJ0eU5hbWUsIGZvcmVhcmNoUHJvcGVyeVZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9yZWFyY2hJbmRleE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RWxlbWVudC5hZGRGb3JlYWNoQ29udGV4dChmb3JlYXJjaEluZGV4TmFtZSwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdFbGVtZW50LmxvYWQoY3BvUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHZ0cmVlID0gbmV3IFBpVmlydHVhbFRyZWUoY2xvbmVkRWxlbWVudC5jaGlsZHJlbiwgdGhpcy5fc2NvcGUsIGNwb1BhcmVudCk7XG4gICAgICAgICAgICAgICAgdnRyZWUuaG9vaygnZGlkOmNyZWF0ZTp2ZWxlbWVudCcsICh2ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50Ll9jaGlsZHJlbi5wdXNoKHZlKTtcbiAgICAgICAgICAgICAgICAgICAgdmUuZXh0ZW5kRm9yZWFjaENvbnRleHQobmV3RWxlbWVudC5fZm9yZWFjaENvbnRleHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZ0cmVlLmxvYWQoKTtcblxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnRzLnB1c2gobmV3RWxlbWVudCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmVuZCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZXMgPSBbXTtcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgcnVuKGFycmF5KTtcblxuICAgICAgICBjb25zdCBzcGxpY2UgPSBmdW5jdGlvbiAoYXJyYXksIGluZGV4LCBkZWxldGVDb3VudCwgLi4uaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChkZWxldGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBpbmRleCArIGRlbGV0ZUNvdW50ID4gY3VycmVudEVsZW1lbnRzLmxlbmd0aCA/IGN1cnJlbnRFbGVtZW50cy5sZW5ndGggOiBpbmRleCArIGRlbGV0ZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgLy8gZGVzdHJveSBvcyBlbGVtZW50b3NcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIGRlbGV0ZUNvdW50KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHMuc3BsaWNlKGluZGV4LCBkZWxldGVDb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMCwgLi4uaXRlbXMpO1xuICAgICAgICAgICAgICAgIGZvcmVhY2gucnVuKGFycmF5LCBpbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoUGlUeXBlLmlzQXJyYXkoYXJyYXkpKSB7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAnbG9hZCcsIGZ1bmN0aW9uIChhcnJheSwgaW5kZXggPSAwKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIGluZGV4LCAwLCAuLi5hcnJheSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBQaUFycmF5LmFkZE1ldGhvZChhcnJheSwgJ2FkZCcsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIHRoaXMubGVuZ3RoLCAwLCBpdGVtKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAnY2xlYXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIDAsIHRoaXMubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAncmVtb3ZlJywgZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgc3BsaWNlKHRoaXMsIGluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFBpQXJyYXkuYWRkTWV0aG9kKGFycmF5LCAncmVsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvcmVhY2gucnVuKHRoaXMsIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lbGVtZW50LnBhcmVudEVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ZvcmRvbmUnLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbXBvc2VkOiBmYWxzZSxcbiAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNldFJlbmRlckRpcmVjdGl2ZShkaXJlY3RpdmEsIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZGlyZWN0aXZhLCB2YXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIGxldCBmbjtcbiAgICAgICAgaWYgKGNyZWF0ZS5uYW1lID09IGRpcmVjdGl2YSkge1xuICAgICAgICAgICAgZm4gPSBuZXcgY3JlYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlLmNhbGwpIHtcbiAgICAgICAgICAgIGZuID0gY3JlYXRlLmNhbGwoY29udGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmbiA9IGNyZWF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRMb2FkZXIoKTtcblxuICAgICAgICBpZiAoZm4gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICBmbi50aGVuKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb21wb25lbnQoYyk7XG4gICAgICAgICAgICAgICAgYy5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChmbiBpbnN0YW5jZW9mIFBpUHJvbWlzZSkge1xuICAgICAgICAgICAgZm4ub2soKGMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbXBvbmVudChjKTtcbiAgICAgICAgICAgICAgICBjLnJlbmRlcih0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbXBvbmVudChmbik7XG4gICAgICAgICAgICBmbi5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ2V0VmFsdWVGcm9tRGVmYXVsdFZhcmlhYmxlcyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgZGVmYXVsdE5hbWVzLCBkZWZhdWx0VmFsdWVzIH0gPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZhdWx0TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZuYW1lID0gZGVmYXVsdE5hbWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZuYW1lID09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIF9nZXREZWZhdWx0VmFyaWFibGVzKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcy5fZWxlbWVudC5fY29tcG9uZW50IHx8IHRoaXMuX2VsZW1lbnQuX2NvbXBvbmVudFBhcmVudDtcbiAgICAgICAgY29uc3QgZWxlbWVudFZhbHVlID0gdGhpcy5fZWxlbWVudC5nZXQgPyB0aGlzLl9lbGVtZW50LmdldCgpIDogJyc7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlc05hbWVzID0gWyckdGhpcycsICckZWxlbWVudCcsICckdmFsdWUnXTtcbiAgICAgICAgY29uc3QgdmFyaWFibGVzVmFsdWVzID0gW3NlbGYsIHRoaXMuX2VsZW1lbnQsIGVsZW1lbnRWYWx1ZV07XG5cbiAgICAgICAgdGhpcy5fbG9hZERlZmF1bHRWYXJpYWJsZXMoKTtcbiAgICAgICAgZ2V0Q2xhc3NlcygpLmZvckVhY2goYyA9PiB7IHZhcmlhYmxlc05hbWVzLnB1c2goYy5uYW1lKTsgdmFyaWFibGVzVmFsdWVzLnB1c2goYykgfSk7XG5cbiAgICAgICAgcmV0dXJuIFt0aGlzLl9kZWZhdWx0VmFyaWFibGVzTmFtZXMuY29uY2F0KHZhcmlhYmxlc05hbWVzKSwgdGhpcy5fZGVmYXVsdFZhcmlhYmxlc1ZhbHVlcy5jb25jYXQodmFyaWFibGVzVmFsdWVzKV07XG4gICAgfVxuXG4gICAgX2FkZEJpbmRUb0VsZW1lbnRDb250ZXh0KHByb3BlcnR5TmFtZSwgZXZlbnROYW1lKSB7XG4gICAgICAgIGxldCBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHZhbHVlID0gUGlPYmplY3QuZXh0cmFjdFZhbHVlKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHlOYW1lKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXQodmFsdWUpO1xuXG4gICAgICAgIHRoaXMuX2FkZENvbnRleHRXYXRjaChwcm9wZXJ0eU5hbWUsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0NoYW5nZVByb3BlcnR5QnlFdmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUodGhpcy5fc2NvcGUsICdjb250ZXh0LicgKyBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXQodmFsdWUpO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChldmVudE5hbWUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbihldmVudE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Quc2V0UHJvcGVydHkodGhpcy5fc2NvcGUuY29udGV4dCwgcHJvcGVydHlOYW1lLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpc0NoYW5nZVByb3BlcnR5QnlFdmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgUGlPYmplY3Quc2V0UHJvcGVydHkodGhpcy5fc2NvcGUuY29udGV4dCwgcHJvcGVydHlOYW1lLCBlLmRldGFpbCk7XG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VQcm9wZXJ0eUJ5RXZlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2dldFBpQXR0cmlidXRlTm9kZXMoZXhjZXB0cyA9IFtdKSB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hdHRyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9hdHRyTmFtZXNbaV07XG4gICAgICAgICAgICBjb25zdCBmaXJzdENoYXJhY3RlciA9IG5hbWVbMF07XG5cbiAgICAgICAgICAgIGlmIChleGNlcHRzLmluZGV4T2YobmFtZSkgPT0gLTEgJiYgKGZpcnN0Q2hhcmFjdGVyID09ICc6JyB8fCBmaXJzdENoYXJhY3RlciA9PSAnIycgfHwgZmlyc3RDaGFyYWN0ZXIgPT0gJ0AnKSkge1xuICAgICAgICAgICAgICAgIGF0dHJzLnB1c2godGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cbiAgICBfc2V0QXR0cmlidXRlTm9kZXMoYXR0ck5vZGVzID0gW10pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOb2RlID0gYXR0ck5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKGF0dHJOb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlTm9kZShhdHRyTm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXRNb3VudERpcmVjdGl2ZShleHByZXNzaW9uKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQubW91bnQgPSAoY29tcG9uZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFibGVzID0gdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpO1xuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyk7XG4gICAgICAgICAgICBkZWZhdWx0VmFyaWFibGVzWyckdGhpcyddID0gY29tcG9uZW50O1xuXG4gICAgICAgICAgICBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcygndGhpcy4nICsgc3RtdCwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzZXREaWRNb3VudERpcmVjdGl2ZSgpIHtcblxuICAgIH1cblxuICAgIHNldFdpbGxNb3VudERpcmVjdGl2ZSgpIHtcblxuICAgIH1cblxuICAgIHNldEZvckVuZFZhbHVlRGlyZWN0aXZlKGV4cHJlc3Npb24sIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGV2ZW50TmFtZSA9PSAndmFsdWUnIHx8IGV2ZW50TmFtZSA9PSAnc2V0VmFsdWUnKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3Rlbihwcm9wTmFtZSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleCA9IG5ldyBQaUV4cHJlc3Npb24oZXhwcmVzc2lvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGV4LnBhcnNlKGN0eCwgZGVmYXVsdFZhcmlhYmxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9sb2FkRGlyZWN0aXZlc0Jhc2UoKSB7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdmb3InLCB0aGlzLnNldEZvckRpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdmb3JlYWNoJywgdGhpcy5zZXRGb3JFYWNoRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2xvYWRlcicsIHRoaXMuc2V0TG9hZGVyRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NsYXNzJywgdGhpcy5zZXRDbGFzc0RpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdzdHlsZScsIHRoaXMuc2V0U3R5bGVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnaW5pdCcsIHRoaXMuc2V0SW5pdERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdiaW5kJywgdGhpcy5hZGRCaW5kKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ29uJywgdGhpcy5hZGRFdmVudFN0YXRlbWVudCk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCd2YWx1ZScsIHRoaXMuc2V0VmFsdWVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnc2VsZWN0ZWQnLCB0aGlzLnNldFNlbGVjdGVkRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2Rpc2FibGVkJywgdGhpcy5zZXREaXNhYmxlZERpcmVjdGl2ZSk7XG4gICAgICAgIHRoaXMuYWRkRGlyZWN0aXZlKCdpZicsIHRoaXMuc2V0Q29uZGl0aW9uYWxEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnbW9kZWwnLCB0aGlzLnNldE1vZGVsRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NoYW5nZScsIHRoaXMuc2V0Q2hhbmdlRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ3NyYycsIHRoaXMuc2V0U3JjRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2NoZWNrZWQnLCB0aGlzLnNldENoZWNrZWREaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnbW91bnQnLCB0aGlzLnNldE1vdW50RGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ3JlbmRlcicsIHRoaXMuc2V0UmVuZGVyRGlyZWN0aXZlKTtcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmUoJ2ZvcmVuZCcsIHRoaXMuc2V0Rm9yRW5kVmFsdWVEaXJlY3RpdmUpO1xuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZSgnZm9yZG9uZScsIHRoaXMuc2V0Rm9yRW5kVmFsdWVEaXJlY3RpdmUpO1xuICAgIH1cblxuICAgIHNldExvYWRlckRpcmVjdGl2ZShkaXJlY3RpdmEsIHByb3BOYW1lLCBldmVudE5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0Q29udGV4dCgpO1xuICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZGlyZWN0aXZhLCB2YXJpYWJsZXMsIGN0eCk7XG4gICAgICAgIGlmIChjcmVhdGUubmFtZSA9PSBkaXJlY3RpdmEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IG5ldyBjcmVhdGUoKTtcbiAgICAgICAgICAgIGxvYWRlci5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3JlYXRlLmNhbGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IGNyZWF0ZS5jYWxsKGNvbnRleHQpO1xuICAgICAgICAgICAgbG9hZGVyLnJlbmRlcih0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyZWF0ZS5yZW5kZXIodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oYXNMb2FkZXIgPSB0cnVlO1xuICAgIH1cblxuICAgIF9sb2FkTG9hZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzTG9hZGVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgbG9hZGVyID0gUGlDb25maWcuZ2V0KCdodG1sLmxvYWRlcicpO1xuICAgICAgICAgICAgbGV0IGh0bWwgPSBsb2FkZXI7XG5cbiAgICAgICAgICAgIGlmIChsb2FkZXIuY29uc3RydWN0b3IubmFtZSA9PSAnRnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaHRtbCA9IGxvYWRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3QgY29udGV4dFByb3BlcnR5TmFtZXMgPSBPYmplY3Qua2V5cyhjb250ZXh0KTtcbiAgICAgICAgY29uc3QgY29udGV4dFByb3BlcnR5VmFsdWVzID0gT2JqZWN0LnZhbHVlcyhjb250ZXh0KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjb250ZXh0UHJvcGVydHlWYWx1ZXNbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnRleHRQcm9wZXJ0eVZhbHVlc1tpXSA9IHZhbHVlLmJpbmQoY29udGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlRXhwcmVzc2lvbih2YWx1ZSwgbm9kZSkge1xuICAgICAgICBjb25zdCBleHAgPSBuZXcgUGlFeHByZXNzaW9uKHZhbHVlKTtcbiAgICAgICAgbm9kZS5fcGlleCA9IGV4cDtcblxuICAgICAgICBpZiAodGhpcy5fYXV0b0JpbmQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhwLnZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZSA9IGV4cC52YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dFdhdGNoKHZhcmlhYmxlTmFtZSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZFRlbXBsYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuX2VsZW1lbnQuY2hpbGROb2RlcztcbiAgICAgICAgY29uc3QgeGh0bWwgPSBQaUNvbmZpZy5nZXQoJ2V4cHJlc3Npb24ueGh0bWwnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gbm9kZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgeGh0bWwudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWwsIG5vZGUubmV4dFNpYmxpbmcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVFeHByZXNzaW9uKHZhbHVlLCBlbCk7XG5cbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5pbmRleE9mKCd7JykgPiAtMSAmJiBub2RlIGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUV4cHJlc3Npb24odmFsdWUsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlVmlldygpO1xuICAgIH1cblxuICAgIF91cGRhdGVDb25kaXRpb25hbChleCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRDb250ZXh0KCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYXJpYWJsZXMgPSB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gUGlTdGF0ZW1lbnQuZXhlY1dpdGhWYXJpYWJsZXMoZXgucGFyc2UoY3R4LCBkZWZhdWx0VmFyaWFibGVzKSwgZGVmYXVsdFZhcmlhYmxlcywgY3R4KTtcbiAgICAgICAgY29uc3QgbmV4dEVsZW1lbnQgPSB0aGlzLl9lbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcblxuICAgICAgICBpZiAobmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuaGFzQXR0cmlidXRlKCc6ZWxzZScpKSB7XG4gICAgICAgICAgICBuZXh0RWxlbWVudC5fX3BpZWxzZSA9IHRydWU7XG4gICAgICAgICAgICBuZXh0RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJzplbHNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNFbHNlID0gbmV4dEVsZW1lbnQgJiYgbmV4dEVsZW1lbnQuX19waWVsc2U7XG5cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLiQuc2hvdygpO1xuXG4gICAgICAgICAgICBpZiAoaGFzRWxzZSkge1xuICAgICAgICAgICAgICAgICQobmV4dEVsZW1lbnQpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuJC5oaWRlKCk7XG5cbiAgICAgICAgICAgIGlmIChoYXNFbHNlKSB7XG4gICAgICAgICAgICAgICAgJChuZXh0RWxlbWVudCkuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZURpc2FibGVkKGV4KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBleC5wYXJzZShjdHgsIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG5cbiAgICAgICAgaWYgKHZhbHVlID09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVWaWV3KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2RlcyA9IHRoaXMuX2VsZW1lbnQuY2hpbGROb2RlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuX3BpZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gbm9kZS5fcGlleC5wYXJzZSh0aGlzLl9nZXRDb250ZXh0KCksIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlU3R5bGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9uU3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlSW5saW5lID0gdGhpcy5fZXhwcmVzc2lvblN0eWxlLnBhcnNlKHRoaXMuX2dldENvbnRleHQoKSwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IHN0eWxlSW5saW5lLnNwbGl0KCc7Jyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBzdHlsZXNbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUubGVuZ3RoICE9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVOYW1lID0gc3R5bGVbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlVmFsdWUgPSBzdHlsZVsxXS50cmltKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiQuY3NzKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfdXBkYXRlQ2xhc3MoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9uQ2xhc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IHRoaXMuX2V4cHJlc3Npb25DbGFzcy5wYXJzZSh0aGlzLl9nZXRDb250ZXh0KCksIHRoaXMuX2dldERlZmF1bHRWYXJpYWJsZXMoKSkudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNsYXNzTGlzdCA9PSB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgaWYgKGNsYXNzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTGlzdC5zcGxpdCgnICcpLmZpbHRlcihlID0+IGUgIT09ICcnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb3JkZXJBdHRyaWJ1dGVOYW1lcygpe1xuICAgICAgICBsZXQgaSA9IHRoaXMuX2F0dHJOYW1lcy5pbmRleE9mKCdmb3JlYWNoJyk7XG4gICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJOYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLl9hdHRyTmFtZXMudW5zaGlmdCgnZm9yZWFjaCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaSA9IHRoaXMuX2F0dHJOYW1lcy5pbmRleE9mKCdmb3InKTtcbiAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5fYXR0ck5hbWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2F0dHJOYW1lcy51bnNoaWZ0KCdmb3InKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9ydW5EaXJlY3RpdmVzKHdyYXBwZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hdHRyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJOYW1lID0gdGhpcy5fYXR0ck5hbWVzW2ldO1xuICAgICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgICAgICAgY29uc3QgeyBwcm9wTmFtZSwgZXZlbnROYW1lIH0gPSB0aGlzLl9leHRyYWN0UGlBdHRyaWJ1dGVOYW1lQW5kUHJvcGVydHkoYXR0ck5hbWUpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5leGlzdERpcmVjdGl2ZShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aXZlc1twcm9wTmFtZV0uY2FsbCh0aGlzLCBhdHRyVmFsdWUsIHByb3BOYW1lLCBldmVudE5hbWUsIHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT0gJ2ZvcmVhY2gnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcE5hbWUgPT0gJ2ZvcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZS5pbmRleE9mKCcjJykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihhdHRyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXgucGFyc2UodGhpcy5fZ2V0Q29udGV4dCgpLCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZS5zdWJzdHIoMSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyTmFtZS5pbmRleE9mKCc6JykgPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4ID0gbmV3IFBpRXhwcmVzc2lvbihhdHRyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldENvbnRleHQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYWJsZXMgPSBleC52YXJpYWJsZXM7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZXgucGFyc2UoY3R4LCB0aGlzLl9nZXREZWZhdWx0VmFyaWFibGVzKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLnN1YnN0cigxKSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb250ZXh0V2F0Y2godmFyaWFibGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGV4LnBhcnNlKGN0eCwgdGhpcy5fZ2V0RGVmYXVsdFZhcmlhYmxlcygpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJOYW1lLnN1YnN0cigxKSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9leHRyYWN0UGlBdHRyaWJ1dGVOYW1lQW5kUHJvcGVydHkoYXR0cmlidXRlKSB7XG4gICAgICAgIGxldCBwcm9wTmFtZSA9ICcnO1xuICAgICAgICBsZXQgZXZlbnROYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbmRleE9mKCdAJykgPiAtMSkge1xuICAgICAgICAgICAgcHJvcE5hbWUgPSAnb24nO1xuICAgICAgICAgICAgZXZlbnROYW1lID0gYXR0cmlidXRlLnJlcGxhY2UoJ0AnLCAnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVBbmRFdmVudCA9IGV2ZW50TmFtZS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgaWYgKG5hbWVBbmRFdmVudC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgcHJvcE5hbWUgPSBuYW1lQW5kRXZlbnRbMF07XG4gICAgICAgICAgICAgICAgZXZlbnROYW1lID0gbmFtZUFuZEV2ZW50WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZS5pbmRleE9mKCc6JykgPiAtMSkge1xuICAgICAgICAgICAgcHJvcE5hbWUgPSBhdHRyaWJ1dGUucmVwbGFjZSgnOicsICcnKTtcblxuICAgICAgICAgICAgY29uc3QgbmFtZUFuZEV2ZW50ID0gcHJvcE5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQW5kRXZlbnQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHByb3BOYW1lID0gbmFtZUFuZEV2ZW50WzBdO1xuICAgICAgICAgICAgICAgIGV2ZW50TmFtZSA9IG5hbWVBbmRFdmVudFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHByb3BOYW1lLCBldmVudE5hbWUgfTtcbiAgICB9XG5cbiAgICBfZ2V0Q29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlLmNvbnRleHQ7XG4gICAgfVxuXG4gICAgX2NsZWFyQ29udGV4dFdhdGNoKCkge1xuICAgICAgICBsZXQgaWRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl93YXRjaHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlkcyA9IGlkcy5jb25jYXQodGhpcy5fd2F0Y2hzW2ldLmlkcyk7XG4gICAgICAgIH1cblxuICAgICAgICBQaU9iamVjdC5vZmYodGhpcy5fc2NvcGUsIGlkcyk7XG4gICAgICAgIHRoaXMuX3dhdGNocyA9IFtdO1xuICAgIH1cblxuICAgIF9hZGRDb250ZXh0V2F0Y2gocHJvcGVydHksIGZuKSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IFBpT2JqZWN0Lm9uKHRoaXMuX3Njb3BlLCAnY29udGV4dC4nICsgcHJvcGVydHksIGZuKVxuICAgICAgICB0aGlzLl93YXRjaHMgPSB0aGlzLl93YXRjaHMuY29uY2F0KHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcbiAgICAgICAgICAgIGlkczogaWRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9yZW1vdmVDb250ZXh0V2F0Y2gocHJvcGVydHlOYW1lKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IHRoaXMuX3dhdGNocztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycltpXS5wcm9wZXJ0eSA9PSBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBQaU9iamVjdC5vZmYodGhpcy5fc2NvcGUsIGFycltpXS5pZHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG59OyIsIi8qKipcbiAqIENvcHlyaWdodCBNYW5vZWwgTmVjbyAyMDIyLCBUb2RvcyBvcyBkaXJlaXRvcyByZXNlcnZhZG9zXG4gKlxuICogQGF1dG9yOiBNYW5vZWwgTmVjb1xuICogQGNyZWF0ZTogMjAxMi1wcmVzZW50XG4gKiBAdmVyc2lvbjogdjExLjIuNi1iZXRhXG4gKi9cblxuY29uc3QgZ2xvYmFsID0gd2luZG93O1xuY29uc3QgY29tcG9uZW50cyA9IFtdO1xuXG5mdW5jdGlvbiByZWdpc3Rlck9iamVjdChuYW1lLCBvYmopIHtcbiAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgY29tcG9uZW50cy5wdXNoKG9iaik7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIG9iaikge1xuICAgIGlmIChuYW1lICE9IG51bGwgJiYgbmFtZS5jb25zdHJ1Y3Rvci5uYW1lID09ICdTdHJpbmcnICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICAgIHJlZ2lzdGVyT2JqZWN0KG5hbWUsIG9iaik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgb2JqID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBjb25zdCBjTmFtZSA9IG9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgICAgIGlmIChmaW5kQ2xhc3Mob2JqKSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChjTmFtZSA9PSAnRnVuY3Rpb24nIHx8IGNOYW1lID09ICdPYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gT2JqZWN0LmZyZWV6ZShvYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2gob2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2xhc3NlcygpIHtcbiAgICByZXR1cm4gY29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gZmluZENsYXNzKGNOYW1lKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudHMuZmluZChjID0+IGMubmFtZSA9PSBjTmFtZSB8fCAoYy5jb25zdHJ1Y3RvciAmJiBjLmNvbnN0cnVjdG9yLm5hbWUgPT0gY05hbWUpKTtcbn1cblxuZnVuY3Rpb24gYXBwKCkge1xuICAgIHJldHVybiBnbG9iYWwuYXBwO1xufVxuXG5mdW5jdGlvbiBsb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZ2xvYmFsLmxvY2F0aW9uO1xufVxuXG5mdW5jdGlvbiBzZXRMb2NhdGlvbih1cmwpIHtcbiAgICBnbG9iYWwubG9jYXRpb24gPSB1cmw7XG59XG5cbmZ1bmN0aW9uICQoKSB7XG4gICAgcmV0dXJuIGdsb2JhbC4kXG59XG5cbmV4cG9ydCB7IGdldENsYXNzZXMsIGZpbmRDbGFzcywgcmVnaXN0ZXIsIGdsb2JhbCwgYXBwLCBsb2NhdGlvbiwgc2V0TG9jYXRpb24sICQgfTsiLCJpbXBvcnQgUGlSYW5kb20gZnJvbSAnLi9yYW5kb20nXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRXZlbnQge1xuICAgICNsaXN0ID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBldmVudG8gcGFyYSBzZXIgb2JzZXJ2YWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGN0eCAtIENvbnRleHRvIGRvIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvbmNlIC0gU2UgbyBjYWxsYmFjayBkZXZlcsOhIHNlciBjaGFtYWRvIGFwZW5hcyB1bWEgdmV6XG4gICAgICogQHJldHVybnMge1BpRXZlbnR9XG4gICAgICovXG4gICAgbGlzdGVuKGV2ZW50LCBjYWxsYmFjaywgY3R4LCBvbmNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdXVpZCA9IFBpUmFuZG9tLnV1aWQoJ3h4eC14eCcpO1xuICAgICAgICBjYWxsYmFjay5pZCA9IHV1aWQ7XG5cbiAgICAgICAgdGhpcy4jbGlzdC5wdXNoKHsgdXVpZDogdXVpZCwgZXZlbnQ6IGV2ZW50LCBjYjogY2FsbGJhY2ssIGN0eDogY3R4LCBvbmNlOiBvbmNlIH0pO1xuXG4gICAgICAgIHJldHVybiB1dWlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlaXhhIGRlIG9ic2VydmFyIHVtIGV2ZW50b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBDYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIHVubGlzdGVuKGV2ZW50LCBjYiA9ICcqJykge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy4jbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiNsaXN0W2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW0uZXZlbnQgPT0gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2IgPT09IGl0ZW0udXVpZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNsaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNiID09ICcqJyB8fCBjYi5pZCA9PSBpdGVtLmNiLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2xpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW0gZXZlbnRvIHBhcmEgc2VyIG9ic2VydmFkbyBhcGVuYXMgdW1hIHZlelxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCAtIE5vbWUgZG8gZXZlbnRvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjdHggLSBDb250ZXh0byBkbyBjYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIG9uY2UoZXZlbnQsIGNhbGxiYWNrLCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuKGV2ZW50LCBjYWxsYmFjaywgY3R4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXJhIG9zIGNhbGxiYWNrIGFzc29jaWFkb3MgYW8gZXZlbnRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gTm9tZSBkbyBldmVudG9cbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBQYXJhbWV0cm9zIGVudmlhZG9zIGFvIGNhbGxiYWNrIGRvIGV2ZW50b1xuICAgICAqIEByZXR1cm5zIHtQaUV2ZW50fVxuICAgICAqL1xuICAgIHRyaWdnZXIoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgbGV0IGV2ZW50c09uY2UgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNsaXN0W2ldLmV2ZW50ID09IGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiNsaXN0W2ldO1xuICAgICAgICAgICAgICAgIGl0ZW0uY2IuYXBwbHkoaXRlbS5jdHgsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ub25jZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNPbmNlLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGV2ZW50c09uY2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHRoaXMudW5saXN0ZW4oZXZlbnRzT25jZVtpXS5ldmVudCwgZXZlbnRzT25jZVtpXS5jYik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBmb2kgYWRpY2lvbmFkbyB1bSBldmVudG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBOb21lIGRvIGV2ZW50b1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGV4aXN0KGV2ZW50KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLiNsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4jbGlzdFtpXS5ldmVudCA9PSBldmVudCkgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZWVkKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgIGlmIChuYW1lIGluc3RhbmNlb2YgUGlFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcmVzZWVkQWxsKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saXN0ZW4obmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBldmVudC50cmlnZ2VyLmNhbGwoZXZlbnQsIG5hbWUsIC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBfcmVzZWVkQWxsKGV2ZW50KXtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuI2xpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHRoaXMuI2xpc3RbaV0uZXZlbnQ7XG4gICAgICAgICAgICB0aGlzLnJlc2VlZChldmVudE5hbWUsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0b2RvcyBvcyBldmVudG9zXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpRXZlbnR9XG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuI2xpc3QgPSBbXTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0IFBpU3RhdGVtZW50IGZyb20gXCIuL3N0YXRlbWVudFwiO1xuaW1wb3J0IFBpVHlwZSBmcm9tIFwiLi90eXBlXCI7XG5pbXBvcnQgUGlPYmplY3QgZnJvbSBcIi4vb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJzLCB0aW1lb3V0IH0gZnJvbSBcIi4vaGVscGVyc1wiO1xuXG5jb25zdCBocHMgPSBoZWxwZXJzO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUV4cHJlc3Npb24ge1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlIC0gVGVtcGxhdGUgYmFzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG5cbiAgICAgICAgdGhpcy5fcnhFeHByZXNzaW9uID0gUGlDb25maWcuZ2V0KCdleHByZXNzaW9uLnhsYW5ndWFnZScpO1xuICAgICAgICB0aGlzLl9yeFZhcmlhYmxlID0gUGlDb25maWcuZ2V0KCdleHByZXNzaW9uLnh2YXJpYWJsZScpO1xuXG4gICAgICAgIHRoaXMuX2xvYWQoKTtcbiAgICB9XG5cbiAgICBzZXREZWxpbWl0ZXJzKHBhdHRlcm4pe1xuICAgICAgICB0aGlzLl9yeEV4cHJlc3Npb24gPSBwYXR0ZXJuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdG9kYXMgYXMgZXhwcmVzc8O1ZXMgZW5jb250cmFkYXMgbm8gdGVtcGxhdGUgYmFzZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBnZXQgYWxsKCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9ucyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZXhwcmVzc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGV4cHJlc3Npb25zLnB1c2godGhpcy5fY2xlYXIodGhpcy5fZXhwcmVzc2lvbnNbaV0udmFsdWUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHByZXNzaW9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHRvZGFzIGFzIHZhcmnDoXZlaXMgZW5jb250cmFkYXMgZGVudHJvIGRhcyBleHByZXNzw7Vlc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBnZXQgdmFyaWFibGVzKCkge1xuICAgICAgICBpZiAodGhpcy5fdmFyaWFibGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVzID0gdGhpcy5fZXh0cmFjdEFsbFZhcmlhYmxlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHJlc3VsdGFkbyBkbyB0ZW1wbGF0ZSBwYXJzZWFkbyBjb20gbyBjb250ZXh0byBpbmZvcm1hZG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHBhcnNlKGNvbnRleHQsIHZhcmlhYmxlcyA9IFtbXSwgW11dKSB7XG4gICAgICAgIGxldCBleHByZXNzaW9ucyA9IHRoaXMuX2V4cHJlc3Npb25zO1xuICAgICAgICBsZXQgcGhyYXNlID0gdGhpcy5fcGhyYXNlO1xuXG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmtleXMoY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGNvbnRleHRQcm9wZXJ0eVZhbHVlcyA9IE9iamVjdC52YWx1ZXMoY29udGV4dCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0UHJvcGVydHlWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY29udGV4dFByb3BlcnR5VmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0UHJvcGVydHlWYWx1ZXNbaV0gPSB2YWx1ZS5iaW5kKGNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyaWFibGVzWzBdID0gY29udGV4dFByb3BlcnR5TmFtZXMuY29uY2F0KHZhcmlhYmxlc1swXSk7XG4gICAgICAgIHZhcmlhYmxlc1sxXSA9IGNvbnRleHRQcm9wZXJ0eVZhbHVlcy5jb25jYXQodmFyaWFibGVzWzFdKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhwcy5hbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhvb2sgPSBocHMuYWxsW2ldO1xuXG4gICAgICAgICAgICB2YXJpYWJsZXNbMF0ucHVzaChob29rWzBdKTtcbiAgICAgICAgICAgIHZhcmlhYmxlc1sxXS5wdXNoKGhvb2tbMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleHByZXNzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb25zW2ldO1xuICAgICAgICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuX2NsZWFyKGV4cHJlc3Npb24udmFsdWUpO1xuXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBQaVN0YXRlbWVudC5leGVjV2l0aFZhcmlhYmxlcyhzdG10LCB2YXJpYWJsZXMsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICBpZiAoUGlUeXBlLmlzTnVtYmVyKHZhbHVlKSAmJiB2YWx1ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnMCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFBpVHlwZS5pc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGhyYXNlID0gcGhyYXNlLnJlcGxhY2UoZXhwcmVzc2lvbi5rZXksIFBpVHlwZS5pc0Jvb2xlYW4odmFsdWUpID8gdmFsdWUgOiB2YWx1ZSB8fCAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGhyYXNlO1xuICAgIH1cblxuICAgIF9sb2FkKCkge1xuICAgICAgICB2YXIgeyBwaHJhc2UsIGV4cHJlc3Npb25zIH0gPSB0aGlzLl9leHRyYWN0UGhyYXNlQW5kRXhwcmVzc2lvbnMoKTtcbiAgICAgICAgdGhpcy5fcGhyYXNlID0gcGhyYXNlO1xuICAgICAgICB0aGlzLl9leHByZXNzaW9ucyA9IGV4cHJlc3Npb25zO1xuICAgIH1cblxuICAgIF9jbGVhcihleHByZXNzaW9uKSB7XG4gICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnJlcGxhY2UodGhpcy5fcnhFeHByZXNzaW9uLCBmdW5jdGlvbiAoXywgZGJlZ2luLCBib2R5LCBkZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cHJlc3Npb24ucmVwbGFjZSh0aGlzLl9yeFZhcmlhYmxlLCBmdW5jdGlvbiAoXywgZGJlZ2luLCBib2R5LCBkZW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24udHJpbSgpO1xuICAgIH1cblxuICAgIF9leHRyYWN0UGhyYXNlQW5kRXhwcmVzc2lvbnMoKSB7XG4gICAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xuICAgICAgICB2YXIgY291bnRlciA9IDE7XG4gICAgICAgIHZhciBwaHJhc2UgPSB0aGlzLl90ZW1wbGF0ZS5yZXBsYWNlKHRoaXMuX3J4RXhwcmVzc2lvbiwgZnVuY3Rpb24gKGV4cHJlc3Npb25Gb3VuZGVkKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYWJsZSA9IGBfJCR7Y291bnRlcisrfV9gO1xuXG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZXhwcmVzc2lvbkZvdW5kZWQsXG4gICAgICAgICAgICAgICAga2V5OiB2YXJpYWJsZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB2YXJpYWJsZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHsgcGhyYXNlLCBleHByZXNzaW9ucyB9O1xuICAgIH1cblxuICAgIF9leHRyYWN0QWxsVmFyaWFibGVzKCkge1xuICAgICAgICB2YXIgdmFyaWFibGVzID0gdGhpcy5fdGVtcGxhdGUubWF0Y2godGhpcy5fcnhWYXJpYWJsZSkgfHwgW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YXJpYWJsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB2YXJpYWJsZXNbaV07XG4gICAgICAgICAgICB2YXJpYWJsZXNbaV0gPSB2LnN1YnN0cigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YXJpYWJsZXM7XG4gICAgfVxuXG4gICAgX2V4dHJhY3RWYXJpYWJsZXMoZXhwcmVzc2lvbikge1xuICAgICAgICB2YXIgdmFyaWFibGVzID0gZXhwcmVzc2lvbi5tYXRjaCh0aGlzLl9yeFZhcmlhYmxlKSB8fCBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhcmlhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdiA9IHZhcmlhYmxlc1tpXTtcbiAgICAgICAgICAgIHZhcmlhYmxlc1tpXSA9IHYuc3Vic3RyKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlcztcbiAgICB9XG5cbiAgICBfZXh0cmFjdFZhcmlhYmxlc1ZhbHVlcyh2YXJpYWJsZU5hbWVzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHZhcmlhYmxlTmFtZXNbaV07XG5cbiAgICAgICAgICAgIHZhcmlhYmxlcy5wdXNoKFBpT2JqZWN0LmV4dHJhY3RWYWx1ZShjb250ZXh0LCBuYW1lKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFyaWFibGVzO1xuICAgIH1cblxufSIsImltcG9ydCAgUGlUeXBlIGZyb20gXCIuL3R5cGVcIjtcblxuY29uc3Qgc3RtdFJhbmdlMSA9IC9eKFxcdyspXFxzK2luXFxzK3JhbmdlXFwoXFxzKigtP1xcZCspXFxzKlxcKSQvZ2k7XG5jb25zdCBzdG10UmFuZ2UyID0gL14oXFx3KylcXHMraW5cXHMrcmFuZ2VcXChcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkL2dpO1xuY29uc3Qgc3RtdFJhbmdlMyA9IC9eKFxcdyspXFxzK2luXFxzK3JhbmdlXFwoXFxzKigtP1xcZCspXFxzKixcXHMqKC0/XFxkKylcXHMqLFxccyooLT9cXGQrKVxccypcXCkkL2dpO1xuY29uc3Qgc3RtdExpdGVyYWwgPSAvXihcXHcrKVxccytpblxccysoWzAtOV0rKSQvZ2k7XG5jb25zdCBzdG10UHJvcGVydHkgPSAvXihcXHcrKVxccytpblxccysoXFx3KykkL2dpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaUZvckRpcmVjdGl2ZSB7XG4gICAgY29uc3RydWN0b3Ioc3RtdCkge1xuICAgICAgICB0aGlzLl9zdG10ID0gc3RtdDtcblxuICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXRlcmFibGVQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2l0ZXJhYmxlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9pdGVyYWJsZVN0ZXAgPSAxO1xuICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb29wID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5kID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgfVxuXG4gICAgZ2V0IG9iamVjdEludGVyYWJsZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyYWJsZVByb3BlcnR5O1xuICAgIH1cblxuICAgIGxvb3AoZm4pIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGVuZChmbikge1xuICAgICAgICB0aGlzLl9lbmQgPSBmbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBydW4oY291bnQgPSBudWxsKSB7XG4gICAgICAgIGxldCBsZW5ndGggPSAwO1xuXG4gICAgICAgIGlmIChjb3VudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZW5ndGggPSBjb3VudDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9pdGVyYWJsZUNvdW50KSB7XG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9pdGVyYWJsZUNvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2l0ZXJhYmxlU3RlcCA8IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9pdGVyYWJsZUNvdW50IC0gdGhpcy5faXRlcmFibGVTdGFydDsgaSA+PSAwOyBpICs9IHRoaXMuX2l0ZXJhYmxlU3RlcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AodGhpcy5faW5kZXhOYW1lLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLl9pdGVyYWJsZVN0YXJ0OyBpIDwgbGVuZ3RoOyBpICs9IHRoaXMuX2l0ZXJhYmxlU3RlcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvb3AodGhpcy5faW5kZXhOYW1lLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2VuZCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9sb2FkTnVtYmVyKG4pIHtcbiAgICAgICAgY29uc3QgbnVtYmVyID0gcGFyc2VJbnQobik7XG4gICAgICAgIGNvbnN0IGlzTnVtYmVyID0gUGlUeXBlLmlzTnVtYmVyKG51bWJlcik7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVQcm9wZXJ0eSA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZUNvdW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlUHJvcGVydHkgPSBuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvYWQoKSB7XG4gICAgICAgIGlmIChzdG10UmFuZ2UxLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTEoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10UmFuZ2UyLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTIoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10UmFuZ2UzLnRlc3QodGhpcy5fc3RtdCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JSYW5nZTMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG10TGl0ZXJhbC50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yTGl0ZXJhbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0bXRQcm9wZXJ0eS50ZXN0KHRoaXMuX3N0bXQpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkRm9yUHJvcGVydHkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGBQaUZvckRpcmVjdGl2ZTogU3RhdGVtZW50IGludsOhbGlkYSBwYXJhIGxhw6dvIGZvciA9ICR7dGhpcy5fc3RtdH0uIFBhZHLDo28gZXNwZXJhZG86ICh2YXJpw6F2ZWwgaW4gbGl0ZXJhbCkgb3UgKHZhcmnDoXZlbCBpbiByYW5nZSh0b3RhbFssIGluaWNpb1ssIHBhc3NvXV0pKWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbG9hZEZvclJhbmdlMSgpIHtcbiAgICAgICAgdGhpcy5fc3RtdC5yZXBsYWNlKHN0bXRSYW5nZTEsIChzdG10LCBpbmRleE5hbWUsIHByb3BlcnR5TmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9hZE51bWJlcihwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWRGb3JSYW5nZTIoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10UmFuZ2UyLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUsIHN0YXJ0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTnVtYmVyKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZVN0YXJ0ID0gcGFyc2VJbnQoc3RhcnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2xvYWRGb3JSYW5nZTMoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10UmFuZ2UzLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUsIHN0YXJ0LCBzdGVwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkTnVtYmVyKHByb3BlcnR5TmFtZSk7XG4gICAgICAgICAgICB0aGlzLl9pbmRleE5hbWUgPSBpbmRleE5hbWU7XG4gICAgICAgICAgICB0aGlzLl9pdGVyYWJsZVN0YXJ0ID0gcGFyc2VJbnQoc3RhcnQpO1xuICAgICAgICAgICAgdGhpcy5faXRlcmFibGVTdGVwID0gcGFyc2VJbnQoc3RlcCk7XG5cbiAgICAgICAgICAgIHJldHVybiBzdG10O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfbG9hZEZvclByb3BlcnR5KCkge1xuICAgICAgICB0aGlzLl9zdG10LnJlcGxhY2Uoc3RtdFByb3BlcnR5LCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWROdW1iZXIocHJvcGVydHlOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yTGl0ZXJhbCgpIHtcbiAgICAgICAgdGhpcy5fc3RtdC5yZXBsYWNlKHN0bXRMaXRlcmFsLCAoc3RtdCwgaW5kZXhOYW1lLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZXJhYmxlQ291bnQgPSBwYXJzZUludChwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdGhpcy5faW5kZXhOYW1lID0gaW5kZXhOYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gc3RtdDtcbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJpbXBvcnQgUGlGdW5jdGlvbiBmcm9tICcuL2Z1bmN0aW9uJ1xuaW1wb3J0IFBpT2JqZWN0IGZyb20gJy4vb2JqZWN0J1xuXG5jb25zdCBzdG10Rm9yZWFyY2hXaXRoSW5kZXggPSAvXlxcKChcXHcrKVxccyosXFxzKihcXHcrKVxcKVxccytpblxccysoXFx3KyhcXC5cXHcrKSopJC9naTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlGb3JFYWNoRGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihzdG10LCBjb250ZXh0ID0ge30sIGZuID0gUGlGdW5jdGlvbi5ub29wKSB7XG4gICAgICAgIHRoaXMuX3N0bXQgPSBzdG10O1xuICAgICAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5fZm4gPSBmbjtcbiAgICAgICAgdGhpcy5fZW5kID0gUGlGdW5jdGlvbi5ub29wO1xuXG4gICAgICAgIHRoaXMuX2xvYWQoKTtcbiAgICB9XG5cbiAgICBnZXQgdmFyaWFibGVJbnRlcmFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFyaWFibGVJbnRlcmFibGVOYW1lO1xuICAgIH1cblxuICAgIGdldCBvYmplY3RJbnRlcmFibGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZTtcbiAgICB9XG5cbiAgICBsb29wKGZuKSB7XG4gICAgICAgIHRoaXMuX2ZuID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcnVuKGFycmF5ID0gbnVsbCwgaW5kZXhCZWdpbiA9IDAsIGluZGV4RW5kID0gLTEsIHN0ZXAgPSAxKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdEludGVyYWJsZSA9IGFycmF5IHx8IFBpT2JqZWN0LmV4dHJhY3RWYWx1ZSh0aGlzLl9jb250ZXh0LCB0aGlzLl9vYmplY3RJbnRlcmFibGVOYW1lKTtcblxuICAgICAgICBpZiAob2JqZWN0SW50ZXJhYmxlLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ0Z1bmN0aW9uJyB8fCBvYmplY3RJbnRlcmFibGUuY29uc3RydWN0b3IubmFtZSA9PSAnT2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgZm9yZWFjaEZuID0gbmV3IEZ1bmN0aW9uKCdfdGhpcycsICdvYmonLCAndm4nLCAnaXhuJywgJ2ZuJywgYGZvcihjb25zdCBpIGluIG9iail7Zm4ob2JqLCBpLCB2biwgaXhuKTt9YCk7XG4gICAgICAgICAgICBmb3JlYWNoRm4odGhpcywgb2JqZWN0SW50ZXJhYmxlLCB0aGlzLl92YXJpYWJsZUludGVyYWJsZU5hbWUsIHRoaXMuX3ZhcmlhYmxlSW5kZXhOYW1lLCB0aGlzLl9mbilcbiAgICAgICAgICAgIHRoaXMuX2VuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGZvcmVhY2hGbiA9IG5ldyBGdW5jdGlvbignX3RoaXMnLCAnYXJyJywgJ2luZGV4QmVnaW4nLCAnaW5kZXhFbmQnLCAnc3RlcCcsICd2bicsICdpeG4nLCAnZm4nLCBgZm9yKHZhciBpID0gaW5kZXhCZWdpbiA7IGkgPCBpbmRleEVuZCA7IGkgKz0gc3RlcCl7Zm4oYXJyLCBpLCB2biwgaXhuKTt9YCk7XG4gICAgICAgIGlmIChpbmRleEVuZCA9PSAtMSkge1xuICAgICAgICAgICAgaW5kZXhFbmQgPSBvYmplY3RJbnRlcmFibGUubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yZWFjaEZuKHRoaXMsIG9iamVjdEludGVyYWJsZSwgaW5kZXhCZWdpbiwgaW5kZXhFbmQsIHN0ZXAsIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZSwgdGhpcy5fdmFyaWFibGVJbmRleE5hbWUsIHRoaXMuX2ZuKVxuICAgICAgICB0aGlzLl9lbmQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBlbmQoZm4pIHtcbiAgICAgICAgdGhpcy5fZW5kID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgX2xvYWQoKSB7XG4gICAgICAgIGlmIChzdG10Rm9yZWFyY2hXaXRoSW5kZXgudGVzdCh0aGlzLl9zdG10KSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZEZvcmVhY2hJbmRleEFuZFByb3BlcnRpZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRGb3JlYWNoUHJvcGVydGllcygpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBfbG9hZEZvcmVhY2hJbmRleEFuZFByb3BlcnRpZXMoKSB7XG4gICAgICAgIHRoaXMuX3N0bXQucmVwbGFjZShzdG10Rm9yZWFyY2hXaXRoSW5kZXgsIChzdG10LCBpbmRleE5hbWUsIHByb3BlcnR5TmFtZSwgaW50ZXJhYmxlTmFtZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVJbnRlcmFibGVOYW1lID0gcHJvcGVydHlOYW1lO1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZSA9IGludGVyYWJsZU5hbWU7XG4gICAgICAgICAgICB0aGlzLl92YXJpYWJsZUluZGV4TmFtZSA9IGluZGV4TmFtZTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0bXQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9sb2FkRm9yZWFjaFByb3BlcnRpZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLl9zdG10O1xuICAgICAgICBjb25zdCB0b2tlbnMgPSBzdG10LnRyaW0oKS5zcGxpdCgnICcpO1xuXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoICE9IDMpIHtcbiAgICAgICAgICAgIHRocm93IGBQaUZvckVhY2hEaXJlY3RpdmU6IFN0YXRlbWVudCBpbnbDoWxpZGEgcGFyYSBsYcOnbyBmb3JlYWNoID0gJHtzdG10fS4gUGFkcsOjbyBlc3BlcmFkbzogW3ZhcmnDoXZlbCBpbiBpdGVyw6F2ZWxdIG91IFsoaW5kZXgsIHZhcmnDoXZlbCkgaW4gaXRlcsOhdmVsXWA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92YXJpYWJsZUluZGV4TmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZhcmlhYmxlSW50ZXJhYmxlTmFtZSA9IHRva2Vuc1swXTtcbiAgICAgICAgdGhpcy5fb2JqZWN0SW50ZXJhYmxlTmFtZSA9IHRva2Vuc1syXTtcbiAgICB9XG59OyIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpRnVuY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIHZhemlhXG4gICAgICovXG4gICAgc3RhdGljIG5vb3AoKSB7IH1cbn07IiwiaW1wb3J0IFBpVHJhbnNsYXRlIGZyb20gXCIuL3RyYW5zbGF0ZVwiO1xuXG5mdW5jdGlvbiB0aW1lb3V0KHRpbWUsIGZuLCBjdHgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZm4uY2FsbChjdHgpO1xuICAgIH0sIHRpbWUpO1xufVxuXG5mdW5jdGlvbiB0aW1lb3V0U2VjKHRpbWUsIGZuLCBjdHgpIHtcbiAgICB0aW1lb3V0KHRpbWUgKiAxMDAwLCBmbiwgY3R4KTtcbn1cblxuZnVuY3Rpb24gZGVib3VuY2UodGltZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZm4sIGN0eCkge1xuICAgICAgICB0aW1lb3V0KHRpbWUsIGZuLCBjdHgpO1xuICAgIH1cbn1cblxuY29uc3QgaGVscGVycyA9IHtcbiAgICBfYWxsOiBbXSxcblxuICAgIHJlZ2lzdGVyKG5hbWUsIGZuKSB7XG4gICAgICAgIHRoaXMuX2FsbC5wdXNoKFtuYW1lLCBmbl0pO1xuICAgIH0sXG5cbiAgICBnZXQgYWxsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsO1xuICAgIH1cbn07XG5cbmhlbHBlcnMucmVnaXN0ZXIoJ18nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBpVHJhbnNsYXRlLmdldC5hcHBseShQaVRyYW5zbGF0ZSwgYXJndW1lbnRzKTtcbn0pO1xuXG5leHBvcnQgeyB0aW1lb3V0LCB0aW1lb3V0U2VjLCBkZWJvdW5jZSwgaGVscGVycyB9OyIsImltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4vZW52J1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBuZXcgY2xhc3MgUGlJbml0aWFsaXplIHtcbiAgICAjcmVhZHlGbiA9IFtdO1xuICAgICNib290Rm4gPSBbXTtcbiAgICAjYm9vdEluaXQgPSBbXTtcbiAgICAjYm9vdFN0YXJ0ID0gW107XG4gICAgI2lzTG9hZGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIEZ1bsOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgbm8gaW5pY2lvIGRvIGJvb3RcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlJbml0aWFsaXplfVxuICAgICAqL1xuICAgIGJvb3QoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdEZuLnVuc2hpZnQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZ1bsOnw6NvIGV4ZWN1dGFkYSBhcG9zIG8gYm9vdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gQ2FsbGJhY2tcbiAgICAgKiBAcmV0dXJucyB7UGlJbml0aWFsaXplfVxuICAgICAqL1xuICAgIGluaXQoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdEluaXQudW5zaGlmdChmbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuw6fDo28gZXhlY3V0YWRhIGFww7NzIGEgaW5pY2lhbGl6YcOnw6NvXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBDYWxsYmFja1xuICAgICAqIEByZXR1cm5zIHtQaUluaXRpYWxpemV9XG4gICAgICovXG4gICAgc3RhcnQoZm4pIHtcbiAgICAgICAgdGhpcy4jYm9vdFN0YXJ0LnVuc2hpZnQoZm4pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgYSBzZXF1ZW5jaWEgZGUgaW5jaWFsaXphw6fDo286IGJvb3QgLT4gY2FsbGJhY2sgLT4gcmVhZHlcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKG9rKSA9PiB7XG4gICAgICAgICAgICBnbG9iYWwuJCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jYm9vdEZuKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwYXRjaCh0aGlzLiNib290SW5pdCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jZGlzcGF0Y2godGhpcy4jYm9vdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICB0aGlzLiNkaXNwYXRjaCh0aGlzLiNyZWFkeUZuKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuI2lzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnOyknKVxuICAgICAgICAgICAgICAgIG9rKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRnVuw6fDo28gZXhlY3V0YWRhIGFww7NzIHRvZG8gcHJvY2Vzc28gZGUgaW5pY2lhbGl6YcOnw6NvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBGdW7Dp8OjbyBxdWUgc2Vyw6EgZXhlY3V0YWRhIGRlcG9pcyBxdWUgbyBzaXN0ZW1hIGVzdGl2ZXIgaW5pY2lhbGl6YWRvXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgob2ssIGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2lzTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgb2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuI3JlYWR5Rm4udW5zaGlmdChvayk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNkaXNwYXRjaChhcnIpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFycltpXSgpO1xuICAgICAgICB9XG4gICAgfVxufTsiLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gJy4vZW52JztcbmltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnXG5pbXBvcnQgUGlBY3Rpb24gZnJvbSAnLi9hY3Rpb24nXG5pbXBvcnQgUGlPYmplY3QgZnJvbSAnLi9vYmplY3QnO1xuaW1wb3J0IFBpQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50J1xuaW1wb3J0IFBpU3RyaW5nIGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCBQaUNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgUGlVcmwgZnJvbSAnLi91cmwnO1xuaW1wb3J0IFBpQXBwIGZyb20gJy4vYXBwJztcbmltcG9ydCBQaVR5cGUgZnJvbSAnLi90eXBlJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlNb2RlbCB7XG4gICAgI3BhcmFtZXRlcnMgPSBudWxsO1xuICAgICNhY3Rpb25MaXN0ID0gW107XG4gICAgI3ZhbGlkYXRvckxpc3QgPSBbXTtcbiAgICAjYmFzZVVybCA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICB0aGlzLiNhY3Rpb25MaXN0ID0gW107XG4gICAgICAgIHRoaXMuI3ZhbGlkYXRvckxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy4jYmFzZVVybCA9ICcnO1xuXG4gICAgICAgIGlmIChQaVR5cGUuaXNPYmplY3QoYXJnc1swXSkpIHtcbiAgICAgICAgICAgIFBpT2JqZWN0LmV4dGVuZEFuZENhbGwodGhpcywgYXJnc1swXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNwYXJhbWV0ZXJzID0gYXJnc1swXSA9PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3NbMF07XG5cbiAgICAgICAgdGhpcy5pbml0KC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGdldEJhc2VVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNiYXNlVXJsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluamV0YSBhcyBwcm9wcmllZGFkZXMgZG8gb2JqZXRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtqc29ufSBqc29uIC0gT2JqZXRvIGEgc2VyIGluamV0YWRvIG5vIG9iamV0byBhdHVhbFxuICAgICAqIEByZXR1cm5zIHt0aGlzfVxuICAgICAqL1xuICAgIF9pbmplY3QoanNvbikge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBqc29uKSB7XG4gICAgICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGpzb25bcHJvcGVydHldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmEgbyBvYmpldG8gYXR1YWxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgdGhpcy5jbG9uZVdpbGxMb2FkKCk7XG4gICAgICAgIGxldCBqc29uID0gdGhpcy50b0pzb24oKTtcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IoanNvbik7XG4gICAgICAgIHRoaXMuY2xvbmVEaWRMb2FkKGNsb25lKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuXG4gICAgY2xvbmVEaWRMb2FkKCkge1xuXG4gICAgfVxuXG4gICAgY2xvbmVXaWxsTG9hZCgpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyaWEgdW1hIG5vdmEgaW5zdGFuY2lhIGRhIGNsYXNzZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyBcbiAgICAgKiBAcmV0dXJucyB7dGhpc31cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKC4uLmFyZ3MpO1xuICAgIH1cblxuICAgIGNyZWF0ZSguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvciguLi5hcmdzKTtcbiAgICB9XG5cbiAgICB0b0pzb24oKSB7XG4gICAgICAgIHRoaXMuanNvbldpbGxDb252ZXJ0KCk7XG4gICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzKSk7XG4gICAgICAgIHRoaXMuanNvbkRpZENvbnZlcnQoanNvbik7XG5cbiAgICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuXG4gICAganNvbkRpZENvbnZlcnQoanNvbikge1xuXG4gICAgfVxuXG4gICAganNvbldpbGxDb252ZXJ0KCkge1xuXG4gICAgfVxuXG4gICAgaW5zdGFuY2VzKCkge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6YSBhcyByb3Rhc1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgYmFzZSB1dGlsaXphZGEgcGVsYXMgYWN0aW9ucyBwYXJhIGFzIHJlcXVlc3RzXG4gICAgICovXG4gICAgaW5pdCh1cmwpIHtcbiAgICAgICAgdGhpcy5fbG9hZEFjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fbG9hZFZhbGlkYXRpb25zKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnVXJsKHVybCB8fCB0aGlzLiNwYXJhbWV0ZXJzLnVybCB8fCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5qZXRhIG8ganNvbiBkZW50cm8gZGEgbW9kZWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0ganNvbiAtIEpzb24gYSBzZXIgaW5qZXRhZG8gbm8gbW9kZWxvXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgaW5pdFdpdGhKc29uKGpzb24pIHtcbiAgICAgICAgdGhpcy5faW5qZWN0KGpzb24pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIHVtYSBhY3Rpb25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5vbWUgZGEgcm90YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdG10IC0gUm90YSBubyBmb3JtYXRvOiBNRVRIT0Q6L3JvdXRlP3F1ZXJ5c3RyaW5nXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgYWRkQWN0aW9uKG5hbWUsIHN0bXQpIHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gbmV3IFBpQWN0aW9uKHtcbiAgICAgICAgICAgIGFjdGlvbk5hbWU6IG5hbWUsXG4gICAgICAgICAgICBhY3Rpb25TdG10OiBzdG10LFxuICAgICAgICAgICAgbW9kZWw6IHRoaXNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy4jYWN0aW9uTGlzdFtuYW1lXSA9IGFjdGlvbjtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bWEgcmVncmEgZGUgdmFsaWRhw6fDo28gcGFyYSB1bWEgcHJvcHJpZWRhZGUgZGEgbW9kZWxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFByb3ByaWVkYWRlIGRhIG1vZGVsXG4gICAgICogQHBhcmFtIHtQaVZhbGlkYXRvcn0gcnVsZSAtIENsYXNzZSBxdWUgaW1wbGVtZW50YSBhIHJlZ3JhIGRlIHZhbGlkYcOnw6NvXG4gICAgICogQHJldHVybnMge1BpTW9kZWx9XG4gICAgICovXG4gICAgYWRkVmFsaWRhdG9yKG5hbWUsIHJ1bGUpIHtcbiAgICAgICAgdGhpcy4jdmFsaWRhdG9yTGlzdFtuYW1lXSA9IHJ1bGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bSBvYmpldG8gbGl0ZXJhbCBjb250ZW5kbyB0b2RhcyBhcyByZWdyYXMgZGUgdmFsaWRhw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHZhbGlkYXRvcnMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtIG9iamV0byBsaXRlcmFsIGNvbnRlbmRvIHRvZGFzIGFzIGFjdGlvbnNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIGFjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdW0gdmFsb3IgcGFyYSB1bWEgcHJvcHJpZWRhZGUuXG4gICAgICogRXN0ZSBtw6l0b2RvIGRpc3BhcmEgYSBleGVjdcOnw6NvIGRhIHZhbGlkYcOnw6NvIFxuICAgICAqIGRlIHByb3ByaWVkYWRlIGFudGVzIGRlIGluc2VyaXIgbyB2YWxvclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBOb21lIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVmFsb3IgZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7UGlNb2RlbH1cbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0eShrZXksIHZhbHVlLCB0eXBlKSB7XG4gICAgICAgIGNvbnN0IG5hbWVzID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBpc0NvbXBvc2VkID0gbmFtZXMubGVuZ3RoID4gMSxcbiAgICAgICAgICAgIHJ1bGUgPSB0aGlzLiN2YWxpZGF0b3JMaXN0W2tleV07XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNDb21wb3NlZCkge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBuYW1lc1tuYW1lcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IFBpT2JqZWN0LmV4dHJhY3RQcm9wZXJ0eUNvbnRleHQodGhpcywga2V5KTtcblxuICAgICAgICAgICAgaWYgKHByb3BlcnR5IGluc3RhbmNlb2YgUGlNb2RlbCkge1xuICAgICAgICAgICAgICAgIHByb3BlcnR5LnNldFByb3BlcnR5KGxhc3QsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5W2xhc3RdIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlbbGFzdF0odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5W2xhc3RdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocnVsZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpc1trZXldIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJ1bGUubG9hZCh0aGlzLCBrZXksIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChydWxlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBydWxlLmxhYmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VyZSBhIG1vZGVsIGNhc28gaWQgc2VqYSB6ZXJvIG91IGF0dWFsaXphIGEgbW9kZWwgXG4gICAgICogY2FzbyBvIHZhbG9yIGRvIGlkIHNlamEgbWFpb3IgcXVlIHplcm9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHNhdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlkID09IHVuZGVmaW5lZCkgcmV0dXJuIHRoaXMuaW5zZXJ0KClcbiAgICAgICAgZWxzZSBpZiAodGhpcy5pZCA9PSAwKSByZXR1cm4gdGhpcy5pbnNlcnQoKTtcbiAgICAgICAgZWxzZSByZXR1cm4gdGhpcy51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtYSBhY3Rpb24gcGVsbyBub21lXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOb21lIGRhIGFjdGlvblxuICAgICAqIEByZXR1cm5zIHtQaUFjdGlvbn1cbiAgICAgKi9cbiAgICBnZXRBY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYWN0aW9uTGlzdFtuYW1lXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZW50YXIgaW5qZXRhciBvcyBkYXRhLW1vZGVscyBkbyBjb21wb25lbnQgbmEgbW9kZWwgY2FzbyBvIHBhcmFtZXRybyBzZWphIHVtIFBpQ29tcG9uZW50LlxuICAgICAqIFJldG9ybmEgZW0gdW0gYXJyYXkgc3RyaW5nIGNvbSB0b2RvcyBvcyBlcnJvcyBlbmNvbnRyYWRvcy5cbiAgICAgKiBTZSBvIHBhcmFtZXRybyBmb3IgdW0ganNvbiBlbGUgaXJhIGluamV0YXIgYXMgcHJvcHJpZWRhZGVzIG5hIG1vZGVsLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UGlDb21wb25lbnR9IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIFxuICAgICAqIEByZXR1cm5zIHthcnJheX1cbiAgICAgKi9cbiAgICBpbmplY3QoY29tcG9uZW50LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpQ29tcG9uZW50IHx8IGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpQXBwKSB7XG4gICAgICAgICAgICBsZXQgbmFtZXMgPSBQaVN0cmluZy5jbGlwcyhjb21wb25lbnQuZWxlbWVudC5pbm5lckhUTUwsICdkYXRhLW1vZGVsPVwiJywgJ1wiJyksXG4gICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBbXTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IFBpT2JqZWN0LmV4dGVuZCh7fSwge1xuICAgICAgICAgICAgICAgIGludmFsaWRJbnB1dENsYXNzOiAnaW52YWxpZC1mZWVkYmFjaydcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gbmFtZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBjb21wb25lbnQuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2RlbD1cIicgKyBwcm9wZXJ0eSArICdcIl0nKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmZpcnN0Q2hpbGQgJiYgZWxlbWVudC5maXJzdENoaWxkLl9oYXNDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LmZpcnN0Q2hpbGQuX2NvbXBvbmVudC5nZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5faGFzQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudC5fY29tcG9uZW50LmdldCgpO1xuICAgICAgICAgICAgICAgICAgICBpc0NvbXBvbmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXNDb21wb25lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50LmdldCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0RWxlbWVudCA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50TWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRFbGVtZW50ICYmIG5leHRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgndmFsaWRhdGlvbi1tZXNzYWdlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UgPSBuZXh0RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5zZXRBdHRyaWJ1dGUoJ3ZhbGlkYXRpb24tbWVzc2FnZScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50TWVzc2FnZSwgZWxlbWVudC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuaW52YWxpZElucHV0Q2xhc3MpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCd3YXMtdmFsaWRhdGVkJyk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudE1lc3NhZ2UuaW5uZXJIVE1MID0gbXNnO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuaW52YWxpZElucHV0Q2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50TWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ3dhcy12YWxpZGF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFBpTW9kZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbmplY3QoY29tcG9uZW50LnRvSnNvbigpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5qZWN0KGNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmVxdWVzdFdpbGxHZXQoanNvbikge1xuXG4gICAgfVxuXG4gICAganNvbkRpZENvbnZlcnQoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVxdWVzdERpZEdldChqc29uKSB7XG5cbiAgICB9XG5cbiAgICByZXF1ZXN0V2lsbFBvc3QoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVxdWVzdERpZFBvc3QoanNvbikge1xuXG4gICAgfVxuXG4gICAgcmVzcG9uc2VTdWNjZXNzV2lsbExvYWQoYWN0aW9uLCB1cmwsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN1Y2Nlc3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVN1Y2Nlc3MoYWN0aW9uLCB1cmwsIC4uLmFyZ3MpIHtcbiAgICAgICAgYWN0aW9uLnByb2Nlc3NTdWNjZXNzUmVzcG9uc2UuYXBwbHkoYWN0aW9uLCBhcmdzKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVN1Y2Nlc3NEaWRMb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VTdWNjZXNzRGlkTG9hZCgpIHtcblxuICAgIH1cblxuICAgIHJlc3BvbnNlRXJyb3JXaWxsTG9hZChhY3Rpb24sIHVybCwgZGF0YSkge1xuICAgICAgICB0aGlzLnJlc3BvbnNlRXJyb3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICByZXNwb25zZUVycm9yKGFjdGlvbiwgdXJsLCAuLi5hcmdzKSB7XG4gICAgICAgIGFjdGlvbi5wcm9jZXNzRXJyb3JSZXNwb25zZS5hcHBseShhY3Rpb24sIGFyZ3MpO1xuICAgICAgICB0aGlzLnJlc3BvbnNlRXJyb3JEaWRMb2FkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VFcnJvckRpZExvYWQoKSB7XG5cbiAgICB9XG5cbiAgICBfbG9hZEFjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHVzZXJBY3Rpb25zID0gdGhpcy5hY3Rpb25zKCk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBY3Rpb25zID0ge1xuICAgICAgICAgICAgJ2FkZCc6ICdQT1NUOi8nLFxuICAgICAgICAgICAgJ2luc2VydCc6ICdQT1NUOi8nLFxuICAgICAgICAgICAgJ3VwZGF0ZSc6ICdQVVQ6LzppZCcsXG4gICAgICAgICAgICAncmVtb3ZlJzogJ1JFTU9WRTovOmlkJyxcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi86aWQnLFxuICAgICAgICAgICAgJ2ZpbmQnOiAnR0VUOi9maW5kLzppZCcsXG4gICAgICAgICAgICAnYWxsJzogJ0dFVDovJ1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3Rpb25zID0gUGlPYmplY3QuZXh0ZW5kKHt9LCBkZWZhdWx0QWN0aW9ucywgdXNlckFjdGlvbnMpO1xuXG4gICAgICAgIGZvciAobGV0IG5hbWUgaW4gYWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5hZGRBY3Rpb24obmFtZSwgYWN0aW9uc1tuYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY29uZmlnVXJsKHVybCkge1xuICAgICAgICBjb25zdCBtb2RlbFVybCA9IFBpQ29uZmlnLmdldCgnbW9kZWwudXJsJyk7XG5cbiAgICAgICAgaWYgKG1vZGVsVXJsID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRCYXNlVXJsKHVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldEJhc2VVcmwobW9kZWxVcmwgKyB1cmwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0QmFzZVVybCh1cmwpIHtcbiAgICAgICAgaWYgKHVybCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI2Jhc2VVcmwgPSBQaVVybC5jcmVhdGUoJ2xvY2FsaG9zdCcpLmhyZWYoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI2Jhc2VVcmwgPSB1cmw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfbG9hZFZhbGlkYXRpb25zKCkge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3JzID0gdGhpcy52YWxpZGF0b3JzKCk7XG4gICAgICAgIGZvciAodmFyIHYgaW4gdmFsaWRhdG9ycykge1xuICAgICAgICAgICAgdGhpcy5hZGRWYWxpZGF0b3IodiwgdmFsaWRhdG9yc1t2XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgcmVnaXN0ZXIobW9kZWwpIHtcbiAgICAgICAgcmVnaXN0ZXIobW9kZWwpXG4gICAgfVxufTsiLCJIVE1MRWxlbWVudC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ2NoZWNrYm94Jykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja2VkO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnZhbHVlO1xufTtcblxuSFRNTEVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh2KSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdzcmMnLCB2KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdocmVmJywgdik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQgJiYgdGhpcy50eXBlID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgdGhpcy5jaGVja2VkID0gdjtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJiB0aGlzLnR5cGUgPT0gJ3JhZGlvJykge1xuICAgICAgICB0aGlzLmNoZWNrZWQgPSB2O1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy52YWx1ZSA9IHY7XG59OyIsImltcG9ydCBQaVJhbmRvbSBmcm9tICcuL3JhbmRvbSdcbmltcG9ydCBQaVN0cmluZyBmcm9tICcuL3N0cmluZyc7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbmFtZSBQaU9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaU9iamVjdCB7XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBlIGNoYW1hIHRvZGFzIGFzIHByb3ByaWVkYWRlcyBjb20gbm9tZSBkZSBmdW7Dp8OjbyBkb3MgYXJndW1lbnRvcyBubyBwcmltZWlybyBwYXJhbWV0cm9cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRlbmRBbmRDYWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgZHN0ID0gYXJndW1lbnRzWzBdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgbGV0IG9iaiA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgcCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRzdFtwXSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtwXShvYmpbcF0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRzdFtwXSA9IG9ialtwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZHN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhaSBvIGNvbnRleHRvIG9uZGUgcHJvcHJpZWRhZGUgZXhpc3RlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamV0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIHBhdGggZGEgcHJvcHJpZWRhZGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fVxuICAgICAqL1xuICAgIHN0YXRpYyBleHRyYWN0UHJvcGVydHlDb250ZXh0ID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHkpIHtcbiAgICAgICAgbGV0IHAgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuXG4gICAgICAgIGlmIChwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbSA9IHBbaV07XG4gICAgICAgICAgICAgICAgaWYgKG9ialttXSA9PSB1bmRlZmluZWQpIG9ialttXSA9IHt9O1xuICAgICAgICAgICAgICAgIG9iaiA9IG9ialttXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbWEgdW1hIGZ1bsOnw6NvIGRlIGNhbGxiYWNrIHNlbXByZSBxdWUgYSBwcm9wcmllZGFkZSBkbyBvYmpldG8gZm9yIGFsdGVyYWRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIE9iamV0byBiYXNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IC0gTm9tZSBkYSBwcm9wcmllZGFkZSBhIHNlciBtb25pdG9yYWRhXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayBleGVjdXRhZG8gc2VtcHJlIGEgYSBwcm9wcmllZGFkZSDDqSBhbHRlcmFkYVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXAgPSB0cnVlXSBkZWVwIC0gRGVmaW5lIHNlIGFzIHByb3ByaWVkYWRlcyBhY2ltYSB0YW1iZW0gc2Vyw6NvIG9ic2VydmFkYXNcbiAgICAgKi9cbiAgICBzdGF0aWMgb24gPSBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eSwgY2FsbGJhY2ssIGRlZXAgPSB0cnVlKSB7XG4gICAgICAgIGxldCBjdXJyZW50VmFsdWUgPSBQaU9iamVjdC5leHRyYWN0VmFsdWUob2JqLCBwcm9wZXJ0eSk7XG4gICAgICAgIGxldCBwYXRoID0gcHJvcGVydHkuc3BsaXQoJy4nKTtcblxuICAgICAgICBpZiAob2JqLl9fb25TZXRMaXN0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb2JqLl9fb25TZXRMaXN0ID0gW107XG4gICAgICAgICAgICBvYmouX19vblNldEZuID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JqLl9fb25TZXRGbltwcm9wZXJ0eV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvYmouX19vblNldEZuW3Byb3BlcnR5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZXhpc3QgPSBvYmouX19vblNldExpc3QuZmluZChwID0+IHAgPT0gcHJvcGVydHkpICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghZXhpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IF9vYmogPSBQaU9iamVjdC5leHRyYWN0UHJvcGVydHlDb250ZXh0KG9iaiwgcHJvcGVydHkpO1xuICAgICAgICAgICAgY29uc3QgX3Byb3BlcnR5ID0gUGlTdHJpbmcubGFzdChwcm9wZXJ0eSwgJy4nKTtcblxuICAgICAgICAgICAgaWYgKCEoX3Byb3BlcnR5ID09ICdsZW5ndGgnICYmIFBpVHlwZS5pc0FycmF5KF9vYmopKSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfb2JqLCBfcHJvcGVydHksIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnJGbiA9IG9iai5fX29uU2V0Rm5bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJGbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyckZuW2ldLmNiKHZhbHVlLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIG9iai5fX29uU2V0TGlzdC5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlkID0gUGlSYW5kb20udXVpZCgneHh4LXh4eCcpO1xuICAgICAgICBsZXQgaWRzID0gW2lkXTtcbiAgICAgICAgb2JqLl9fb25TZXRGbltwcm9wZXJ0eV0ucHVzaCh7XG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBjYjogY2FsbGJhY2tcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRlZXAgJiYgcGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgY29uc3QgX2lkcyA9IFBpT2JqZWN0Lm9uKG9iaiwgcGF0aC5qb2luKCcuJyksIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlkcyA9IGlkcy5jb25jYXQoX2lkcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaWRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBvZmYgPSBmdW5jdGlvbiAob2JqLCBpZHMpIHtcbiAgICAgICAgaWYgKG9iai5fX29uU2V0Rm4gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIG9iai5fX29uU2V0Rm4pIHtcbiAgICAgICAgICAgIGNvbnN0IGFyciA9IG9iai5fX29uU2V0Rm5bcHJvcGVydHldO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gYXJyW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpZHMuZmluZChlID0+IGUgPT0gaXRlbS5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhaSBvIHZhbG9yIGRlIHVtYSBwcm9wcmllZGFkZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBvYmpldG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgLSBwYXRoIGRhIHByb3ByaWVkYWRlXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXh0cmFjdFZhbHVlID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHkpIHtcbiAgICAgICAgY29uc3QgcCA9IHByb3BlcnR5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqW3BbaV1dXG4gICAgICAgICAgICAgICAgaWYgKG9iaiA9PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtwcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHJpYnVpIHVtIHZhbG9yIGEgdW1hIHByb3ByaWVkYWRlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiAtIG9iamV0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIHBhdGggZGEgcHJvcHJpZGFkZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIHZhbG9yIGEgc2VyIGluc2VyaWRvIG5hIHByb3ByaWVkYWRlXG4gICAgICovXG4gICAgc3RhdGljIHNldFByb3BlcnR5ID0gZnVuY3Rpb24gKG9iaiwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHAgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuXG4gICAgICAgIGlmIChwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQcm9wZXJ0eSA9IHBbcC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmogPSBvYmpbcFtpXV1cbiAgICAgICAgICAgICAgICBpZiAob2JqID09IHVuZGVmaW5lZCkgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9ialtsYXN0UHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmpbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB0b2RhcyBhcyBwcm9wcmllZGFkZXMgZSBtZXRvZG9zIGRlIHRvZG9zIG9zIHBhcmFtZXRyb3Mgbm8gcHJpbWVpcm9cbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIFBpT2JqZWN0LmV4dGVuZFxuICAgICAqIEBwYXJhbSB7YXJndW1lbnRzfSBhcmdcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4dGVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBvYmogPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCB2IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVt2XSA9IG9ialt2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgfVxufTsiLCJpbXBvcnQgUGlDbGFzcyBmcm9tICcuL2NsYXNzJ1xuaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICcuL2Vudic7XG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpUHJvbWlzZSBleHRlbmRzIFBpQ2xhc3Mge1xuICAgICNpc09uY2UgPSBmYWxzZTtcbiAgICAjcHJvbWlzZSA9IHRoaXMubmV3UHJvbWlzZSgpO1xuXG4gICAgaW5zdGFuY2VzKCkge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXNwZXJhIGF0w6kgcXVlIHRvZGFzIGFzIHByb21pc2VzIGluZm9ybWFkYXMgcG9yIHBhcmFtZXRyb1xuICAgICAqIHNlamFtIHJlc29sdmlkYXMuIENoYW1hIG8gY2FsbGJhY2sgZGUgb2sgY2FzbyBoYWphIHN1Y2Vzc29cbiAgICAgKiBlbSB0b2RvcyBvcyByZXRvcm5vcy4gQ2FzbyBoYWphIHVtIGVycm8gcmV0b3JuYSBvIGNhbGxiYWNrIGRlIGVycm9yXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgd2FpdChwcm9taXNlcyA9IG51bGwpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgUGlQcm9taXNlKCk7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHZhciBzdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgdmFyIGFyciA9IHByb21pc2VzIHx8IGFyZ3VtZW50cztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJyW2ldLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA/IHByb21pc2UucmVzb2x2ZSgpIDogcHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtYSBwcm9taXNlIG5hdGl2YSBhc3NvY2lhZGEgYSBpbnN0YW5jaWFcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlXG4gICAgICovXG4gICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBwcm9taXNlIG5hdGl2YSBhc3NvY2lhZGEgYSBpbnN0YW5jaWFcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyBQcm9taXNlXG4gICAgICovXG4gICAgbmV3UHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2socmVzb2x2ZSk7XG4gICAgICAgICAgICB0aGlzLmVycm9yKHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYSBwcm9taXNlXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICByZXNvbHZlKCkge1xuICAgICAgICB0aGlzLl9hcmdPayA9IGFyZ3VtZW50cztcblxuICAgICAgICB0aGlzLl9jYWxsT2soKTtcbiAgICAgICAgdGhpcy5fY2FsbE9uY2UoKTtcbiAgICAgICAgdGhpcy5fY2FsbERvbmUoKTtcblxuICAgICAgICBpZiAodGhpcy4jaXNPbmNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogVmluY3VsYSB1bWEgcHJvbWlzZSDDoCBwcm9taXNlIGF0dWFsXG4gICAgICogXG4gICAgICogQHJldHVybnMge1BpUHJvbWlzZX1cbiAgICAgKi9cbiAgICBsaW5rKHByb21pc2UpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgcHJvbWlzZS5vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlc29sdmUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJvbWlzZS5lcnJvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLnJlamVjdC5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWplaXRhIGEgcHJvbWlzZVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgcmVqZWN0KCkge1xuICAgICAgICB0aGlzLl9hcmdFcnIgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdGhpcy5fY2FsbEVycigpO1xuICAgICAgICB0aGlzLl9jYWxsRG9uZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLiNpc09uY2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGNhbGxiYWNrIGRpc3BhcmFkbyBxdWFuZG8gYSBwcm9taXNlIGZvciByZXNvbHZpZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIG9rKGNiLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NiT2sucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNPaykge1xuICAgICAgICAgICAgdGhpcy5fY2FsbE9rKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyBwYXJhIG3DqXRvZG8gb2tcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIHRoZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9rLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIGFwZW5hcyB1bWEgdmV6IHF1YW5kbyBhIHByb21pc2UgZm9yIHJlc29sdmlkYVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgb25jZShjYiwgY29udGV4dCkge1xuICAgICAgICB0aGlzLl9jYk9uY2UucHVzaCh7IGNiOiBjYiwgY29udGV4dDogY29udGV4dCB9KTtcblxuICAgICAgICBpZiAodGhpcy5faXNPaykge1xuICAgICAgICAgICAgdGhpcy5fY2FsbE9uY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGNhbGxiYWNrIGRpc3BhcmFkbyBxdWFuZG8gYSBwcm9taXNlIGZvciByZWplaXRhZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGVycm9yKGNiLCBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX2NiRXJyLnB1c2goeyBjYjogY2IsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzRXJyKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWxsRXJyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKioqXG4gICAgICogQWxpYXMgcGFyYSBtw6l0b2RvIGVycm9yXG4gICAgICovXG4gICAgY2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgY2FsbGJhY2sgZGlzcGFyYWRvIHNlbXByZSBxdWUgYSBwcm9taXNlIMOpIHJlc29sdmlkYSBvdSByZWplaXRhZGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIENhbGxiYWNrXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBPYmpldG8gZGUgY29udGV4dG9cbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGRvbmUoY2IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5fY2JEb25lLnB1c2goeyBjYjogY2IsIGNvbnRleHQ6IGNvbnRleHQgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzRG9uZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FsbERvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsaWFzIHBhcmEgbcOpdG9kbyBkb25lXG4gICAgICovXG4gICAgZmluYWxseSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpbXBhIHRvZG9zIG9zIGNhbGxiYWNrc1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVByb21pc2V9XG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2NiT2sgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JFcnIgPSBbXTtcbiAgICAgICAgdGhpcy5fY2JEb25lID0gW107XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRhIHRvZG9zIG9zIHZhbG9yZXNcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7UGlQcm9taXNlfVxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9jYk9rID0gW107XG4gICAgICAgIHRoaXMuX2NiRXJyID0gW107XG4gICAgICAgIHRoaXMuX2NiRG9uZSA9IFtdO1xuICAgICAgICB0aGlzLl9jYk9uY2UgPSBbXTtcblxuICAgICAgICB0aGlzLl9pc09rID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRXJyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2FyZ09rID0gW107XG4gICAgICAgIHRoaXMuX2FyZ0VyciA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRvUHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2U7XG4gICAgfVxuXG4gICAgX2NhbGwoYXJyLCBhcmdzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGFycltpXS5jYi5hcHBseShhcnJbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2FsbE9uY2UoKSB7XG4gICAgICAgIHRoaXMuX2lzT2sgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYWxsKHRoaXMuX2NiT25jZSwgdGhpcy5fYXJnT2spO1xuICAgICAgICB0aGlzLl9jYk9uY2UgPSBbXTtcbiAgICB9XG5cbiAgICBfY2FsbE9rKCkge1xuICAgICAgICB0aGlzLl9pc09rID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FsbCh0aGlzLl9jYk9rLCB0aGlzLl9hcmdPayk7XG4gICAgfVxuXG4gICAgX2NhbGxFcnIoKSB7XG4gICAgICAgIHRoaXMuX2lzRXJyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY2FsbCh0aGlzLl9jYkVyciwgdGhpcy5fYXJnRXJyKTtcbiAgICB9XG5cbiAgICBfY2FsbERvbmUoKSB7XG4gICAgICAgIHRoaXMuX2lzRG9uZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2NhbGwodGhpcy5fY2JEb25lLCBbXSk7XG4gICAgfVxufTtcblxucmVnaXN0ZXIoUGlQcm9taXNlKTsiLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gXCIuL2VudlwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVJhbmRvbSB7XG4gICAgc3RhdGljICNzZWVkID0gMDtcbiAgICAvKipcbiAgICAgKiBHZXJhIHVtIG7Dum1lcm8gYWxlYXTDs3Jpb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIFBpUmFuZG9tLnJhbmdlKDAsIE51bWJlci5NQVhfVkFMVUUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlcmEgdW0gbsO6bWVybyBhbGVhdMOzcmlvIGVudHJlIHttaW59IGUge21heH1cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gX21pbiAtIFZhbG9yIG3DrW5pbW9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gX21heCAtIFZhbG9yIG3DoXhpbW9cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgICAqL1xuICAgIHN0YXRpYyByYW5nZShfbWluLCBfbWF4KSB7XG4gICAgICAgIF9taW4gPSBfbWluIHx8IDA7XG4gICAgICAgIF9tYXggPSBfbWF4IHx8IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAgICAgbGV0IHJhbmRvbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxICsgX21heCAtIF9taW4pKSArIF9taW47XG5cbiAgICAgICAgaWYgKHJhbmRvbSA+IF9tYXgpIHJldHVybiBfbWF4O1xuICAgICAgICBlbHNlIHJldHVybiByYW5kb207XG4gICAgfVxuXG4gICAgc3RhdGljIHV1aWQoZm9ybWF0KSB7XG4gICAgICAgIGxldCBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGxldCB1dWlkID0gKGZvcm1hdCB8fCAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4JykucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgbGV0IHIgPSAoZCArIE1hdGgucmFuZG9tKCkgKiAxNikgJSAxNiB8IDA7XG4gICAgICAgICAgICBkID0gTWF0aC5mbG9vcihkIC8gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChjID09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHV1aWQgKyAoUGlSYW5kb20uI3NlZWQrKyk7XG4gICAgfVxuXG59O1xuXG5yZWdpc3RlcihQaVJhbmRvbSk7IiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBQaUNsYXNzIGZyb20gJy4vY2xhc3MnO1xuaW1wb3J0IFBpVXJsIGZyb20gJy4vdXJsJztcblxuY2xhc3MgQ2hhaW5SZXF1ZXN0SXRlbSB7XG4gICAgbmV4dCA9IG51bGw7XG4gICAgI2ZuID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgICAgIHRoaXMuI2ZuID0gZm47XG4gICAgfVxuXG4gICAgaW52b2tlKCkge1xuICAgICAgICB0aGlzLiNmbi5jYWxsKHRoaXMuI2ZuLCAuLi5hcmd1bWVudHMsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5pbnZva2UoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBDaGFpblJlcXVlc3Qge1xuICAgICNyZXF1ZXN0cyA9IFtdO1xuXG4gICAgZmlyc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLiNyZXF1ZXN0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy4jcmVxdWVzdHNbMF07XG4gICAgfVxuXG4gICAgbGFzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuI3JlcXVlc3RzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiNyZXF1ZXN0c1t0aGlzLiNyZXF1ZXN0cy5sZW5ndGggLSAxXTtcbiAgICB9XG5cbiAgICBhZGQoZm4pIHtcbiAgICAgICAgaWYgKGZuID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMubGFzdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gbmV3IENoYWluUmVxdWVzdEl0ZW0oZm4pO1xuICAgICAgICBpZiAobGFzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBsYXN0Lm5leHQgPSBjdXJyZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jcmVxdWVzdHMucHVzaChjdXJyZW50KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpbnZva2UoKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5maXJzdCgpO1xuICAgICAgICBpZiAoZmlyc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBmaXJzdC5pbnZva2UuYXBwbHkoZmlyc3QsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpUmVxdWVzdCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgICNzZW5kaW5nID0gZmFsc2U7XG4gICAgI3hociA9IG51bGw7XG4gICAgI2NoYWluUmVxdWVzdCA9IG5ldyBDaGFpblJlcXVlc3QoKTtcbiAgICAjbWV0aG9kID0gJ1BPU1QnO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy4jY2hhaW5SZXF1ZXN0XG4gICAgICAgICAgICAuYWRkKFBpQ29uZmlnLmdldCgncmVxdWVzdC5mZXRjaCcpKVxuICAgICAgICAgICAgLmFkZCgodXJsLCBzZXR0aW5ncywgc3VjY2VzcywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaCh1cmwsIHNldHRpbmdzKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2VuZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS50ZXh0KCkudGhlbigodGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHRleHQsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnRleHQoKS50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKHRleHQsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI3hociA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5tZXNzYWdlID09ICdGYWlsZWQgdG8gZmV0Y2gnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoYHsgXCJtZXNzYWdlXCI6IFwiJHtlLm1lc3NhZ2V9XCIsIFwic3RhdHVzXCI6IFwiZXJyb3JcIiB9YCwgNTAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoYHsgXCJtZXNzYWdlXCI6IFwib2ZmbGluZVwiLCBcInN0YXR1c1wiOiBcImVycm9yXCIgfWAsIDUwMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYWRkSGFuZGxlcihmbikge1xuICAgICAgICB0aGlzLiNjaGFpblJlcXVlc3QuYWRkKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydGEgbyByZXF1ZXN0IGNhc28gYSBzb2xpY2l0YcOnw6NvIHRlbmhhIHNpZG8gZW52aWFkYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVJlcXVlc3R9XG4gICAgICovXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiN4aHIpIHtcbiAgICAgICAgICAgIHRoaXMuI3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy4jeGhyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuI3NlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgc2UgYSByZXF1ZXN0IGVzdGEgc2VuZG8gZW52aWFkYVxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzU2VuZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRpbmc7XG4gICAgfVxuXG4gICAgc2V0TWV0aG9kKG1ldGhvZCkge1xuICAgICAgICB0aGlzLiNtZXRob2QgPSBtZXRob2Q7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHJlcXVlc3QgZG8gdGlwbyBHRVRcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVXJsIGRhIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gUXVlcnkgc3RyaW5nIGNvbW8gb2JqZXRvXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgZ2V0KHVybCwgb2JqLCBjb25maWcgPSAoeGhyKSA9PiB7IHJldHVybiB4aHI7IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBxcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAob2JqICE9IHVuZGVmaW5lZCkgcXMgPSAnPycgKyB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0R2V0KHVybCArIHFzLCAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LCAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sIGNvbmZpZyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudmlhIHVtYSBzb2xpY2l0YcOnw6NvIGRvIHRpcG8gR0VUIGUgZmF6IG8gcGFyc2UgSlNPTiBkYSByZXNwb3N0YVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBRdWVyeSBzdHJpbmcgY29tbyBvYmpldG9cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBnZXRKc29uKHVybCwgb2JqLCBjb25maWcgPSAoeGhyKSA9PiB7IHJldHVybiB4aHI7IH0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBxcyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAob2JqICE9IHVuZGVmaW5lZCkgcXMgPSAnPycgKyB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0R2V0KHVybCArIHFzLFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jZXhpc3RQcm90b2NvbChqc29uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24uc3RhdHVzID09ICdvaycpIHJlc29sdmUoanNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJlamVjdChqc29uLm1lc3NhZ2UsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7fSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChqc29uLm1lc3NhZ2UsIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24sIHN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgY29uZmlnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgdW1hIHNvbGljaXRhw6fDo28gZG8gdGlwbyBQT1NULlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzZXRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZXRvIGEgc2VyIGVudmlhZG8gbm8gZm9ybWF0byB2YWx1ZT1rZXlcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBwb3N0KHVybCwgb2JqLCBjb25maWcgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgZm9ybURhdGEgPSB0aGlzLiNjb252ZXJ0T2JqZWN0VG9Gb3JtRGF0YShvYmopO1xuXG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0UG9zdCh1cmwsIGVuY29kZVVSSShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh0ZXh0LCBzdGF0dXNDb2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW52aWEgcGFyYSBhIHVybCBpbmZvcm1hZGEgYXJyYXkgZGUgRmlsZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVcmwgZGEgcmVxdWVzdCBlIGZheiBvIHBhcnNlIEpTT04gZGEgcmVzcG9zdGFcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBmaWxlcyAtIEFycmF5IEZpbGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAgICAgKi9cbiAgICBzZW5kRmlsZXModXJsLCBmaWxlcywgY29uZmlnID0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYGZpbGUke2l9YCwgZmlsZXNbaV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdFBvc3QodXJsLCBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ29rJykgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHt9LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnZXJyb3InKSByZWplY3QoanNvbi5tZXNzYWdlLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChqc29uLCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKHhocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudmlhIHVtYSBzb2xpY2l0YcOnw6NvIGRvIHRpcG8gUE9TVCBlIGZheiBvIHBhcnNlIEpTT04gZGEgcmVzcG9zdGFcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVXJsIGRhIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIC0gT2JqZXRvIGEgc2VyIGVudmlhZG8gbm8gZm9ybWF0byBqc29uXG4gICAgICogQHJldHVybnMge1Byb21pc2V9XG4gICAgICovXG4gICAgcG9zdEpzb24odXJsLCBvYmosIGNvbmZpZyA9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3JlcXVlc3RQb3N0KHVybCwgSlNPTi5zdHJpbmdpZnkob2JqKSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNleGlzdFByb3RvY29sKGpzb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT0gJ29rJykgcmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHt9LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuI2V4aXN0UHJvdG9jb2woanNvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uLnN0YXR1cyA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGpzb24ubWVzc2FnZSwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoanNvbiwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLmhlYWRlcnMuYXBwZW5kKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICNyZXF1ZXN0R2V0KHVybCwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICB0aGlzLiNtZXRob2QgPSAnR0VUJztcbiAgICAgICAgdGhpcy4jY3JlYXRlUmVxdWVzdCh1cmwsXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvcih0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgeGhyLm1ldGhvZCA9IHRoaXMuI21ldGhvZDtcbiAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWcoeGhyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAjcmVxdWVzdFBvc3QodXJsLCBmb3JtRGF0YSwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICAvLyBsZXQgYXV0aCA9IFBpLmdldENvbmZpZygncmVxdWVzdC5BdXRob3JpemF0aW9uJyk7XG5cbiAgICAgICAgdGhpcy4jY3JlYXRlUmVxdWVzdCh1cmwsXG4gICAgICAgICAgICAodGV4dCwgc3RhdHVzQ29kZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3ModGV4dCwgc3RhdHVzQ29kZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKHRleHQsIHN0YXR1c0NvZGUpID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvcih0ZXh0LCBzdGF0dXNDb2RlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoeGhyKSA9PiB7XG4gICAgICAgICAgICAgICAgeGhyLm1ldGhvZCA9IHRoaXMuI21ldGhvZDtcbiAgICAgICAgICAgICAgICB4aHIuaGVhZGVycy5hcHBlbmQoJ1gtUmVxdWVzdGVkLVdpdGgnLCAnWE1MSHR0cFJlcXVlc3QnKTtcbiAgICAgICAgICAgICAgICB4aHIuYm9keSA9IGZvcm1EYXRhO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyh4aHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgICNjcmVhdGVSZXF1ZXN0KHVybCwgc3VjY2VzcywgZXJyb3IsIGNvbmZpZykge1xuICAgICAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyk7XG5cbiAgICAgICAgdGhpcy4jeGhyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBjb25maWcoe1xuICAgICAgICAgICAgc2lnbmFsOiB0aGlzLiN4aHIuc2lnbmFsLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgX3VybCA9IHVybCBpbnN0YW5jZW9mIFBpVXJsID8gdXJsIDogUGlVcmwuY3JlYXRlKHVybCk7XG5cbiAgICAgICAgdGhpcy4jc2VuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuI2NoYWluUmVxdWVzdC5pbnZva2UoX3VybCwgc2V0dGluZ3MsIHN1Y2Nlc3MsIGVycm9yKTtcbiAgICB9XG5cbiAgICAjZXhpc3RQcm90b2NvbChqc29uKSB7XG4gICAgICAgIHJldHVybiBqc29uLnN0YXR1cztcbiAgICB9XG5cbiAgICAjY29udmVydE9iamVjdFRvRm9ybURhdGEob2JqKSB7XG4gICAgICAgIGxldCBlbmNvZGVkU3RyaW5nID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW5jb2RlZFN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuY29kZWRTdHJpbmcgKz0gJyYnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbmNvZGVkU3RyaW5nICs9IHByb3AgKyAnPScgKyBvYmpbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZW5jb2RlZFN0cmluZztcbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpVXJsSGFzaCBmcm9tICcuL3VybF9oYXNoJ1xuaW1wb3J0IFBpRXhwcmVzc2lvbiBmcm9tICcuL2V4cHJlc3Npb24nXG5pbXBvcnQgUGlDYWxsYmFjayBmcm9tICcuL2NhbGxiYWNrJztcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlSb3V0ZSBleHRlbmRzIFBpVXJsSGFzaCB7XG4gICAgI3JvdXRlcyA9IFtdO1xuICAgICNob29rcyA9IG5ldyBQaUNhbGxiYWNrKCk7XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBhcnJheSBkZSBjYWxsYmFjayBwYXJhIHJvdGFzXG4gICAgICogXG4gICAgICogQHBhcmFtIHthcnJheX0gcm91dGVzIC0gQXJyYXkgZGUgY2FsbGJhY2tzIHBhcmEgYXMgcm90YXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3R4IC0gQ29udGV4dG8gZG9zIGNhbGxiYWNrc1xuICAgICAqL1xuICAgIGFkZChyb3V0ZXMsIGN0eCkge1xuICAgICAgICB0aGlzLiNyb3V0ZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByb3V0ZSBpbiByb3V0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuI2FkZFJvdXRlKHJvdXRlLCByb3V0ZXNbcm91dGVdLCBjdHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgb25Ob3RGb3VuZChmbil7XG4gICAgICAgIHRoaXMuI2hvb2tzLmFkZCgnbm90Zm91bmQnLCBmbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHVtYSBmdW7Dp8OjbyBkZSByb3RhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcm91dGUgLSBGdW7Dp8OjbyBkZSByb3RhXG4gICAgICogQHJldHVybnMge1BpUm91dGV9XG4gICAgICovXG4gICAgcmVtb3ZlKHJvdXRlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLiNyb3V0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNyb3V0ZXNbaV0ubmFtZSA9IHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcm91dGVzW2ldLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBoYXNoRGlkQ2hhbmdlKGhhc2gpIHtcbiAgICAgICAgdmFyIGhhc2ggPSB0aGlzLiNyZW1vdmVRdWVyeVN0cmluZyhoYXNoKTtcbiAgICAgICAgdmFyIGlzUm91dGVGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jcm91dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcm91dGUgPSB0aGlzLiNyb3V0ZXNbaV0sXG4gICAgICAgICAgICAgICAgZXhwID0gbmV3IFBpRXhwcmVzc2lvbihyb3V0ZS5wYXR0ZXJuKSxcbiAgICAgICAgICAgICAgICByZWdleCA9IG5ldyBSZWdFeHAoZXhwLnBhcnNlKHt9KSwgJ21naScpLFxuICAgICAgICAgICAgICAgIG1hdGNocyA9IGhhc2gubWF0Y2gocmVnZXgpO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2hzID09IG51bGwpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQgcGF0Y2hzID0gcm91dGUubmFtZS5zcGxpdCgnLycpLFxuICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBbXSxcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBwYXRjaHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0Y2hzW2pdWzBdID09ICc6Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZXMucHVzaChqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhdGNocyA9IGhhc2guc3BsaXQoJy8nKTtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdmFyaWFibGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1ldGVycy5wdXNoKHBhdGNoc1t2YXJpYWJsZXNbal1dKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcm91dGUuY2IuYXBwbHkocm91dGUuY3R4LCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgIGlzUm91dGVGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNSb3V0ZUZvdW5kKSB7XG4gICAgICAgICAgICB0aGlzLiNob29rcy50cmlnZ2VyKCdub3Rmb3VuZCcsIGhhc2gpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgI2FkZFJvdXRlKHJvdXRlLCBjYWxsYmFjaywgY3R4KSB7XG4gICAgICAgIHRoaXMuI3JvdXRlcy5wdXNoKHsgbmFtZTogcm91dGUsIGNiOiBjYWxsYmFjaywgY3R4OiBjdHgsIHBhdHRlcm46IHJvdXRlLnJlcGxhY2UoL1xcOihcXHcqKS9naSwgXCIoW14mLyM/XSopXCIpIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgICNyZW1vdmVRdWVyeVN0cmluZyhoYXNoKSB7XG4gICAgICAgIGxldCBwID0gaGFzaC5zcGxpdCgnPycpO1xuICAgICAgICByZXR1cm4gcFswXTtcbiAgICB9XG5cbn07IiwiaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcyc7XG5pbXBvcnQgeyBhcHAgfSBmcm9tICcuL2Vudic7XG5pbXBvcnQgUGlSb3V0ZSBmcm9tICcuL3JvdXRlJztcbmltcG9ydCBQaVVybEhhc2ggZnJvbSAnLi91cmxfaGFzaCdcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlTZXJ2aWNlIGV4dGVuZHMgUGlDbGFzcyB7XG4gICAgI3JvdXRlID0gbmV3IFBpUm91dGUoKTtcblxuICAgIGluaXQocm91dGVzID0gW10pIHtcbiAgICAgICAgdGhpcy5yb3V0ZXMgPSByb3V0ZXM7XG4gICAgfVxuXG4gICAgYWRkUm91dGUobmFtZSwgZm4pe1xuICAgICAgICBpZiAodGhpcy5yb3V0ZXMgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucm91dGVzW25hbWVdID0gZm4uYmluZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBvblJvdXRlTm90Rm91bmQoZm4pe1xuICAgICAgICB0aGlzLiNyb3V0ZS5vbk5vdEZvdW5kKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy4jcm91dGUuYWRkKHRoaXMucm91dGVzLCB0aGlzKTtcbiAgICAgICAgdGhpcy4jcm91dGUuaGFzaERpZENoYW5nZShQaVVybEhhc2guZ2V0KCkpO1xuICAgICAgICB0aGlzLiNyb3V0ZS5saXN0ZW4oKTtcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLiNyb3V0ZS51bmxpc3RlbigpO1xuICAgIH1cblxuICAgIGdldCBpc1JvdXRlRm91bmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNyb3V0ZS5pc1JvdXRlRm91bmQ7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlZ2lzdGVyKHNlcnZpY2UpIHtcbiAgICAgICAgYXBwKCkucmVnaXN0ZXIoc2VydmljZSk7XG4gICAgfVxufSIsIi8qKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpU3RhdGVtZW50IHtcblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgdW1hIHN0YXRlbWVudCBpbmljaWFuZG8gZW0gdW0gY29udGV4dG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RhdGVtZW50IC0gU3RhdGVtZW50IHF1ZSBzZXLDoSBleGVjdXRhZGEgZGVudHJvIGRvIGNvbnRleHRvXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgLSBDb250ZXh0byBkZSBleGVjdcOnw6NvXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZXhlYyhzdGF0ZW1lbnQsIGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIFBpU3RhdGVtZW50LmV4ZWNXaXRoVmFyaWFibGVzKHN0YXRlbWVudCwgW1tdLCBbXV0sIGNvbnRleHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGEgdW1hIHN0YXRlbWVudCBkZW50cm8gZGUgdW0gY29udGV4dG8gY29tIHZhcmlhdsOpaXMgZGUgZXNjb3BvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0YXRlbWVudCAtIFN0YXRlbWVudFxuICAgICAqIEBwYXJhbSB7YXJyYXl9IHZhcmlhYmxlcyAtIEFycmF5IGNvbSBvcyBub21lcyBlIHZhbG9yZXMgZGFzIHZhcmnDoXZlaXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCAtIE9iamV0byBkZSBjb250ZXh0b1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGV4ZWNXaXRoVmFyaWFibGVzKHN0YXRlbWVudCwgdmFyaWFibGVzLCBjb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlTmFtZXMgPSB2YXJpYWJsZXNbMF07XG4gICAgICAgIGNvbnN0IHZhcmlhYmxlVmFsdWVzID0gdmFyaWFibGVzWzFdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFyaWFibGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGVOYW1lID0gdmFyaWFibGVOYW1lc1tpXTtcbiAgICAgICAgICAgIGlmICh2YXJpYWJsZU5hbWUgPT0gJ3RoaXMnKSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGVOYW1lcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXJpYWJsZU5hbWVzW2ldID0gdmFyaWFibGVOYW1lc1tpXS5yZXBsYWNlQWxsKCcuJywgJycpO1xuICAgICAgICAgICAgc3RhdGVtZW50ID0gc3RhdGVtZW50LnJlcGxhY2VBbGwodmFyaWFibGVOYW1lLCB2YXJpYWJsZU5hbWVzW2ldKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnVuYyA9IG5ldyBGdW5jdGlvbignX3RoaXMnLCAuLi52YXJpYWJsZU5hbWVzLCBgcmV0dXJuIChmdW5jdGlvbigpe3JldHVybiAke3N0YXRlbWVudH19KS5jYWxsKF90aGlzKTtgKTtcbiAgICAgICAgcmV0dXJuIGZ1bmMoY29udGV4dCwgLi4udmFyaWFibGVWYWx1ZXMpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IFBpVHlwZSBmcm9tIFwiLi90eXBlXCI7XG4vKipcbiAqIEBjbGFzcyBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlTdHJpbmcge1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRlIHRvZGFzIGFzIHBhbGF2cmFzIGRhIHN0cmluZyBwYXJhIGNhcGl0YWwuIEFzIHBhbGF2cmFzIHBvZGVtIGVzdGFyIHNlcGVyYWRhcyBwb3IgZXNwYcOnbyBvdSBfIG91IC1cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gc3RyaW5nIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgY2FwaXRhbChzdHIpIHtcbiAgICAgICAgaWYgKCFQaVR5cGUuaXNTdHJpbmcoc3RyKSkgcmV0dXJuICcnO1xuXG4gICAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGxldCBwID0gLyheW1xcc19cXC4tXSpcXHd8W1xcc1xcLl8tXVxcdykrL2dpLFxuICAgICAgICAgICAgbSA9IHN0ci5tYXRjaChwKTtcblxuICAgICAgICBmb3IgKGxldCB2IGluIG0pIHtcbiAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1bdl0sIG1bdl0udG9VcHBlckNhc2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIMO6bHRpbWEgcGFsYXZyYSBzZXBhcmFkYSBwb3IgY2FyYWN0ZXJcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlcGFyYXRvciAtIFNlcGFyYWRvciBkZSBwYWxhdnJhc1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGxhc3Qoc3RyLCBzZXBhcmF0b3IgPSAnICcpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gc3RyLnNwbGl0KHNlcGFyYXRvcik7XG5cbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b2tlbnNbdG9rZW5zLmxlbmd0aCAtIDFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgYSBwcmltZWlyYSBwYWxhdnJhIHNlcGFyYWRhIHBvciBjYXJhY3RlclxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VwYXJhdG9yIC0gU2VwYXJhZG9yIGRlIHBhbGF2cmFzXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZmlyc3Qoc3RyLCBzZXBhcmF0b3IgPSAnICcpIHtcbiAgICAgICAgY29uc3QgdG9rZW5zID0gc3RyLnNwbGl0KHNlcGFyYXRvcik7XG5cbiAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b2tlbnNbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB1bWEgc3RyaW5nIGZvcm1hdGFkYSBzZWd1bmRvIG9zIG1hcmNhZG9yZXMgZGUgdGV4dG9cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmlufSBmb3JtYXQgLSBTdHJpbmcgY29tIG1hcmNhZG9yZXMgZGUgdGV4dG9cbiAgICAgKiBAcGFyYW0gIHsuLi5hbnl9IGFyZ3MgLSBMaXN0YSBkZSB2YWxvZXJzIHBhcmEgb3MgbWFyY2Fkb3JlcyBkZSB0ZXh0b1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGZvcm1hdChmb3JtYXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC97KFxcZCspfS9nLCBmdW5jdGlvbiAobWF0Y2gsIG51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmdzW251bWJlcl0gIT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgICAgICA/IGFyZ3NbbnVtYmVyXVxuICAgICAgICAgICAgICAgIDogbWF0Y2hcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGYXogbyByZWNvcnRlIG5vIHRleHRvIGJhc2VhZG8gbm9zIGNhcmFjdGVyZXMgaW5mb3JtYWRvcyBub3MgcGFyYW1ldHJvcyBiZWdpbldvcmQgZSBlbmRXb3JkXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBUZXh0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBiZWdpbldvcmQgLSBQYWxhdnJhIHF1ZSBpbmljaWEgbyBjbGlwcGluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRXb3JkIC0gUGFsYXZyYSBxdWUgZmluYWxpemEgbyBjbGlwcGluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGNsaXBzKHRleHQsIGJlZ2luV29yZCwgZW5kV29yZCkge1xuICAgICAgICBsZXQgYXJyID0gW107XG4gICAgICAgIGxldCBpID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGkgPSB0ZXh0LmluZGV4T2YoYmVnaW5Xb3JkLCBpICsgMSk7XG4gICAgICAgICAgICBpZiAoaSA9PSAtMSkgYnJlYWs7XG4gICAgICAgICAgICBpICs9IGJlZ2luV29yZC5sZW5ndGg7XG5cbiAgICAgICAgICAgIGxldCBmID0gdGV4dC5pbmRleE9mKGVuZFdvcmQsIGkgKyAxKTtcbiAgICAgICAgICAgIGlmIChmID09IC0xKSBicmVhaztcblxuICAgICAgICAgICAgYXJyLnB1c2godGV4dC5zdWJzdHIoaSwgZiAtIGkpKTtcbiAgICAgICAgICAgIGkgPSBmICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIG8gb2JqZXRvIGV2ZW50IGZvcm5lY2lkbyBjb250w6ltIGFwZW5hcyBjYXJhY3RlcmVzIGFscGhhbnVtw6lyaWNvc1xuICAgICAqIFxuICAgICAqIEBtZXRob2QgaXNBbHBoYU51bWVyaWNcbiAgICAgKiBAcGFyYW0ge2V2ZW50fSBlIFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzQWxwaGFOdW1lcmljKGUpIHtcbiAgICAgICAgbGV0IGNoYXJDb2RlID0gKGUud2hpY2gpID8gZS53aGljaCA6IGUua2V5Q29kZTtcbiAgICAgICAgaWYgKGNoYXJDb2RlID09IDgpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGxldCBrZXludW07XG4gICAgICAgIGxldCBrZXljaGFyO1xuICAgICAgICBsZXQgY2hhcmNoZWNrID0gL1thLXpBLVowLTldLztcbiAgICAgICAgaWYgKHdpbmRvdy5ldmVudCkgLy8gSUVcbiAgICAgICAge1xuICAgICAgICAgICAga2V5bnVtID0gZS5rZXlDb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGUud2hpY2gpIC8vIE5ldHNjYXBlL0ZpcmVmb3gvT3BlcmFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBrZXludW0gPSBlLndoaWNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGtleWNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleW51bSk7XG4gICAgICAgIHJldHVybiBjaGFyY2hlY2sudGVzdChrZXljaGFyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB0b2RvcyBvcyBlc3Bhw6dvcyBwYXJhIGPDs2RpZ28gaHRtbCAmbmJzcDtcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIHNwYWNlMm5ic3BcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgc3BhY2UybmJzcChzdHIpIHtcbiAgICAgICAgaWYgKHN0ciA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvXFxzL2dpLCAnJm5ic3A7JykucmVwbGFjZSgvXFwtL2dpLCAnJm5ic3A7LSZuYnNwOycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB0csOqcyBwb250b3MgYW8gZmluYWwgZGEgc3RyaW5nIGRlIHNldSB0YW1hbmhvIGV4Y2VkZXIgbyBsaW1pdGUgZm9ybmVjaWRvXG4gICAgICogXG4gICAgICogQG1ldGhvZCByZXRpY2VuY2lhc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHBhcmFtIHtpbnR9IGxlbmd0aCBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHJldGljZW5jaWFzKHN0ciwgbGVuZ3RoKSB7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID4gbGVuZ3RoKSByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBsZW5ndGgpICsgJy4uLic7XG4gICAgICAgIGVsc2UgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgO1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0b2RvcyBvcyBlc3Bhw6dvcyBkYSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIHJlbW92ZVNwYWNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZVNwYWNlKHN0cikge1xuICAgICAgICByZXR1cm4gKHN0ciB8fCAnJykucmVwbGFjZSgvXFxzKi9naSwgJycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIGEgcHJpbWVpcmEgcGFsYXZyYSBkYSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGZpcnRXb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGZpcnN0V29yZChzdHIpIHtcbiAgICAgICAgaWYgKFBpVHlwZS5pc1N0cmluZyhzdHIpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnNwbGl0KCcgJylbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIMO6bHRpbWEgcGFsYXZyYSBkYSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGxhc3RXb3JkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGxhc3RXb3JkKHN0cikge1xuICAgICAgICBpZiAoUGlUeXBlLmlzU3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgIGxldCBwID0gc3RyLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICByZXR1cm4gcFtwLmxlbmd0aCAtIDFdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHByaW1laXJhIGUgw7psdGltYSBwYWxhdnJhcyBkYSBzdHJpbmdcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGZpcnN0QW5kbGFzdFdvcmRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZmlyc3RBbmRsYXN0V29yZChzdHIpIHtcbiAgICAgICAgbGV0IHAgPSBzdHIuc3BsaXQoJyAnKTtcbiAgICAgICAgbGV0IGZpcnN0ID0gJyc7XG5cbiAgICAgICAgaWYgKHAubGVuZ3RoID09IDEpIHJldHVybiBzdHI7XG5cbiAgICAgICAgZmlyc3QgPSBzdHIuc3BsaXQoJyAnKVswXTtcblxuICAgICAgICByZXR1cm4gZmlyc3QgKyAnICcgKyBwW3AubGVuZ3RoIC0gMV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRlIHRvZGFzIGFzIHBhbGF2cmFzIGRhIHN0cmluZyBwYXJhIGNhcGl0YWwuIEFzIHBhbGF2cmFzIHBvZGVtIGVzdGFyIHNlcGVyYWRhcyBwb3IgZXNwYcOnbyBvdSBfXG4gICAgICogXG4gICAgICogQG1ldGhvZCBjYXBpdGFsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGNhcGl0YWwoc3RyKSB7XG4gICAgICAgIGlmICghUGlUeXBlLmlzU3RyaW5nKHN0cikpIHJldHVybiAnJztcblxuICAgICAgICBzdHIgPSBzdHIudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICBsZXQgcCA9IC8oXltcXHNfXFwuLV0qXFx3fFtcXHNcXC5fLV1cXHcpKy9naSxcbiAgICAgICAgICAgIG0gPSBzdHIubWF0Y2gocCk7XG5cbiAgICAgICAgZm9yIChsZXQgdiBpbiBtKSB7XG4gICAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShtW3ZdLCBtW3ZdLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xuXG4gICAgc3RhdGljIHJlcGxhY2UoaW5wdXQsIHNlYXJjaCwgcmVwbGFjZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UobmV3IFJlZ0V4cChzZWFyY2gsICdnJyksIHJlcGxhY2VtZW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVkdXogdW0gbm9tZSBlbSBuIC0gMSBwYWxhdnJhcyBpbmljaWFpcyBtYWlzIGEgdWx0aW1hIHBhbGF2cmFcbiAgICAgKiBcbiAgICAgKiBAbWV0aG9kIGN1dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgXG4gICAgICogQHBhcmFtIHtpbnR9IHRvdGFsIFxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgY3V0KHN0ciwgdG90YWwpIHtcbiAgICAgICAgaWYgKCFQaVR5cGUuaXNTdHJpbmcoc3RyKSB8fCB0b3RhbCA8IDApIHJldHVybiBzdHI7XG5cbiAgICAgICAgbGV0IHAgPSBzdHIuc3BsaXQoJyAnKSxcbiAgICAgICAgICAgIGFyciA9IFtdO1xuXG4gICAgICAgIC8vYWRpY2lvbmEgYSBwcmltZWlyYSBwYWxhdnJhXG4gICAgICAgIGFyci5wdXNoKHBbMF0pO1xuXG4gICAgICAgIGlmICh0b3RhbCA+IHAubGVuZ3RoKSB0b3RhbCA9IHAubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdG90YWw7IGkrKykge1xuICAgICAgICAgICAgYXJyLnB1c2gocFtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2FkaWNpb25hIGEgdWx0aW1hIHBhbGF2cmFcbiAgICAgICAgaWYgKHAubGVuZ3RoID4gdG90YWwpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKHBbcC5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyLmpvaW4oJyAnKTtcbiAgICB9XG59O1xuXG5yZWdpc3RlcihQaVN0cmluZyk7IiwiaW1wb3J0IFBpT2JqZWN0IGZyb20gJy4vb2JqZWN0J1xuLyoqXG4gKiBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBuZXcgY2xhc3MgUGlUcmFuc2xhdGUge1xuICAgICN0YWJsZSA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHRhYmxlIC0gQ2FycmVnYSB1bWEgdGFiZWxhIGRlIHRyYWR1w6fDo28gcGFyYSBvIHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm5zIHtQaVRyYW5zbGF0ZX1cbiAgICAgKi9cbiAgICBsb2FkKHRhYmxlKSB7XG4gICAgICAgIFBpT2JqZWN0LmV4dGVuZCh0aGlzLiN0YWJsZSwgdGFibGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSB1bSB2YWxvciBwYXJhIHVtYSBjaGF2ZVxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFZhbG9yXG4gICAgICogQHJldHVybnMge1BpVHJhbnNsYXRlfVxuICAgICAqL1xuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI3RhYmxlW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIHVtIHZhbG9yIGRlIHVtYSBkYWRhIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiN0YWJsZVtrZXldIHx8ICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWNhIHNlIGV4aXN0ZSB1bWEgY2hhdmUgbmEgdGFiZWxhIGRlIHRyYWR1w6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gQ2hhdmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBleGlzdChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3RhYmxlW2tleV0gIT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwYWdhIHRvZGEgYSB0YWJlbGEgZGUgdHJhZHXDp8Ojb1xuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVRyYW5zbGF0ZX1cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy4jdGFibGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTsiLCJpbXBvcnQge2dsb2JhbH0gZnJvbSAnLi9lbnYnXG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbmFtZSBQaVRyZWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlUcmVlIHtcbiAgICAvKipcbiAgICAgKiBDcmlhIHVtYSBhcnbDs3JlIHZpcnR1YWwgb25kZSB0b2RvcyBvcyBlbGVtZW50b3Mgc2Vyw6NvIGluc3RhbmNpYXMgZGUgUGlFbGVtZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2UoaHRtbCkge1xuICAgICAgICBjb25zdCB0cmVlID0gbmV3IFBpVHJlZSgpO1xuICAgICAgICBpZiAoaHRtbCBpbnN0YW5jZW9mIEVsZW1lbnQpIGh0bWwgPSBodG1sLmlubmVySFRNTDtcblxuICAgICAgICBjb25zdCBkb2MgPSB0cmVlLl9sb2FkRG9jdW1lbnQoaHRtbCk7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0cmVlLl9sb2FkRWxlbWVudFJvb3QoZG9jKTtcblxuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG5cbiAgICBfbG9hZERvY3VtZW50KGh0bWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHdwID0gbmV3IGdsb2JhbC5ET01QYXJzZXIoKTtcbiAgICAgICAgICAgIHJldHVybiB3cC5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpOyAvL1ZhaSBmYXplciBvIHBhcnNlIGRlIHN0cmluZyBwYXJhIEVsZW1lbnRcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQaVRyZWU6IE8gaHRtbCBpbmZvcm1hZG8gZXN0YSBmb3JtYXRhZG8gaW5jb3JyZXRhbWVudGUnKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGh0bWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgX2xvYWRFbGVtZW50Um9vdChkb2MpIHtcbiAgICAgICAgaWYgKGRvYyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IC8vIFZhaSBjcmlhciB1bSBmcmFnbWVudG8gZGEgRE9NIHByaW5jaXBhbFxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmVsZW1lbnQuY2hpbGRyZW5dO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoZWxlbWVudHNbaV0pOyAvLyBWYWkgYWRpY2lvbmFsIHRvZG9zIG9zIGVsZW1lbnRvcyBkYSBET00gcHJpbmNpcGFsIHBhcmEgYSBET00gZnJhZ21lbnRhZGFcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyByZWdpc3RlciB9IGZyb20gXCIuL2VudlwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVR5cGUge1xuICAgIC8qKlxuICAgICAqIFJldHVybmEgc2UgbyBwYXJhbWV0cm8gw6kgZXhhdGFtZW50ZSAndW5kZWZpbmVkJ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzVW5kZWZpbmVkKG9iaikge1xuICAgICAgICBpZiAob2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGVsc2UgaWYgKG9iaiA9PSB1bmRlZmluZWQpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gbm9tZSBkbyBjb25zdHJ1dG9yIGRvIG9iamV0b1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgdHlwZW9mKG9iaikge1xuICAgICAgICBsZXQgdiA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9iaiAhPSB1bmRlZmluZWQgJiYgb2JqICE9IG51bGwgJiYgIVBpVHlwZS5pc051bWJlcihvYmopKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHYgPSBvYmouY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICBpZiAodiA9PSAnJykgdiA9ICdPYmplY3QnO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFBpVHlwZS5pc051bWJlcihvYmopKSB7XG4gICAgICAgICAgICByZXR1cm4gJ051bWJlcic7XG4gICAgICAgIH0gZWxzZSBpZiAob2JqID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnVW5kZWZpbmVkJ1xuICAgICAgICB9IGVsc2UgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICdOdWxsJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldG9ybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bSBuw7ptZXJvIG91IGZhbHNlIGNhc28gY29udHLDoXJpb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzTnVtYmVyKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShvYmopICYmICFpc05hTihvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgbnVsbCBvdSB1bmRlZmluZWRcbiAgICAqIFxuICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGlzTnVsbE9yVW5kZWZpbmVkKG9iaikge1xuICAgICAgICBpZiAob2JqID09IG51bGwgfHwgb2JqID09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bWEgZnVuw6fDo29cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqIFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHN0YXRpYyBpc0Z1bmN0aW9uKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtIGFycmF5XG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNBcnJheShvYmopIHtcbiAgICAgICAgaWYgKFBpVHlwZS50eXBlb2Yob2JqKSA9PSAnQXJyYXknKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBpZiAoUGlUeXBlLnR5cGVvZihvYmopID09ICdTdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoL15cXFsuKlxcXSQvZ2kudGVzdChvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSB0cnVlIHNlIG8gcGFyYW1ldHJvIMOpIHVtIE9iamVjdFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzT2JqZWN0KG9iaikge1xuICAgICAgICBpZiAoUGlUeXBlLnR5cGVvZihvYmopID09ICdPYmplY3QnKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIGlmIChQaVR5cGUudHlwZW9mKG9iaikgPT0gJ1N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICgvXlxcey4qXFx9JC9naS50ZXN0KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5hIHRydWUgc2UgbyBwYXJhbWV0cm8gw6kgdW1hIHN0cmluZ1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvYmogXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGlzU3RyaW5nKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnc3RyaW5nJykgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybmEgdHJ1ZSBzZSBvIHBhcmFtZXRybyDDqSB1bSBCb29sZWFuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iaiBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNCb29sZWFuKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnYm9vbGVhbicpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuXG5yZWdpc3RlcihQaVR5cGUpOyIsImltcG9ydCBQaUFzIGZyb20gJy4vYWxpYXMnO1xuaW1wb3J0IFBpQ2xhc3MgZnJvbSAnLi9jbGFzcyc7XG5pbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgUGlTdHJpbmcgZnJvbSAnLi9zdHJpbmcnO1xuaW1wb3J0IHsgbG9jYXRpb24sIHJlZ2lzdGVyLCBzZXRMb2NhdGlvbiB9IGZyb20gJy4vZW52J1xuXG4vKipcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaVVybCBleHRlbmRzIFBpQ2xhc3Mge1xuICAgIHN0YXRpYyBhbGlhcyA9IG5ldyBQaUFzKCk7XG5cbiAgICBpbml0KCkge1xuICAgICAgICBsZXQgYXJyID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgdXJsID0gJyc7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBhbGlhcyA9IGFycltpXTtcblxuICAgICAgICAgICAgaWYgKFBpVXJsLmFsaWFzLmV4aXN0KGFycltpXSkpIHtcbiAgICAgICAgICAgICAgICBhbGlhcyA9IFBpVXJsLmFsaWFzLmdldFZhbHVlKGFycltpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbGlhc1swXSA9PSAnLycgJiYgdXJsW3VybC5sZW5ndGggLSAxXSA9PSAnLycpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gYWxpYXMuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gYWxpYXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0VXJsKHVybCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqIEByZXR1cm5zIHtQaVVybH1cbiAgICAgKi9cbiAgICBzZXRVcmwodXJsKSB7XG4gICAgICAgIGlmIChQaVVybC5hbGlhcy5leGlzdCh1cmwpKSB7XG4gICAgICAgICAgICB1cmwgPSBQaVVybC5hbGlhcy5nZXRWYWx1ZSh1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBpVXJsLmlzVmFsaWQodXJsKSkgdGhpcy5fdXJsID0gdXJsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9idGVtIG8gc2NoZW1lIGRhIHVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc2NoZW1lKCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIGkgPSB1cmwuaW5kZXhPZignOicpO1xuXG4gICAgICAgIGlmIChpIDwgMCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gbyBob3N0IGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBob3N0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBob3N0KGhvc3QpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBoID0gdGhpcy5fcGFyc2UodXJsLCAnaG9zdCcpO1xuXG4gICAgICAgIGlmIChob3N0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsLnJlcGxhY2UoaCwgaG9zdCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gYSBwb3J0YSBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xpbnR9IHBvcnQgXG4gICAgICogQHJldHVybnMge1BpVXJsfGludH1cbiAgICAgKi9cbiAgICBwb3J0KHBvcnQpIHtcbiAgICAgICAgbGV0IHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBwID0gdGhpcy5fcGFyc2UodXJsLCAncG9ydCcpIHx8ICcnO1xuXG4gICAgICAgIGlmIChQaVR5cGUuaXNVbmRlZmluZWQocG9ydCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHB0ID0gdGhpcy5wb3J0KCkgfHwgJycsXG4gICAgICAgICAgICBocmVmID0gdGhpcy5ocmVmKCk7XG5cbiAgICAgICAgaWYgKHB0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShocmVmLCBocmVmICsgJzonICsgcG9ydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShwLCBwb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0VXJsKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIG8gaHJlZiBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gSHJlZlxuICAgICAqIEByZXR1cm5zIHtQaVVybHxzdHJpbmd9XG4gICAgICovXG4gICAgaHJlZih1cmwpIHtcbiAgICAgICAgbGV0IHUgPSB0aGlzLmhvc3QoKSxcbiAgICAgICAgICAgIGggPSB1LFxuICAgICAgICAgICAgcyA9IHRoaXMuX3BhcnNlKHRoaXMuZ2V0VXJsKCksICdzY2hlbWUnKTtcblxuICAgICAgICBpZiAodXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCBwID0gdGhpcy5wb3J0KCk7XG5cbiAgICAgICAgICAgIGlmIChwLmxlbmd0aCA9PSAwKSBwID0gJyc7XG4gICAgICAgICAgICBlbHNlIHAgPSAnOicgKyBwO1xuXG4gICAgICAgICAgICBpZiAocy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaCA9IHMgKyAnOi8vJyArIHUgKyBwO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoID0gdSArIHA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBoO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRVcmwodXJsKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgb3Ugb2J0ZW0gbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIFxuICAgICAqIEByZXR1cm5zIHtQaVVybHxzdHJpbmd9XG4gICAgICovXG4gICAgaGFzaChoYXNoKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLmdldFVybCgpLFxuICAgICAgICAgICAgaGggPSB0aGlzLl9wYXJzZSh1cmwsICdoYXNoJyk7XG5cbiAgICAgICAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhoO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICBpZiAoaGgubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFVybCh1cmwgKyAnIycgKyBoYXNoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsLnJlcGxhY2UoaGgsIGhhc2gpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmV4YSBhbyBwYXRoIGRhIHVybCBvIHBhdGggaW5mb3JtYWRvXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggXG4gICAgICogQHJldHVybnMge1BpVXJsfVxuICAgICAqL1xuICAgIGFwcGVuZFBhdGgocGF0aCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIHAgPSB0aGlzLl9wYXJzZSh1cmwsICdwYXRoJyk7XG5cbiAgICAgICAgaWYgKFBpVXJsLmFsaWFzLmV4aXN0KHBhdGgpKSB7XG4gICAgICAgICAgICBwYXRoID0gUGlVcmwuYWxpYXMuZ2V0VmFsdWUocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXJsLnN1YnN0cmluZyh1cmwubGVuZ3RoIC0gMSkgIT0gJy8nKSB1cmwgKz0gJy8nO1xuICAgICAgICB0aGlzLnNldFVybCh1cmwgKyBwYXRoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIG8gcGF0aCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx8c3RyaW5nfVxuICAgICAqL1xuICAgIHBhdGgocGF0aCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIHAgPSB0aGlzLl9wYXJzZSh1cmwsICdwYXRoJyksXG4gICAgICAgICAgICBwcCA9ICcvJyArIHA7XG5cbiAgICAgICAgaWYgKHBhdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBpVXJsLmFsaWFzLmV4aXN0KHBhdGgpKSB7XG4gICAgICAgICAgICBwYXRoID0gUGlVcmwuYWxpYXMuZ2V0VmFsdWUocGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgaWYgKHVybC5zdWJzdHJpbmcodXJsLmxlbmd0aCAtIDEpICE9ICcvJyAmJiBwYXRoLmNoYXJBdCgwKSAhPSAnLycpIHVybCArPSAnLycgKyBwYXRoO1xuICAgICAgICAgICAgZWxzZSB1cmwgKz0gcGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKHBwLCBwYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0VXJsKHVybCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIG91IG9idGVtIG8gZmlsZW5hbWUgZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIFxuICAgICAqIEByZXR1cm5zIHtQaVVybHxzdHJpbn1cbiAgICAgKi9cbiAgICBmaWxlbmFtZShmaWxlbmFtZSkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKTtcblxuICAgICAgICBpZiAoZmlsZW5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKC9cXFxcL2csICcvJykucmVwbGFjZSgvLipcXC8vLCAnJykucmVwbGFjZSgvXFw/LiovLCAnJykgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdSA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICAgICAgZiA9IHRoaXMuZmlsZW5hbWUoKTtcblxuICAgICAgICAgICAgdGhpcy5zZXRVcmwodS5yZXBsYWNlKGYsIGZpbGVuYW1lKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluZSBvdSBvYnRlbSBhIHF1ZXJ5IHN0cmluZyBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcXVlcnkgXG4gICAgICogQHJldHVybnMge1BpVXJsfHN0cmluZ31cbiAgICAgKi9cbiAgICBxdWVyeShxdWVyeSkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy5nZXRVcmwoKSxcbiAgICAgICAgICAgIHAgPSB0aGlzLl9wYXJzZSh1cmwsICdxdWVyeScpO1xuXG4gICAgICAgIGlmIChxdWVyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBxID0gdGhpcy5xdWVyeSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsLnJlcGxhY2UocSwgcXVlcnkpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRpY2lvbmEgdW1hIHZhbG9yIGEgcXVlcnkgc3RyaW5nXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gVmFsb3JcbiAgICAgKiBAcmV0dXJucyB7UGlVcmx9XG4gICAgICovXG4gICAgYWRkUXVlcnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgcSA9IHRoaXMucXVlcnkoKSxcbiAgICAgICAgICAgIHVybCA9IHRoaXMuZ2V0VXJsKCksXG4gICAgICAgICAgICBxcyA9IFBpU3RyaW5nLmZvcm1hdCgnezF9PXsyfScsIHVybCwga2V5LCBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcblxuICAgICAgICBpZiAocS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsICsgJz8nICsgcXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRVcmwodXJsICsgJyYnICsgcXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT2J0ZW0gdW0gdmFsb3IgZGEgcXVlcnkgc3RyaW5nIHBlbGEgc3VhIGNoYXZlXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRRdWVyeShrZXkpIHtcbiAgICAgICAgbGV0IHFzID0gdGhpcy5xdWVyeSgpLnNwbGl0KCcmJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHEgPSBxc1tpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgaWYgKHFbMF0gPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChxWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnRlbSBvIGRpcm5hbWUgZGEgdXJsXG4gICAgICogXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBkaXJuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRVcmwoKS5yZXBsYWNlKC9cXFxcL2csICcvJykucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0b3JuYSBhIHVybCBmb3JtYXRhZGFcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldFVybCgpIHtcbiAgICAgICAgLy8gdmFyIG0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgLy8gaWYgKFBpU3ViZG9tYWlucy5leGlzdChtKSkge1xuICAgICAgICAvLyAgICAgdmFyIHMgPSBQaVN1YmRvbWFpbnMubmV4dChtKTtcbiAgICAgICAgLy8gICAgIHJldHVybiBQaVN0cmluZy5mb3JtYXQodGhpcy51cmwsIHMpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybCB8fCAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhcyB0byBnZXRVcmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW59XG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVybCgpO1xuICAgIH1cblxuICAgIF9wYXJzZSh1cmwsIHBhcnRlKSB7XG4gICAgICAgIGxldCBwID0geyAndXJsJzogMCwgJ3NjaGVtZSc6IDEsICdzbGFzaCc6IDIsICdob3N0JzogMywgJ3BvcnQnOiA0LCAncGF0aCc6IDUsICdxdWVyeSc6IDYsICdoYXNoJzogNyB9LFxuICAgICAgICAgICAgcGF0dGVybiA9IC9eKD86KFtBLVphLXpdKyk6KT8oXFwvezAsM30pKFswLTkuXFwtQS1aYS16XSspKD86OihcXGQrKSk/KD86XFwvKFtePyNdKikpPyg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8kLyxcbiAgICAgICAgICAgIHMgPSBwYXR0ZXJuLmV4ZWModXJsIHx8ICcnKTtcblxuICAgICAgICBpZiAocyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgICAgIHJldHVybiBzW3BbcGFydGVdXSB8fCAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzZSBhIHVybCBpbmZvcm1hZGEgw6kgdmFsaWRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNWYWxpZCh1cmwpIHtcbiAgICAgICAgcmV0dXJuIC8oaHR0cHxodHRwc3wpKDpcXC9cXC98KShbXFx3LV0rXFwuPykrW1xcdy1dKyhcXC9bXFx3LSAuXFwvPyUmPV0qKT8vLnRlc3QodXJsIHx8ICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSBhIGxpc3RhIGRlIHBhcmFtZXRyb3MgYSB1cmxcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkKCkge1xuICAgICAgICBQaVVybC5hbGlhcy5hZGQuYXBwbHkoUGlVcmwuYWxpYXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIFBpVXJsLmFsaWFzLmdldFZhbHVlKG5hbWUpO1xuICAgIH1cblxuICAgIHN0YXRpYyB0bygpIHtcbiAgICAgICAgbGV0IGFyciA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIHVybCA9ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYWxpYXMgPSBhcnJbaV07XG5cbiAgICAgICAgICAgIGlmIChQaVVybC5hbGlhcy5leGlzdChhcnJbaV0pKSB7XG4gICAgICAgICAgICAgICAgYWxpYXMgPSBQaVVybC5hbGlhcy5nZXRWYWx1ZShhcnJbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWxpYXNbMF0gPT0gJy8nICYmIHVybFt1cmwubGVuZ3RoIC0gMV0gPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGFsaWFzLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdXJsICs9IGFsaWFzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBzZXRMb2NhdGlvbih1cmwpO1xuICAgIH1cblxuICAgIHN0YXRpYyBxdWVyeShxdWVyeSkge1xuICAgICAgICBsZXQgcSA9IFBpVXJsLmNyZWF0ZShsb2NhdGlvbigpKS5xdWVyeSgpLFxuICAgICAgICAgICAgcCA9IHEuc3BsaXQoJyYnKTtcblxuICAgICAgICBmb3IgKGxldCBpIGluIHApIHtcbiAgICAgICAgICAgIGxldCBwcCA9IHBbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIGlmIChwcFswXSA9PSBxdWVyeSkgcmV0dXJuIHBwWzFdO1xuICAgICAgICB9XG4gICAgfVxuXG59O1xuXG5yZWdpc3RlcihQaVVybCk7IiwiaW1wb3J0IFBpUmFuZG9tIGZyb20gJy4vcmFuZG9tJ1xuaW1wb3J0IHtnbG9iYWwsIGxvY2F0aW9uLCByZWdpc3Rlcn0gZnJvbSAnLi9lbnYnXG5pbXBvcnQgUGlUeXBlIGZyb20gJy4vdHlwZSdcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlVcmxIYXNoIHtcbiAgICBzdGF0aWMgX2NhbGxiYWNrcyA9IFtdO1xuICAgIHN0YXRpYyBfZm5XaWxsQ2hhbmdlcyA9IFtdO1xuICAgIHN0YXRpYyBfZm5EaWRDaGFuZ2VzID0gW107XG4gICAgI2hhc2hJZCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXJhZG8gc2VtcHJlIHF1ZSBhIGhhc2ggZGEgdXJsIGZvciBhbHRlcmFkYVxuICAgICAqL1xuICAgIGhhc2hEaWRDaGFuZ2UoKSB7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnNlcnZhIG11ZGFuw6dhcyBubyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVVybEhhc2h9XG4gICAgICovXG4gICAgbGlzdGVuKCkge1xuICAgICAgICB0aGlzLiNoYXNoSWQgPSBQaVJhbmRvbS51dWlkKCd4eHgteHh4Jyk7XG5cbiAgICAgICAgUGlVcmxIYXNoLl9jYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICBpZDogdGhpcy4jaGFzaElkLFxuICAgICAgICAgICAgY2I6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNoRGlkQ2hhbmdlKFBpVXJsSGFzaC5nZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlaXhhIGRlIG9ic2VydmFyIG11ZGFuw6dhcyBubyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEByZXR1cm5zIHtQaVVybEhhc2h9XG4gICAgICovXG4gICAgdW5saXN0ZW4oKSB7XG4gICAgICAgIGNvbnN0IGFyciA9IFBpVXJsSGFzaC5fY2FsbGJhY2tzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYXJyW2ldO1xuICAgICAgICAgICAgaWYgKGl0ZW0uaWQgPT0gdGhpcy4jaGFzaElkKSB7XG4gICAgICAgICAgICAgICAgUGlVcmxIYXNoLl9jYWxsYmFja3Muc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgYXR1YWwgZG8gaGFzaCBkYSB1cmxcbiAgICAgKiBcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQoKSB7XG4gICAgICAgIGxldCBoID0gbG9jYXRpb24oKS5oYXNoO1xuICAgICAgICBoID0gaC5sZW5ndGggPT0gMCA/IGggOiBoLnN1YnN0cigxKTtcblxuICAgICAgICByZXR1cm4gaDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgbyB2YWxvciBkbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIC0gVmFsb3IgZG8gaGFzaFxuICAgICAqL1xuICAgIHN0YXRpYyB0byhoYXNoKSB7XG4gICAgICAgIGxldCBoID0gUGlVcmxIYXNoLmdldCgpO1xuICAgICAgICBsZXQgcSA9IGguaW5kZXhPZignPycpO1xuXG4gICAgICAgIGlmIChxID4gLTEpIHtcbiAgICAgICAgICAgIHEgPSBoLnN1YnN0cihxKTtcbiAgICAgICAgICAgIGggPSBoLnN1YnN0cigwLCBxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHEgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnIScgKyBoID09IGhhc2ggfHwgJyEnICsgaGFzaCA9PSBoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChxLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGhhc2ggKz0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2F0aW9uKCkuaGFzaCA9IGhhc2g7XG5cbiAgICAgICAgcmV0dXJuIFBpVXJsSGFzaDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRvcm5hIG8gdmFsb3IgZGEgcXVlcnkgc3RyaW5nIG5vIGhhc2ggZGEgdXJsXG4gICAgICogXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIENoYXZlIGRhIHF1ZXJ5IHN0cmluZ1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgc3RhdGljIGdldFF1ZXJ5U3RyaW5nKGtleSkge1xuICAgICAgICBsZXQgaCA9IFBpVXJsSGFzaC5nZXQoKTtcbiAgICAgICAgbGV0IHBzID0gaC5zcGxpdCgnPycpO1xuXG4gICAgICAgIGlmIChwcy5sZW5ndGggPCAyKSByZXR1cm4gJyc7XG4gICAgICAgIGxldCBrdiA9IHBzWzFdLnNwbGl0KCcmJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga3YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrID0ga3ZbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgIGlmIChrWzBdID09IGtleSkgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChrWzFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UXVlcnlJbnQoa2V5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChQaVVybEhhc2guZ2V0UXVlcnlTdHJpbmcoa2V5KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFF1ZXJ5RmxvYXQoa2V5KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KFBpVXJsSGFzaC5nZXRRdWVyeVN0cmluZyhrZXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdW0gcGFyIGNoYXZlLXZhbG9yIGRhIHF1ZXJ5IHN0cmluZyBkbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZSBkYSBxdWVyeSBzdHJpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgcmVtb3ZlUXVlcnlTdHJpbmcoa2V5KSB7XG4gICAgICAgIGxldCBoID0gUGlVcmxIYXNoLmdldCgpO1xuICAgICAgICBsZXQgcHMgPSBoLnNwbGl0KCc/Jyk7XG5cbiAgICAgICAgaWYgKGtleSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxvY2F0aW9uKCkuaGFzaCA9IHBzWzBdO1xuICAgICAgICAgICAgcmV0dXJuIFBpVXJsSGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwID0gW107XG4gICAgICAgIGxldCBtYXAgPSBbXTtcblxuICAgICAgICBpZiAocHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcCA9IHBzWzFdLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocFtpXS5sZW5ndGggPT0gMCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgX3BzID0gcFtpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIG1hcFtfcHNbMF1dID0gX3BzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIG1hcFtrZXldO1xuXG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFwKSB7XG4gICAgICAgICAgICBhcnIucHVzaChgJHtrZXl9PSR7bWFwW2tleV19YCk7XG4gICAgICAgIH1cblxuICAgICAgICBsb2NhdGlvbigpLmhhc2ggPSBgJHtwc1swXX0/JHthcnIuam9pbignJicpfWA7XG5cbiAgICAgICAgcmV0dXJuIFBpVXJsSGFzaDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGljaW9uYSB1bSBwYXIgY2hhdmUtdmFsb3IgcGFyYSBhIHF1ZXJ5IHN0cmluZyBkbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBDaGF2ZSBkYSBxdWVyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBWYWxvciBkYSBxdWVyeSBzdHJpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkUXVlcnlTdHJpbmcoa2V5LCB2YWx1ZSA9ICcnKSB7XG4gICAgICAgIGxldCBoID0gUGlVcmxIYXNoLmdldCgpO1xuICAgICAgICBsZXQgcHMgPSBoLnNwbGl0KCc/Jyk7XG4gICAgICAgIGxldCBwID0gW107XG4gICAgICAgIGxldCBtYXAgPSBbXTtcblxuICAgICAgICBpZiAocHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgcCA9IHBzWzFdLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocFtpXS5sZW5ndGggPT0gMCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgX3BzID0gcFtpXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIG1hcFtfcHNbMF1dID0gX3BzWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbWFwW2tleV0gPSB2YWx1ZSB8fCAnJztcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBtYXApIHtcbiAgICAgICAgICAgIGFyci5wdXNoKGAke2tleX09JHttYXBba2V5XX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2F0aW9uKCkuaGFzaCA9IGAke3BzWzBdfT8ke2Fyci5qb2luKCcmJyl9YDtcblxuICAgICAgICByZXR1cm4gUGlVcmxIYXNoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkaWNpb25hIGFycmF5IGRlIHBhdGhzIHBhcmEgbyBoYXNoIGRhIHVybFxuICAgICAqIFxuICAgICAqIEBwYXJhbSAgey4uLmFueX0gYXJncyAtIEFycmF5IGRlIHBhdGhzXG4gICAgICovXG4gICAgc3RhdGljIGFkZCguLi5hcmdzKSB7XG4gICAgICAgIGxldCBoID0gUGlVcmxIYXNoLmdldCgpO1xuXG4gICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIFBpVXJsSGFzaC50byhoICsgJy8nICsgYXJncy5qb2luKCcvJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUGlVcmxIYXNoLnRvKGFyZ3Muam9pbignLycpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBkbyBoYXNoIGRhIHVybCBvIHZhbG9yIGluZm9ybWFkb1xuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBTdHJpbmcgYSBzZXIgcmVtb3ZpZGFcbiAgICAgKiBAcmV0dXJucyB7UGlVcmxoYXNofVxuICAgICAqL1xuICAgIHN0YXRpYyByZW1vdmUoc3RyKSB7XG4gICAgICAgIGxvY2F0aW9uKCkuaGFzaCA9IGxvY2F0aW9uKCkuaGFzaC5yZXBsYWNlKHN0ciwgJycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBvbldpbGxDaGFuZ2UoZm4pIHtcbiAgICAgICAgUGlVcmxIYXNoLl9mbldpbGxDaGFuZ2VzLnB1c2goZm4pO1xuICAgIH1cblxuICAgIHN0YXRpYyBvbkRpZENoYW5nZShmbikge1xuICAgICAgICBQaVVybEhhc2guX2ZuRGlkQ2hhbmdlLnB1c2goZm4pO1xuICAgIH1cblxufTtcblxudmFyIGxhc3RIYXNoID0gbnVsbDtcbmdsb2JhbC5vbmhhc2hjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGxhc3RIYXNoID09IFBpVXJsSGFzaC5nZXQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxhc3RIYXNoID0gUGlVcmxIYXNoLmdldCgpO1xuXG4gICAgY29uc3QgYXJyID0gUGlVcmxIYXNoLl9jYWxsYmFja3M7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFBpVXJsSGFzaC5fZm5XaWxsQ2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBQaVVybEhhc2guX2ZuV2lsbENoYW5nZXNbaV0obGFzdEhhc2gpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXS5jYigpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUGlVcmxIYXNoLl9mbkRpZENoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgUGlVcmxIYXNoLl9mbkRpZENoYW5nZXNbaV0obGFzdEhhc2gpO1xuICAgIH1cbn07XG5cbnJlZ2lzdGVyKFBpVXJsSGFzaCk7IiwiaW1wb3J0IFBpRWxlbWVudCBmcm9tIFwiLi9lbGVtZW50XCI7XG5pbXBvcnQgeyBmaW5kQ2xhc3MgfSBmcm9tICcuL2VudidcblxuLyoqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGlWaXJ0dWFsVHJlZSB7XG4gICAgI2VsZW1lbnRzUGFyZW50ID0gbnVsbDtcbiAgICAjdmVsZW1lbnRzID0gW107XG4gICAgI2NvbXBvbmVudHMgPSBbXTtcbiAgICAjY29tcG9uZW50c1BhcmFtcyA9IFtdO1xuICAgICNjb21wb25lbnRQYXJlbnQgPSBudWxsO1xuICAgICNob29rID0gW107XG4gICAgI3Njb3BlID0geyBjb250ZXh0OiB7fSB9O1xuXG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NvcGUgPSB7IGNvbnRleHQ6IHt9IH0sIGNvbXBvbmVudFBhcmVudCA9IG51bGwpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy4jZWxlbWVudHNQYXJlbnQgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy4jZWxlbWVudHNQYXJlbnQgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4jZWxlbWVudHNQYXJlbnQgPSBbZWxlbWVudF07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiNjb21wb25lbnRQYXJlbnQgPSBjb21wb25lbnRQYXJlbnQ7XG4gICAgICAgIHRoaXMuI3Njb3BlID0gc2NvcGU7XG4gICAgfVxuXG4gICAgaG9vayhuYW1lLCBmbikge1xuICAgICAgICB0aGlzLiNob29rW25hbWVdID0gZm47XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlVmlydHVhbEVsZW1lbnRzKHRoaXMuI2VsZW1lbnRzUGFyZW50KTtcbiAgICAgICAgdGhpcy5fY3JlYXRlQ29tcG9uZW50cygpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jdmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy4jdmVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgZWxlbWVudC5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2NvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuI2NvbXBvbmVudHNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4jdmVsZW1lbnRzID0gW107XG4gICAgICAgIHRoaXMuI2NvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy4jY29tcG9uZW50c1BhcmFtcyA9IFtdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDb21wb25lbnQoY29tcG9uZW50TmFtZSkge1xuICAgICAgICBjb25zdCBfX2NvbnN0cnVjdG9yID0gZmluZENsYXNzKGNvbXBvbmVudE5hbWUpO1xuXG4gICAgICAgIGlmIChfX2NvbnN0cnVjdG9yID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgYENvbXBvbmVudCBuw6NvIGxvY2FsaXphZG86ICR7Y29tcG9uZW50TmFtZX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBfX2NvbnN0cnVjdG9yKCk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNvbXBvbmVudHMoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jY29tcG9uZW50c1BhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gdGhpcy4jY29tcG9uZW50c1BhcmFtc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBwYXJhbXMuY29tcG9uZW50TmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHZlbGVtZW50ID0gcGFyYW1zLnZlbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHZlbGVtZW50Ll9lbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG5cbiAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy4jY29tcG9uZW50UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50ID0gdGhpcy4jY29tcG9uZW50UGFyZW50W25hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2NyZWF0ZUNvbXBvbmVudChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2NvbXBvbmVudFBhcmVudFtuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2NyZWF0ZUNvbXBvbmVudChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudCA9IHRoaXMuX2NyZWF0ZUNvbXBvbmVudChjb21wb25lbnROYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmVsZW1lbnQuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICBjb21wb25lbnQucmVuZGVyKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy4jY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY3JlYXRlVmlydHVhbEVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChlbGVtZW50cyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDEgJiYgZWxlbWVudHNbMF0gaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVWaXJ0dWFsRWxlbWVudHMoZWxlbWVudHNbMF0uY2hpbGRyZW4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MU2NyaXB0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTdHlsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuX3BpZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VIb29rKCd3aWxsOmNyZWF0ZTp2ZWxlbWVudCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlbGVtZW50ID0gbmV3IFBpRWxlbWVudChlbGVtZW50LCB0aGlzLiNzY29wZSwgdGhpcy4jY29tcG9uZW50UGFyZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VIb29rKCdkaWQ6Y3JlYXRlOnZlbGVtZW50JywgdmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludm9rZUhvb2soJ3dpbGw6bG9hZDp2ZWxlbWVudCcsIHZlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB2ZWxlbWVudC5sb2FkKHRoaXMuI2NvbXBvbmVudFBhcmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlSG9vaygnZGlkOmxvYWQ6dmVsZW1lbnQnLCB2ZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmVsZW1lbnQuaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnROYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnROYW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY29tcG9uZW50c1BhcmFtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlbGVtZW50OiB2ZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWU6IGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy4jdmVsZW1lbnRzLnB1c2godmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVWaXJ0dWFsRWxlbWVudHMoZWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW52b2tlSG9vayhuYW1lLCAuLi5wYXJhbXMpIHtcbiAgICAgICAgaWYgKHRoaXMuI2hvb2tbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuI2hvb2tbbmFtZV0oLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2FwcC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hcHAuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0NpZnJhVmlldy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9DaWZyYVZpZXcuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0VkaXRDaWZyYVZpZXcuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vRWRpdENpZnJhVmlldy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vTmV3Q2lmcmFWaWV3LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL05ld0NpZnJhVmlldy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vUHJldmlld0NpZnJhVmlldy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9QcmV2aWV3Q2lmcmFWaWV3LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9Ib21lUGFnZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcbm9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9Ib21lUGFnZS5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImltcG9ydCB7IGFwcCB9IGZyb20gXCJweWxsYXIvZW52XCI7XHJcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gXCJweWxsYXIvZW52XCI7XHJcbmltcG9ydCBQaVNlcnZpY2UgZnJvbSBcInB5bGxhci9zZXJ2aWNlXCI7XHJcbmltcG9ydCBQaVVybEhhc2ggZnJvbSBcInB5bGxhci91cmxfaGFzaFwiO1xyXG5cclxuaW1wb3J0IEhvbWVQYWdlIGZyb20gXCIuLi9ob21lcGFnZS9Ib21lUGFnZVwiO1xyXG5cclxuaW1wb3J0IE5ld0NpZnJhVmlldyBmcm9tIFwiLi9OZXdDaWZyYVZpZXdcIjtcclxuaW1wb3J0IEVkaXRDaWZyYVZpZXcgZnJvbSBcIi4vRWRpdENpZnJhVmlld1wiO1xyXG5pbXBvcnQgTGlzdENpZnJhc1ZpZXcgZnJvbSBcIi4vTGlzdENpZnJhc1ZpZXdcIjtcclxuaW1wb3J0IFByZXZpZXdDaWZyYVZpZXcgZnJvbSBcIi4vUHJldmlld0NpZnJhVmlld1wiO1xyXG5cclxuaW1wb3J0IHsgUk9VVEVfUFJFVklFV19DSUZSQSwgUk9VVEVfTkVXX0NJRlJBLCBST1VURV9FRElUX0NJRlJBLCBST1VURV9MSVNUX0NJRlJBIH0gZnJvbSBcIi4uL3JvdXRlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lmcmFTZXJ2aWNlIGV4dGVuZHMgUGlTZXJ2aWNlIHtcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgc3VwZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXNcclxuICAgICAgICAgICAgLmFkZFJvdXRlKFJPVVRFX05FV19DSUZSQS5IQVNILCB0aGlzLm5ld0NpZnJhKVxyXG4gICAgICAgICAgICAuYWRkUm91dGUoUk9VVEVfRURJVF9DSUZSQS5IQVNILCB0aGlzLmVkaXRDaWZyYSlcclxuICAgICAgICAgICAgLmFkZFJvdXRlKFJPVVRFX0xJU1RfQ0lGUkEuSEFTSCwgdGhpcy5saXN0Q2lmcmEpXHJcbiAgICAgICAgICAgIC5hZGRSb3V0ZShST1VURV9QUkVWSUVXX0NJRlJBLkhBU0gsIHRoaXMucHJldmlld0NpZnJhKTtcclxuICAgIH1cclxuXHJcbiAgICBuZXdDaWZyYSgpIHtcclxuICAgICAgICB0aGlzLl9jcmVhdGVIb21lUGFnZShuZXcgTmV3Q2lmcmFWaWV3KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGVkaXRDaWZyYShpZCkge1xyXG4gICAgICAgIGNvbnN0IGVkaXQgPSBuZXcgRWRpdENpZnJhVmlldygpO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUhvbWVQYWdlKGVkaXQpO1xyXG4gICAgICAgIGVkaXQubG9hZE11c2ljYShpZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbGlzdENpZnJhKCkge1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUhvbWVQYWdlKG5ldyBMaXN0Q2lmcmFzVmlldygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmV2aWV3Q2lmcmEoKSB7XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlSG9tZVBhZ2UobmV3IFByZXZpZXdDaWZyYVZpZXcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgX2NyZWF0ZUhvbWVQYWdlKHZpZXcpIHtcclxuICAgICAgICBjb25zdCBob21lcGFnZSA9IG5ldyBIb21lUGFnZSgpO1xyXG5cclxuICAgICAgICBob21lcGFnZS5yZW5kZXIoZ2xvYmFsLmFwcC4kZWxlbWVudCk7XHJcbiAgICAgICAgaG9tZXBhZ2Uuc2V0Vmlldyh2aWV3KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGhvbWVwYWdlO1xyXG4gICAgfVxyXG5cclxufTsiLCJpbXBvcnQgTXVzaWNhTW9kZWwgZnJvbSAnLi4vbXVzaWNhL011c2ljYU1vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENpZnJhU3RyZWFtIHtcclxuICAgIGZuTmV3TXVzaWNhID0gbnVsbDtcclxuICAgIGZuTmV3Tm90ZSA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaG9zdCkge1xyXG4gICAgICAgIHRoaXMuaG9zdCA9IGhvc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgb25OZXdNdXNpY2EoZm4pIHtcclxuICAgICAgICB0aGlzLmZuTmV3TXVzaWNhID0gZm5cclxuICAgIH1cclxuXHJcbiAgICBvbk5ld05vdGUoZm4pIHtcclxuICAgICAgICB0aGlzLmZuTmV3Tm90ZSA9IGZuO1xyXG4gICAgfVxyXG5cclxuICAgIF9wcm9jZXNzRXZlbnQoZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gSlNPTi5wYXJzZShlLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gJ25ldzptdXNpY2EnKSB7XHJcbiAgICAgICAgICAgICAgICAobmV3IE11c2ljYU1vZGVsKCkpLmdldChldmVudC5pZCkudGhlbigobXVzaWNhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mbk5ld011c2ljYSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm5OZXdNdXNpY2EobXVzaWNhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09ICdub3RlJykge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5mbk5ld05vdGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm5OZXdOb3RlKGV2ZW50Lm5vdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc3Qgc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLmhvc3QpO1xyXG5cclxuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbmVjdGFkbyBhbyBzZXJ2aWRvciBXZWJTb2NrZXQnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVudmlhIHVtYSBtZW5zYWdlbSBhbyBzZXJ2aWRvclxyXG4gICAgICAgICAgICBzb2NrZXQuc2VuZCgnT2zDoSBzZXJ2aWRvciEnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gUXVhbmRvIHVtYSBtZW5zYWdlbSDDqSByZWNlYmlkYSBkbyBzZXJ2aWRvclxyXG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVjZWJpZG8gZG8gc2Vydmlkb3I6JywgZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBRdWFuZG8gYSBjb25leMOjbyDDqSBmZWNoYWRhXHJcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGVzY29uZWN0YWRvIGRvIHNlcnZpZG9yIFdlYlNvY2tldCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuXHJcbmltcG9ydCBNdXNpY2FNb2RlbCBmcm9tICcuLi9tdXNpY2EvTXVzaWNhTW9kZWwnO1xyXG5pbXBvcnQgTWFyY2Fkb3IgZnJvbSAnLi4vbWFyY2Fkb3IvTWFyY2Fkb3InO1xyXG5pbXBvcnQgTm90ZXNDb2xsZWN0aW9uIGZyb20gJy4uL25vdGUvTm90ZUNvbGxlY3Rpb24nO1xyXG5cclxuaW1wb3J0IFwiLi9DaWZyYVZpZXcuY3NzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaWZyYVZpZXcgZXh0ZW5kcyBQaUNvbXBvbmVudCB7XHJcbiAgICB2aWV3ID0gLypodG1sKi9gPGRpdiBjbGFzcz1cImNpZnJhLXZpZXdcIj48ZGl2IGNsYXNzPVwidGl0dWxvXCI+e0BfdGl0dWxvfTwvZGl2PjxkaXYgaWQ9XCJtYXJjYWRvclwiIGNsYXNzPVwibWFyY2Fkb3JcIj48L2Rpdj48cHJlIGlkPVwiY29udGVudFwiPjwvcHJlPjwvZGl2PmA7XHJcblxyXG4gICAgX3RpdHVsbyA9ICcnO1xyXG5cclxuICAgIHNldFN0cmVhbShzdHJlYW0pIHtcclxuICAgICAgICBzdHJlYW0ub25OZXdOb3RlKG5vdGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldE1hcmNhZG9yUG9zaWNhbyhub3RlLnBvc2l0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkTXVzaWNhKGlkLCBmbikge1xyXG4gICAgICAgIGNvbnN0IG11c2ljYSA9IGF3YWl0IChuZXcgTXVzaWNhTW9kZWwoKSkuZ2V0KGlkKTtcclxuICAgICAgICB0aGlzLnNldE11c2ljYShtdXNpY2EsIGZuKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNdXNpY2EobXVzaWNhLCBmbikge1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZChcIiNjb250ZW50XCIpLmh0bWwobXVzaWNhLmNpZnJhLnJlcGxhY2UoL1xcKFteKV0rXFwpL2dpLCAobm90ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxiPiR7bm90ZX08L2I+YFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgdGhpcy5fdGl0dWxvID0gbXVzaWNhLnRpdHVsbztcclxuXHJcbiAgICAgICAgdGhpcy5fbG9hZE5vdGVzKCk7XHJcbiAgICAgICAgdGhpcy5fbG9hZE1hcmNhZG9yKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0TWFyY2Fkb3JQb3NpY2FvKDEpO1xyXG4gICAgICAgIGlmIChmbikgZm4oKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNYXJjYWRvclBvc2ljYW8ocG9zaXRpb24pIHtcclxuICAgICAgICB0aGlzLm1hcmNhZG9yLm1vdmUodGhpcy5ub3Rlcy5nZXROb3RlQnlQb3NpdGlvbihwb3NpdGlvbikpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkTWFyY2Fkb3IoKSB7XHJcbiAgICAgICAgdGhpcy5tYXJjYWRvciA9IG5ldyBNYXJjYWRvcih0aGlzLiRlbGVtZW50LmZpbmQoXCIjbWFyY2Fkb3JcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkTm90ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5ub3RlcyA9IG5ldyBOb3Rlc0NvbGxlY3Rpb24odGhpcy4kZWxlbWVudC5maW5kKFwiI2NvbnRlbnRcIikuZmluZCgnYicpKTtcclxuICAgIH1cclxufVxyXG5cclxuUGlDb21wb25lbnQucmVnaXN0ZXIoQ2lmcmFWaWV3KTsiLCJpbXBvcnQgUGlDb21wb25lbnQgZnJvbSBcInB5bGxhci9jb21wb25lbnRcIjtcclxuXHJcbmltcG9ydCBNdXNpY2FNb2RlbCBmcm9tIFwiLi4vbXVzaWNhL011c2ljYU1vZGVsXCI7XHJcbmltcG9ydCBUcmFuc3Bvc2ljYW8gZnJvbSBcIi4uL211c2ljYS9UcmFuc3Bvc2ljYW9cIjtcclxuaW1wb3J0IFV4QnV0dG9uIGZyb20gXCIuLi91eC9VeEJ1dHRvblwiO1xyXG5cclxuaW1wb3J0IFwiLi9FZGl0Q2lmcmFWaWV3LmNzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdENpZnJhVmlldyBleHRlbmRzIFBpQ29tcG9uZW50IHtcclxuICAgIHZpZXcgPSBgPGRpdiBjbGFzcz1cImVkaXQtY2lmcmFcIj5cclxuICAgICAgICA8ZmllbGRzZXQ+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyBkLWZsZXggZmxleC1yb3ctcmV2ZXJzZSBhY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCIgQGNsaWNrPVwidHJhbnNwb3NlVXAoKVwiPisgMSBUb208L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNlY29uZGFyeSBidG4tc21cIiBAY2xpY2s9XCJ0cmFuc3Bvc2VEb3duKClcIj4tIDEgVG9tPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj5Uw610dWxvPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGRhdGEtbW9kZWw9XCJ0aXR1bG9cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIHBsYWNlaG9sZGVyPVwiVMOtdHVsb1wiPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCI+VmVyc8OjbzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLW1vZGVsPVwidmVyc2FvXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlZlcnPDo29cIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgPHByZSBjbGFzcz1cImZvcm0tY29udHJvbFwiIGRhdGEtbW9kZWw9XCJjaWZyYVwiIGlkPVwiZWRpdG9yXCIgY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiPjwvcHJlPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zIGQtZmxleCBmbGV4LXJvdy1yZXZlcnNlIGFjdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgbmFtZT1cInNhdmVcIiBAY2xpY2s9XCJzYWx2YXIoKVwiIGNvbXBvbmVudD1cIlV4QnV0dG9uXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZmllbGRzZXQ+XHJcbiAgICA8L2Rpdj5gO1xyXG5cclxuICAgIF90aXR1bG8gPSAnJztcclxuXHJcbiAgICBpbnN0YW5jZXMoKSB7XHJcbiAgICAgICAgdGhpcy5zYXZlID0gbmV3IFV4QnV0dG9uKHtcclxuICAgICAgICAgICAgbGFiZWw6ICdTYWx2YXInLFxyXG4gICAgICAgICAgICBjbGFzc2VzOiAnYnRuIGJ0bi1zbSBidG4tcHJpbWFyeSdcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkTXVzaWNhKGlkKSB7XHJcbiAgICAgICAgKG5ldyBNdXNpY2FNb2RlbCgpKS5nZXQoaWQpLnRoZW4oKG11c2ljYSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldE11c2ljYShtdXNpY2EpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE11c2ljYShtdXNpY2EpIHtcclxuICAgICAgICB0aGlzLm11c2ljYSA9IG11c2ljYTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmplY3QobXVzaWNhKTtcclxuICAgICAgICB0aGlzLl9zZXRFZGl0b3JIdG1sKG11c2ljYS5jaWZyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2FsdmFyKCkge1xyXG4gICAgICAgIHRoaXMubXVzaWNhLmluamVjdCh0aGlzKTtcclxuICAgICAgICB0aGlzLm11c2ljYS5jaWZyYSA9IHRoaXMuX2dldEVkaXRvckh0bWwoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY2Euc2F2ZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNhdmUudW5sb2NrKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNwb3NlVXAoKSB7XHJcbiAgICAgICAgY29uc3QgY2lmcmEgPSB0aGlzLl9nZXRFZGl0b3JIdG1sKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlcGxhY2VOb3RlcyhjaWZyYSwgKG5vdGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFRyYW5zcG9zaWNhby51cChub3RlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc3Bvc2VEb3duKCkge1xyXG4gICAgICAgIGNvbnN0IGNpZnJhID0gdGhpcy5fZ2V0RWRpdG9ySHRtbCgpO1xyXG5cclxuICAgICAgICB0aGlzLl9yZXBsYWNlTm90ZXMoY2lmcmEsIChub3RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBUcmFuc3Bvc2ljYW8uZG93bihub3RlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBfcmVwbGFjZU5vdGVzKGNpZnJhLCBmbikge1xyXG4gICAgICAgIGNvbnN0IG5vdGVzID0gL1xcKFteXFwpK10qXFwpL2dpLmV4ZWMoY2lmcmEpO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdDaWZyYSA9IGNpZnJhLnJlcGxhY2UoL1xcKFteXFwpK10qXFwpL2dpLCAobm90ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gYCgke2ZuKG5vdGUucmVwbGFjZSgnKCcsICcnKS5yZXBsYWNlKCcpJywgJycpKX0pYDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2V0RWRpdG9ySHRtbChuZXdDaWZyYSk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NldEVkaXRvckh0bWwoaHRtbCkge1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnI2VkaXRvcicpLmh0bWwoaHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2dldEVkaXRvckh0bWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQuZmluZCgnI2VkaXRvcicpLmh0bWwoKTtcclxuICAgIH1cclxufTsiLCJpbXBvcnQgUGlDb21wb25lbnQgZnJvbSAncHlsbGFyL2NvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgTXVzaWNhTW9kZWwgZnJvbSAnLi4vbXVzaWNhL011c2ljYU1vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RDaWZyYXNWaWV3IGV4dGVuZHMgUGlDb21wb25lbnQge1xyXG4gICAgdmlldyA9IC8qaHRtbCovYDxkaXY+XHJcbiAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtaG92ZXJcIj5cclxuICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPiM8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlTDrXR1bG88L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlZlcnPDo288L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPkNyaWFkbyBQb3I8L3RoPlxyXG4gICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgPHRyIDpmb3JlYWNoPVwiKGluZGV4LCBtdXNpY2EpIGluIF9tdXNpY2FzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVwicm93XCI+e2luZGV4ICsgMX08L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZD48YSA6aHJlZj1cIiN7VVJMLlJPVVRFX0VESVRfQ0lGUkEudG8obXVzaWNhLmlkKX1cIj57bXVzaWNhLnRpdHVsb308L2E+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+e211c2ljYS52ZXJzYW99PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8dGQ+QG5lY29qcjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICA8L2Rpdj5gO1xyXG5cclxuICAgIF9tdXNpY2FzID0gW107XHJcblxyXG4gICAgdmlld0RpZExvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5fbG9hZE11c2ljYXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRNdXNpY2FzKG11c2ljYXMpIHtcclxuICAgICAgICB0aGlzLl9tdXNpY2FzLmNsZWFyKCkubG9hZChtdXNpY2FzKTtcclxuICAgIH1cclxuXHJcbiAgICBfbG9hZE11c2ljYXMoKSB7XHJcbiAgICAgICAgKG5ldyBNdXNpY2FNb2RlbCgpKS5hbGwoKS50aGVuKG11c2ljYXMgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldE11c2ljYXMobXVzaWNhcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IFBpQ29tcG9uZW50IGZyb20gXCJweWxsYXIvY29tcG9uZW50XCI7XHJcbmltcG9ydCBQaVVybEhhc2ggZnJvbSBcInB5bGxhci91cmxfaGFzaFwiO1xyXG5cclxuaW1wb3J0IE11c2ljYU1vZGVsIGZyb20gXCIuLi9tdXNpY2EvTXVzaWNhTW9kZWxcIjtcclxuaW1wb3J0IFRyYW5zcG9zaWNhbyBmcm9tIFwiLi4vbXVzaWNhL1RyYW5zcG9zaWNhb1wiO1xyXG5pbXBvcnQgVXhCdXR0b24gZnJvbSBcIi4uL3V4L1V4QnV0dG9uXCI7XHJcblxyXG5pbXBvcnQgeyBST1VURV9FRElUX0NJRlJBIH0gZnJvbSBcIi4uL3JvdXRlc1wiO1xyXG5cclxuaW1wb3J0IFwiLi9OZXdDaWZyYVZpZXcuY3NzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXdDaWZyYVZpZXcgZXh0ZW5kcyBQaUNvbXBvbmVudCB7XHJcbiAgICB2aWV3ID0gYDxkaXYgY2xhc3M9XCJlZGl0LWNpZnJhXCI+XHJcbiAgICAgICAgPGZpZWxkc2V0PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTMgZC1mbGV4IGZsZXgtcm93LXJldmVyc2UgYWN0aW9uc1wiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1zbVwiIEBjbGljaz1cInRyYW5zcG9zZVVwKClcIj4rIDEgVG9tPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCIgQGNsaWNrPVwidHJhbnNwb3NlRG93bigpXCI+LSAxIFRvbTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYi0zXCI+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCI+VMOtdHVsbzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLW1vZGVsPVwidGl0dWxvXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBwbGFjZWhvbGRlcj1cIlTDrXR1bG9cIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItM1wiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiPlZlcnPDo288L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1tb2RlbD1cInZlcnNhb1wiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJWZXJzw6NvXCI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1iLTNcIj5cclxuICAgICAgICAgICAgICAgIDxwcmUgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBkYXRhLW1vZGVsPVwiY2lmcmFcIiBpZD1cImVkaXRvclwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj48L3ByZT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWItMyBkLWZsZXggZmxleC1yb3ctcmV2ZXJzZSBhY3Rpb25zXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IG5hbWU9XCJzYXZlXCIgQGNsaWNrPVwic2FsdmFyKClcIiBjb21wb25lbnQ9XCJVeEJ1dHRvblwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2ZpZWxkc2V0PlxyXG4gICAgPC9kaXY+YDtcclxuXHJcbiAgICBfdGl0dWxvID0gJyc7XHJcblxyXG4gICAgaW5zdGFuY2VzKCkge1xyXG4gICAgICAgIHRoaXMuc2F2ZSA9IG5ldyBVeEJ1dHRvbih7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnQWRpY2lvbmFyJyxcclxuICAgICAgICAgICAgY2xhc3NlczogJ2J0biBidG4tc20gYnRuLXByaW1hcnknXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2FsdmFyKCkge1xyXG4gICAgICAgIGNvbnN0IG11c2ljYSA9IG5ldyBNdXNpY2FNb2RlbCgpO1xyXG5cclxuICAgICAgICBtdXNpY2EuaW5qZWN0KHRoaXMpO1xyXG4gICAgICAgIG11c2ljYS5jaWZyYSA9IHRoaXMuX2dldEVkaXRvckh0bWwoKTtcclxuXHJcbiAgICAgICAgbXVzaWNhLmluc2VydCgpLnRoZW4oKG11c2ljYSkgPT4ge1xyXG4gICAgICAgICAgICBQaVVybEhhc2guc2V0KFJPVVRFX0VESVRfQ0lGUkEuSEFTSCwgbXVzaWNhLmlkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc3Bvc2VVcCgpIHtcclxuICAgICAgICBjb25zdCBjaWZyYSA9IHRoaXMuX2dldEVkaXRvckh0bWwoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVwbGFjZU5vdGVzKGNpZnJhLCAobm90ZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gVHJhbnNwb3NpY2FvLnVwKG5vdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRyYW5zcG9zZURvd24oKSB7XHJcbiAgICAgICAgY29uc3QgY2lmcmEgPSB0aGlzLl9nZXRFZGl0b3JIdG1sKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlcGxhY2VOb3RlcyhjaWZyYSwgKG5vdGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFRyYW5zcG9zaWNhby5kb3duKG5vdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9yZXBsYWNlTm90ZXMoY2lmcmEsIGZuKSB7XHJcbiAgICAgICAgY29uc3Qgbm90ZXMgPSAvXFwoW15cXCkrXSpcXCkvZ2kuZXhlYyhjaWZyYSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0NpZnJhID0gY2lmcmEucmVwbGFjZSgvXFwoW15cXCkrXSpcXCkvZ2ksIChub3RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBgKCR7Zm4obm90ZS5yZXBsYWNlKCcoJywgJycpLnJlcGxhY2UoJyknLCAnJykpfSlgO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRFZGl0b3JIdG1sKG5ld0NpZnJhKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2V0RWRpdG9ySHRtbChodG1sKSB7XHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcjZWRpdG9yJykuaHRtbChodG1sKTtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0RWRpdG9ySHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5maW5kKCcjZWRpdG9yJykuaHRtbCgpO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuXHJcbmltcG9ydCBcIi4vUHJldmlld0NpZnJhVmlldy5jc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXZpZXdDaWZyYVZpZXcgZXh0ZW5kcyBQaUNvbXBvbmVudCB7XHJcbiAgICB2aWV3ID0gLypodG1sKi9gPGRpdiBjbGFzcz1cInByZXZpZXctY2lmcmFcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiYm94XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJib3gtaW5uZXJcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmBcclxufSIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuaW1wb3J0IFBpQ29uZmlnIGZyb20gJ3B5bGxhci9jb25maWcnO1xyXG5cclxuaW1wb3J0IENpZnJhVmlldyBmcm9tICcuLi9jaWZyYS9DaWZyYVZpZXcnO1xyXG5pbXBvcnQgQ2lmcmFTdHJlYW0gZnJvbSAnLi4vY2lmcmEvQ2lmcmFTdHJlYW0nO1xyXG5cclxuaW1wb3J0IEVkaXRDaWZyYVZpZXcgZnJvbSAnLi4vY2lmcmEvRWRpdENpZnJhVmlldyc7XHJcbmltcG9ydCBcIi4uL3JvdXRlc1wiO1xyXG5cclxuaW1wb3J0IFRyYW5zcG9ydGVNb2RlbCBmcm9tICcuLi90cmFuc3BvcnRlL1RyYW5zcG9ydGVNb2RlbCc7XHJcblxyXG5pbXBvcnQgXCIuL0hvbWVQYWdlLmNzc1wiO1xyXG5pbXBvcnQgUHJldmlld0NpZnJhVmlldyBmcm9tICcuLi9jaWZyYS9QcmV2aWV3Q2lmcmFWaWV3JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWVQYWdlIGV4dGVuZHMgUGlDb21wb25lbnQge1xyXG4gICAgdmlldyA9IC8qaHRtbCovYDxkaXYgY2xhc3M9XCJjb250YWluZXIgaG9tZXBhZ2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVudVwiIGlkPVwibWVudVwiPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibmF2IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rIGFjdGl2ZVwiIDpocmVmPVwiI3tVUkwuUk9VVEVfTkVXX0NJRlJBLkhBU0h9XCI+Tm92YTwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm5hdi1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibmF2LWxpbmtcIiA6aHJlZj1cIiN7VVJMLlJPVVRFX0xJU1RfQ0lGUkEuSEFTSH1cIj5QZXNxdWlzYXI8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJuYXYtaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cIm5hdi1saW5rXCIgOmhyZWY9XCIje1VSTC5ST1VURV9QUkVWSUVXX0NJRlJBLkhBU0h9XCI+UHJldmlldzwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwidmlld1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YDtcclxuXHJcbiAgICBpbnN0YW5jZXMoKSB7XHJcbiAgICAgICAgdGhpcy5jaWZyYVN0cmVhbSA9IG5ldyBDaWZyYVN0cmVhbShQaUNvbmZpZy5nZXQoJ2NpZnJhU3RyZWFtJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXdEaWRMb2FkKCkge1xyXG4gICAgICAgIHRoaXMuY2lmcmFTdHJlYW0uY29ubmVjdCgpO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkVHJhbnNwb3J0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRWaWV3KHZpZXcpIHtcclxuICAgICAgICB2aWV3LnJlbmRlcih0aGlzLiRlbGVtZW50LmZpbmQoJyN2aWV3JykpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkVHJhbnNwb3J0ZSgpIHtcclxuICAgICAgICAobmV3IFRyYW5zcG9ydGVNb2RlbCgpKS5nZXQoKS50aGVuKCh0cmFuc3BvcnRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnRlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2V0VmlldyhuZXcgUHJldmlld0NpZnJhVmlldygpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRyYW5zcG9ydGUubXVzaWNhSWQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zZXRWaWV3KG5ldyBQcmV2aWV3Q2lmcmFWaWV3KCkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjaWZyYVZpZXcgPSBuZXcgQ2lmcmFWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmlldyhjaWZyYVZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVNZW51KCk7XHJcbiAgICAgICAgICAgIGNpZnJhVmlldy5sb2FkTXVzaWNhKHRyYW5zcG9ydGUubXVzaWNhSWQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNpZnJhVmlldy5zZXRNYXJjYWRvclBvc2ljYW8odHJhbnNwb3J0ZS5wb3NpY2FvKTtcclxuICAgICAgICAgICAgICAgIGNpZnJhVmlldy5zZXRNYXJjYWRvclBvc2ljYW8oNDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TWVudSgpe1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnI21lbnUnKS5zaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGlkZU1lbnUoKXtcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJyNtZW51JykuaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9sb2FkRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuY2lmcmFTdHJlYW0ub25OZXdNdXNpY2EobXVzaWNhID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY2lmcmFWaWV3ID0gbmV3IENpZnJhVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLnNldFZpZXcoY2lmcmFWaWV3KTtcclxuICAgICAgICAgICAgY2lmcmFWaWV3LnNldFN0cmVhbSh0aGlzLmNpZnJhU3RyZWFtKTtcclxuICAgICAgICAgICAgY2lmcmFWaWV3LnNldE11c2ljYShtdXNpY2EpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGVNZW51KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYXJjYWRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoJG1hcmNhZG9yKSB7XHJcbiAgICAgICAgdGhpcy4kbWFyY2Fkb3IgPSAkbWFyY2Fkb3I7XHJcbiAgICAgICAgdGhpcy5ub3RlID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBtb3ZlKG5vdGUpIHtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG5vdGUucG9zaXRpb24oKTtcclxuICAgICAgICBjb25zdCB3ID0gbm90ZS53aWR0aCgpO1xyXG4gICAgICAgIGNvbnN0IGggPSBub3RlLmhlaWdodCgpO1xyXG5cclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5jc3MoJ3RvcCcsIHBvc2l0aW9uLnRvcCAtIDIpLmNzcygnbGVmdCcsIHBvc2l0aW9uLmxlZnQgLSA3KTtcclxuICAgICAgICB0aGlzLiRtYXJjYWRvci5jc3MoJ3dpZHRoJywgdyArIDEzKS5jc3MoJ2hlaWdodCcsIGggKyA0KTtcclxuXHJcbiAgICAgICAgbm90ZS5zYXZlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIG5vdGUuaGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubm90ZSkge1xyXG4gICAgICAgICAgICB0aGlzLm5vdGUucmVzdG9yZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ub3RlID0gbm90ZTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVTY3JvbGwoKTtcclxuICAgICAgICB9LCAyMDApO1xyXG4gICAgfVxyXG5cclxuICAgIF9tb3ZlU2Nyb2xsKCkge1xyXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLiRtYXJjYWRvci5nZXQoMCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKHJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxCeSgwLCByZWN0LmJvdHRvbSAtIHdpbmRvdy5pbm5lckhlaWdodCArIDEwMCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY3QudG9wIDwgMCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgcmVjdC50b3ApO1xyXG4gICAgICAgICAgfVxyXG4gICAgfVxyXG59OyIsImltcG9ydCBQaUNvbmZpZyBmcm9tICdweWxsYXIvY29uZmlnJztcclxuaW1wb3J0IFBpTW9kZWwgZnJvbSAncHlsbGFyL21vZGVsJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE11c2ljYU1vZGVsIGV4dGVuZHMgUGlNb2RlbCB7XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgc3VwZXIuaW5pdChQaUNvbmZpZy5nZXQoJ2VuZHBvaW50Lm11c2ljYScpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0V2l0aEpzb24oanNvbil7XHJcbiAgICAgICAgc3VwZXIuaW5pdFdpdGhKc29uKGpzb24pO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhY3Rpb25zKCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2luc2VydCc6ICdQT1NUOi8nLFxyXG4gICAgICAgICAgICAnc2F2ZSc6ICdQVVQ6LycsXHJcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi86aWQnLFxyXG4gICAgICAgICAgICAnYWxsJzogJ0dFVDovJ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImNvbnN0IE5PVEVTID0gWydDJywgJ0MjJywgJ0QnLCAnRCMnLCAnRScsICdGJywgJ0YjJywgJ0cnLCAnRyMnLCAnQScsICdBIycsICdCJ107XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgY2xhc3MgVHJhbnNwb3NpY2FvIHtcclxuICAgIHVwKG5vdGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50cmFuc3Bvc2Uobm90ZSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZG93bihub3RlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3NlKG5vdGUsIC0xKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc3Bvc2Uobm90ZSwgc3RlcHMpIHtcclxuICAgICAgICAvLyBFbmNvbnRyYSBvIMOtbmRpY2UgZGEgbm90YSBpbmljaWFsIG5vIGFycmF5IGRlIG5vdGFzXHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBOT1RFUy5pbmRleE9mKG5vdGUudG9VcHBlckNhc2UoKSk7XHJcblxyXG4gICAgICAgIC8vIFZlcmlmaWNhIHNlIGEgbm90YSBmb3JuZWNpZGEgw6kgdsOhbGlkYVxyXG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3RhIGludsOhbGlkYSBmb3JuZWNpZGEuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxjdWxhIG8gbm92byDDrW5kaWNlIGFww7NzIHRyYW5zcG9zacOnw6NvXHJcbiAgICAgICAgbGV0IG5ld0luZGV4ID0gKGluZGV4ICsgc3RlcHMpICUgTk9URVMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBBanVzdGEgbyDDrW5kaWNlIGNhc28gZWxlIHNlamEgbmVnYXRpdm9cclxuICAgICAgICBpZiAobmV3SW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgIG5ld0luZGV4ICs9IE5PVEVTLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldG9ybmEgYSBub3RhIHRyYW5zcG9zdGFcclxuICAgICAgICByZXR1cm4gTk9URVNbbmV3SW5kZXhdO1xyXG4gICAgfVxyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGUge1xyXG4gICAgY29uc3RydWN0b3IoJG5vdGUpIHtcclxuICAgICAgICB0aGlzLiRub3RlID0gJG5vdGU7XHJcbiAgICB9XHJcblxyXG4gICAgaGlnaGxpZ2h0KCkge1xyXG4gICAgICAgIHRoaXMuJG5vdGUuY3NzKCdjb2xvcicsICd3aGl0ZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3RvcmUoKSB7XHJcbiAgICAgICAgdGhpcy4kbm90ZS5jc3MoJ2NvbG9yJywgdGhpcy4kbm90ZS5hdHRyKCdkYXRhLWNvbG9yJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHNhdmUoKSB7XHJcbiAgICAgICAgdGhpcy4kbm90ZS5hdHRyKCdkYXRhLWNvbG9yJywgdGhpcy4kbm90ZS5jc3MoJ2NvbG9yJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc2l0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlLnBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2lkdGgoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGUud2lkdGgoKTtcclxuICAgIH1cclxuXHJcbiAgICBoZWlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJG5vdGUuaGVpZ2h0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0ICRlbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiRub3RlO1xyXG4gICAgfVxyXG59OyIsImltcG9ydCBOb3RlIGZyb20gXCIuL05vdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGVzQ29sbGVjdGlvbiBleHRlbmRzIEFycmF5IHtcclxuICAgIGNvbnN0cnVjdG9yKCRub3Rlcykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgICRub3Rlcy5nZXQoKS5mb3JFYWNoKChub3RlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnB1c2gobmV3IE5vdGUoJChub3RlKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5vdGVCeVBvc2l0aW9uKHApIHtcclxuICAgICAgICByZXR1cm4gdGhpc1twICsgMV07XHJcbiAgICB9XHJcbn07IiwiaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tIFwicHlsbGFyL2VudlwiO1xyXG5cclxuY29uc3QgUk9VVEVfRURJVF9DSUZSQSA9IHtcclxuICAgIE5BTUU6ICdlZGl0YXIgY2lmcmEnLFxyXG4gICAgSEFTSDogJy9jaWZyYS9lZGl0LzppZCcsXHJcbiAgICB0byhpZCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSEFTSC5yZXBsYWNlKCc6aWQnLCBpZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBST1VURV9ORVdfQ0lGUkEgPSB7XHJcbiAgICBOQU1FOiAnbm92YSBjaWZyYScsXHJcbiAgICBIQVNIOiAnL2NpZnJhL25ldydcclxufTtcclxuXHJcbmNvbnN0IFJPVVRFX0xJU1RfQ0lGUkEgPSB7XHJcbiAgICBOQU1FOiAnbGlzdGFyIGNpZnJhcycsXHJcbiAgICBIQVNIOiAnL2NpZnJhcydcclxufTtcclxuXHJcbmNvbnN0IFJPVVRFX1BSRVZJRVdfQ0lGUkEgPSB7XHJcbiAgICBOQU1FOiAnbGlzdGFyIGNpZnJhcycsXHJcbiAgICBIQVNIOiAnL2NpZnJhL3ByZXZpZXcnLFxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICAgIFJPVVRFX0VESVRfQ0lGUkEsXHJcbiAgICBST1VURV9ORVdfQ0lGUkEsXHJcbiAgICBST1VURV9MSVNUX0NJRlJBLFxyXG4gICAgUk9VVEVfUFJFVklFV19DSUZSQVxyXG59O1xyXG5cclxucmVnaXN0ZXIoJ1VSTCcsIHtcclxuICAgIFJPVVRFX0VESVRfQ0lGUkEsXHJcbiAgICBST1VURV9ORVdfQ0lGUkEsXHJcbiAgICBST1VURV9MSVNUX0NJRlJBLFxyXG4gICAgUk9VVEVfUFJFVklFV19DSUZSQVxyXG59KTtcclxuIiwiaW1wb3J0IFBpQ29uZmlnIGZyb20gJ3B5bGxhci9jb25maWcnO1xyXG5pbXBvcnQgUGlNb2RlbCBmcm9tICdweWxsYXIvbW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNwb3J0ZU1vZGVsIGV4dGVuZHMgUGlNb2RlbCB7XHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgc3VwZXIuaW5pdChQaUNvbmZpZy5nZXQoJ2VuZHBvaW50LnRyYW5zcG9ydGUnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWN0aW9ucygpe1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdnZXQnOiAnR0VUOi8nLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBQaUNvbXBvbmVudCBmcm9tICdweWxsYXIvY29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV4QnV0dG9uIGV4dGVuZHMgUGlDb21wb25lbnQge1xyXG4gICAgdmlldyA9IC8qaHRtbCovYDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIDpjbGFzcz1cIntjbGFzc2VzfVwiIEBjbGljaz1cImNsaWNrKCRldmVudClcIj57QGxhYmVsfTwvYnV0dG9uPmA7XHJcblxyXG4gICAgaW5zdGFuY2VzKCkge1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxhYmVsID0gXCJVeEJ1dHRvblwiO1xyXG4gICAgICAgIHRoaXMuY2xhc3NlcyA9ICdidG4gYnRuLWZpbGxlZCc7XHJcbiAgICAgICAgdGhpcy5sb2FkaW5nTGFiZWwgPSAnQWd1YXJkZSAuLi4nO1xyXG4gICAgfVxyXG5cclxuICAgIGxvY2soKSB7XHJcbiAgICAgICAgdGhpcy5fbGFiZWwgPSB0aGlzLmxhYmVsO1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSB0aGlzLmxvYWRpbmdMYWJlbDtcclxuICAgICAgICB0aGlzLl9sb2NrID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1bmxvY2soKSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMuX2xhYmVsO1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGljayhlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9sb2NrKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubG9jaygpO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcImNsaWNrXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuUGlDb21wb25lbnQucmVnaXN0ZXIoVXhCdXR0b24pOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0XCJtYWluXCI6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImltcG9ydCB7IGdsb2JhbCB9IGZyb20gXCJweWxsYXIvZW52XCI7XHJcbmltcG9ydCBCb290c3RyYXAgZnJvbSBcInB5bGxhci9ib290c3RyYXBcIjtcclxuaW1wb3J0IFBpQ29uZmlnIGZyb20gXCJweWxsYXIvY29uZmlnXCI7XHJcblxyXG5pbXBvcnQgSG9tZVBhZ2UgZnJvbSBcIi4vaG9tZXBhZ2UvSG9tZVBhZ2VcIjtcclxuaW1wb3J0IENpZnJhU2VydmljZSBmcm9tIFwiLi9jaWZyYS9DaWZyYVNlcnZpY2VcIjtcclxuXHJcbmltcG9ydCBcIi4vYXBwLmNzc1wiXHJcbmltcG9ydCBMaXN0Q2lmcmFzVmlldyBmcm9tIFwiLi9jaWZyYS9MaXN0Q2lmcmFzVmlld1wiO1xyXG5cclxuaWYgKHdpbmRvdy5hcHBTZXR0aW5ncykge1xyXG4gICAgUGlDb25maWcubG9hZChhcHBTZXR0aW5ncyk7XHJcbn1cclxuXHJcblBpQ29uZmlnLnNldCgncmVxdWVzdC5mZXRjaCcsIGZ1bmN0aW9uICh1cmwsIHNldHRpbmdzLCBzdWNjZXNzLCBlcnJvciwgbmV4dCkge1xyXG4gICAgbmV4dCgpO1xyXG59KTtcclxuXHJcbm5ldyBCb290c3RyYXAoKVxyXG4gICAgLm9uTG9hZCgoYm9vdCkgPT4ge1xyXG4gICAgICAgIGJvb3QuYWRkU2VydmljZXMobmV3IENpZnJhU2VydmljZSgpKTtcclxuICAgIH0pXHJcbiAgICAub25SZWFkeSgoYm9vdCkgPT4ge1xyXG4gICAgICAgIGJvb3Quc3RhcnRTZXJ2aWNlcygpO1xyXG4gICAgICAgIGNvbnN0IGhvbWVwYWdlID0gbmV3IEhvbWVQYWdlKCk7XHJcbiAgICAgICAgaG9tZXBhZ2UucmVuZGVyKGdsb2JhbC5hcHAuJGVsZW1lbnQpO1xyXG4gICAgICAgIGhvbWVwYWdlLnNldFZpZXcobmV3IExpc3RDaWZyYXNWaWV3KCkpO1xyXG4gICAgfSlcclxuICAgIC5sb2FkKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9